import{s as g0,n as Ep,c as bp}from"../chunks/scheduler.Bmg8oFKD.js";import{S as _0,i as y0,e as Re,s as _n,t as hf,c as Ue,a as Mi,y as Xn,f as yn,d as We,b as df,o as oe,g as Gr,h as ve,z as Tp,A as P1,j as Mh,u as x1,B as M1,v as N1,w as C1,n as R1,l as U1,x as H1}from"../chunks/index.DNF_pTLA.js";import{getConnectionStatus as D1}from"../chunks/connectElectrum.CxH3mnJS.js";import{B as M,d as L1}from"../chunks/index.BKD8Dact.js";import{h as B1,i as go,j as w0,s as F1,b as W1,c as Y1}from"../chunks/doichain-store.By_VzKP0.js";const $1=!0,G1="always",bb=Object.freeze(Object.defineProperty({__proto__:null,prerender:$1,trailingSlash:G1},Symbol.toStringTag,{value:"Module"}));function Op(t){let r=[];const s=t.length;return s<76?r.push(s):s<=255?r.push(76,s):s<=65535?r.push(77,s&255,s>>>8):r.push(78,s&255,s>>>8&255,s>>>16&255,s>>>24),r=M.from(r).toString("hex").concat(M.from(t).toString("hex")),r}var m0={},$t={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.testnet=Tt.regtest=Tt.bitcoin=void 0;Tt.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};Tt.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};Tt.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};var rh={},bf={},ih={},Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.encode=Kr.decode=Kr.check=void 0;function K1(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;const r=t[3];if(r===0||5+r>=t.length||t[4+r]!==2)return!1;const s=t[5+r];return!(s===0||6+r+s!==t.length||t[4]&128||r>1&&t[4]===0&&!(t[5]&128)||t[r+6]&128||s>1&&t[r+6]===0&&!(t[r+7]&128))}Kr.check=K1;function V1(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");const r=t[3];if(r===0)throw new Error("R length is zero");if(5+r>=t.length)throw new Error("R length is too long");if(t[4+r]!==2)throw new Error("Expected DER integer (2)");const s=t[5+r];if(s===0)throw new Error("S length is zero");if(6+r+s!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(r>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[r+6]&128)throw new Error("S value is negative");if(s>1&&t[r+6]===0&&!(t[r+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+r),s:t.slice(6+r)}}Kr.decode=V1;function q1(t,r){const s=t.length,u=r.length;if(s===0)throw new Error("R length is zero");if(u===0)throw new Error("S length is zero");if(s>33)throw new Error("R length is too long");if(u>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(r[0]&128)throw new Error("S value is negative");if(s>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(u>1&&r[0]===0&&!(r[1]&128))throw new Error("S value excessively padded");const f=M.allocUnsafe(6+s+u);return f[0]=48,f[1]=f.length-2,f[2]=2,f[3]=t.length,t.copy(f,4),f[4+s]=2,f[5+s]=r.length,r.copy(f,6+s),f}Kr.encode=q1;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.REVERSE_OPS=Ri.OPS=void 0;const bh={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};Ri.OPS=bh;const S0={};Ri.REVERSE_OPS=S0;for(const t of Object.keys(bh)){const r=bh[t];S0[r]=t}var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.decode=Ni.encode=Ni.encodingLength=void 0;const xi=Ri;function v0(t){return t<xi.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}Ni.encodingLength=v0;function z1(t,r,s){const u=v0(r);return u===1?t.writeUInt8(r,s):u===2?(t.writeUInt8(xi.OPS.OP_PUSHDATA1,s),t.writeUInt8(r,s+1)):u===3?(t.writeUInt8(xi.OPS.OP_PUSHDATA2,s),t.writeUInt16LE(r,s+1)):(t.writeUInt8(xi.OPS.OP_PUSHDATA4,s),t.writeUInt32LE(r,s+1)),u}Ni.encode=z1;function j1(t,r){const s=t.readUInt8(r);let u,f;if(s<xi.OPS.OP_PUSHDATA1)u=s,f=1;else if(s===xi.OPS.OP_PUSHDATA1){if(r+2>t.length)return null;u=t.readUInt8(r+1),f=2}else if(s===xi.OPS.OP_PUSHDATA2){if(r+3>t.length)return null;u=t.readUInt16LE(r+1),f=3}else{if(r+5>t.length)return null;if(s!==xi.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");u=t.readUInt32LE(r+1),f=5}return{opcode:s,number:u,size:f}}Ni.decode=j1;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.encode=bo.decode=void 0;function X1(t,r,s){r=r||4,s=s===void 0?!0:s;const u=t.length;if(u===0)return 0;if(u>r)throw new TypeError("Script number overflow");if(s&&!(t[u-1]&127)&&(u<=1||!(t[u-2]&128)))throw new Error("Non-minimally encoded script number");if(u===5){const d=t.readUInt32LE(0),h=t.readUInt8(4);return h&128?-((h&-129)*4294967296+d):h*4294967296+d}let f=0;for(let d=0;d<u;++d)f|=t[d]<<8*d;return t[u-1]&128?-(f&~(128<<8*(u-1))):f}bo.decode=X1;function Z1(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function J1(t){let r=Math.abs(t);const s=Z1(r),u=M.allocUnsafe(s),f=t<0;for(let d=0;d<s;++d)u.writeUInt8(r&255,d),r>>=8;return u[s-1]&128?u.writeUInt8(f?128:0,s-1):f&&(u[s-1]|=128),u}bo.encode=J1;var os={},Ct={};const Tf=B1(L1);var wu={Array:function(t){return t!=null&&t.constructor===Array},Boolean:function(t){return typeof t=="boolean"},Function:function(t){return typeof t=="function"},Nil:function(t){return t==null},Number:function(t){return typeof t=="number"},Object:function(t){return typeof t=="object"},String:function(t){return typeof t=="string"},"":function(){return!0}};wu.Null=wu.Nil;for(var kp in wu)wu[kp].toJSON=(function(t){return t}).bind(null,kp);var Nh=wu,fs=Nh;function E0(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function Ch(t){return fs.Nil(t)?"":E0(t.constructor)}function Q1(t){return fs.Function(t)?"":fs.String(t)?JSON.stringify(t):t&&fs.Object(t)?"":t}function Rh(t,r){Error.captureStackTrace&&Error.captureStackTrace(t,r)}function pf(t){return fs.Function(t)?t.toJSON?t.toJSON():E0(t):fs.Array(t)?"Array":t&&fs.Object(t)?"Object":t!==void 0?t:""}function b0(t,r,s){var u=Q1(r);return"Expected "+pf(t)+", got"+(s!==""?" "+s:"")+(u!==""?" "+u:"")}function zr(t,r,s){s=s||Ch(r),this.message=b0(t,r,s),Rh(this,zr),this.__type=t,this.__value=r,this.__valueTypeName=s}zr.prototype=Object.create(Error.prototype);zr.prototype.constructor=zr;function eS(t,r,s,u,f){var d='" of type ';return r==="key"&&(d='" with key type '),b0('property "'+pf(s)+d+pf(t),u,f)}function So(t,r,s,u,f){t?(f=f||Ch(u),this.message=eS(t,s,r,u,f)):this.message='Unexpected property "'+r+'"',Rh(this,zr),this.__label=s,this.__property=r,this.__type=t,this.__value=u,this.__valueTypeName=f}So.prototype=Object.create(Error.prototype);So.prototype.constructor=zr;function tS(t,r){return new zr(t,{},r)}function nS(t,r,s){return t instanceof So?(r=r+"."+t.__property,t=new So(t.__type,r,t.__label,t.__value,t.__valueTypeName)):t instanceof zr&&(t=new So(t.__type,r,s,t.__value,t.__valueTypeName)),Rh(t),t}var T0={TfTypeError:zr,TfPropertyTypeError:So,tfCustomError:tS,tfSubError:nS,tfJSON:pf,getValueTypeName:Ch},sh,Ip;function rS(){if(Ip)return sh;Ip=1;var t=Nh,r=T0;function s(U){return M.isBuffer(U)}function u(U){return typeof U=="string"&&/^([0-9a-f]{2})+$/i.test(U)}function f(U,q){var ne=U.toJSON();function V(ie){if(!U(ie))return!1;if(ie.length===q)return!0;throw r.tfCustomError(ne+"(Length: "+q+")",ne+"(Length: "+ie.length+")")}return V.toJSON=function(){return ne},V}var d=f.bind(null,t.Array),h=f.bind(null,s),_=f.bind(null,u),S=f.bind(null,t.String);function T(U,q,ne){ne=ne||t.Number;function V(ie,Pe){return ne(ie,Pe)&&ie>U&&ie<q}return V.toJSON=function(){return`${ne.toJSON()} between [${U}, ${q}]`},V}var O=Math.pow(2,53)-1;function v(U){return typeof U=="number"&&isFinite(U)}function R(U){return U<<24>>24===U}function b(U){return U<<16>>16===U}function H(U){return(U|0)===U}function D(U){return typeof U=="number"&&U>=-O&&U<=O&&Math.floor(U)===U}function C(U){return(U&255)===U}function z(U){return(U&65535)===U}function Z(U){return U>>>0===U}function x(U){return typeof U=="number"&&U>=0&&U<=O&&Math.floor(U)===U}var N={ArrayN:d,Buffer:s,BufferN:h,Finite:v,Hex:u,HexN:_,Int8:R,Int16:b,Int32:H,Int53:D,Range:T,StringN:S,UInt8:C,UInt16:z,UInt32:Z,UInt53:x};for(var W in N)N[W].toJSON=(function(U){return U}).bind(null,W);return sh=N,sh}var Su=T0,Nt=Nh,Lr=Su.tfJSON,O0=Su.TfTypeError,k0=Su.TfPropertyTypeError,iu=Su.tfSubError,iS=Su.getValueTypeName,$r={arrayOf:function(r,s){r=yr(r),s=s||{};function u(f,d){return!Nt.Array(f)||Nt.Nil(f)||s.minLength!==void 0&&f.length<s.minLength||s.maxLength!==void 0&&f.length>s.maxLength||s.length!==void 0&&f.length!==s.length?!1:f.every(function(h,_){try{return qt(r,h,d)}catch(S){throw iu(S,_)}})}return u.toJSON=function(){var f="["+Lr(r)+"]";return s.length!==void 0?f+="{"+s.length+"}":(s.minLength!==void 0||s.maxLength!==void 0)&&(f+="{"+(s.minLength===void 0?0:s.minLength)+","+(s.maxLength===void 0?1/0:s.maxLength)+"}"),f},u},maybe:function t(r){r=yr(r);function s(u,f){return Nt.Nil(u)||r(u,f,t)}return s.toJSON=function(){return"?"+Lr(r)},s},map:function(r,s){r=yr(r),s&&(s=yr(s));function u(f,d){if(!Nt.Object(f)||Nt.Nil(f))return!1;for(var h in f){try{s&&qt(s,h,d)}catch(S){throw iu(S,h,"key")}try{var _=f[h];qt(r,_,d)}catch(S){throw iu(S,h)}}return!0}return s?u.toJSON=function(){return"{"+Lr(s)+": "+Lr(r)+"}"}:u.toJSON=function(){return"{"+Lr(r)+"}"},u},object:function(r){var s={};for(var u in r)s[u]=yr(r[u]);function f(d,h){if(!Nt.Object(d)||Nt.Nil(d))return!1;var _;try{for(_ in s){var S=s[_],T=d[_];qt(S,T,h)}}catch(O){throw iu(O,_)}if(h){for(_ in d)if(!s[_])throw new k0(void 0,_)}return!0}return f.toJSON=function(){return Lr(s)},f},anyOf:function(){var r=[].slice.call(arguments).map(yr);function s(u,f){return r.some(function(d){try{return qt(d,u,f)}catch{return!1}})}return s.toJSON=function(){return r.map(Lr).join("|")},s},allOf:function(){var r=[].slice.call(arguments).map(yr);function s(u,f){return r.every(function(d){try{return qt(d,u,f)}catch{return!1}})}return s.toJSON=function(){return r.map(Lr).join(" & ")},s},quacksLike:function(r){function s(u){return r===iS(u)}return s.toJSON=function(){return r},s},tuple:function(){var r=[].slice.call(arguments).map(yr);function s(u,f){return Nt.Nil(u)||Nt.Nil(u.length)||f&&u.length!==r.length?!1:r.every(function(d,h){try{return qt(d,u[h],f)}catch(_){throw iu(_,h)}})}return s.toJSON=function(){return"("+r.map(Lr).join(", ")+")"},s},value:function(r){function s(u){return u===r}return s.toJSON=function(){return r},s}};$r.oneOf=$r.anyOf;function yr(t){if(Nt.String(t))return t[0]==="?"?$r.maybe(t.slice(1)):Nt[t]||$r.quacksLike(t);if(t&&Nt.Object(t)){if(Nt.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return $r.arrayOf(t[0])}return $r.object(t)}else if(Nt.Function(t))return t;return $r.value(t)}function qt(t,r,s,u){if(Nt.Function(t)){if(t(r,s))return!0;throw new O0(u||t,r)}return qt(yr(t),r,s)}for(var Ci in Nt)qt[Ci]=Nt[Ci];for(Ci in $r)qt[Ci]=$r[Ci];var Ap=rS();for(Ci in Ap)qt[Ci]=Ap[Ci];qt.compile=yr;qt.TfTypeError=O0;qt.TfPropertyTypeError=k0;var sS=qt;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.isTaptree=t.isTapleaf=t.TAPLEAF_VERSION_MASK=t.Satoshi=t.isPoint=t.stacksEqual=t.typeforce=void 0;const r=Tf;t.typeforce=sS;const s=r.Buffer.alloc(32,0),u=r.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function f(O,v){return O.length!==v.length?!1:O.every((R,b)=>R.equals(v[b]))}t.stacksEqual=f;function d(O){if(!r.Buffer.isBuffer(O)||O.length<33)return!1;const v=O[0],R=O.slice(1,33);if(R.compare(s)===0||R.compare(u)>=0)return!1;if((v===2||v===3)&&O.length===33)return!0;const b=O.slice(33);return b.compare(s)===0||b.compare(u)>=0?!1:v===4&&O.length===65}t.isPoint=d;const h=21*1e14;function _(O){return t.typeforce.UInt53(O)&&O<=h}t.Satoshi=_,t.TAPLEAF_VERSION_MASK=254;function S(O){return!O||!("output"in O)||!r.Buffer.isBuffer(O.output)?!1:O.version!==void 0?(O.version&t.TAPLEAF_VERSION_MASK)===O.version:!0}t.isTapleaf=S;function T(O){return(0,t.Array)(O)?O.length!==2?!1:O.every(v=>T(v)):S(O)}t.isTaptree=T,t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf})(Ct);var Pp;function oS(){if(Pp)return os;Pp=1,Object.defineProperty(os,"__esModule",{value:!0}),os.encode=os.decode=void 0;const t=Kr,r=zt(),s=Ct,{typeforce:u}=s,f=M.alloc(1,0);function d(T){let O=0;for(;T[O]===0;)++O;return O===T.length?f:(T=T.slice(O),T[0]&128?M.concat([f,T],1+T.length):T)}function h(T){T[0]===0&&(T=T.slice(1));const O=M.alloc(32,0),v=Math.max(0,32-T.length);return T.copy(O,v),O}function _(T){const O=T.readUInt8(T.length-1);if(!(0,r.isDefinedHashType)(O))throw new Error("Invalid hashType "+O);const v=t.decode(T.slice(0,-1)),R=h(v.r),b=h(v.s);return{signature:M.concat([R,b],64),hashType:O}}os.decode=_;function S(T,O){if(u({signature:s.BufferN(64),hashType:s.UInt8},{signature:T,hashType:O}),!(0,r.isDefinedHashType)(O))throw new Error("Invalid hashType "+O);const v=M.allocUnsafe(1);v.writeUInt8(O,0);const R=d(T.slice(0,32)),b=d(T.slice(32,64));return M.concat([t.encode(R,b),v])}return os.encode=S,os}var xp;function zt(){return xp||(xp=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.countNonPushOnlyOPs=t.isPushOnly=t.OPS=void 0;const r=Kr,s=Ri;Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return s.OPS}});const u=Ni,f=bo,d=oS(),h=Ct,{typeforce:_}=h,S=s.OPS.OP_RESERVED;function T(V){return h.Number(V)&&(V===s.OPS.OP_0||V>=s.OPS.OP_1&&V<=s.OPS.OP_16||V===s.OPS.OP_1NEGATE)}function O(V){return h.Buffer(V)||T(V)}function v(V){return h.Array(V)&&V.every(O)}t.isPushOnly=v;function R(V){return V.length-V.filter(O).length}t.countNonPushOnlyOPs=R;function b(V){if(V.length===0)return s.OPS.OP_0;if(V.length===1){if(V[0]>=1&&V[0]<=16)return S+V[0];if(V[0]===129)return s.OPS.OP_1NEGATE}}function H(V){return M.isBuffer(V)}function D(V){return h.Array(V)}function C(V){return M.isBuffer(V)}function z(V){if(H(V))return V;_(h.Array,V);const ie=V.reduce((X,he)=>C(he)?he.length===1&&b(he)!==void 0?X+1:X+u.encodingLength(he.length)+he.length:X+1,0),Pe=M.allocUnsafe(ie);let Y=0;if(V.forEach(X=>{if(C(X)){const he=b(X);if(he!==void 0){Pe.writeUInt8(he,Y),Y+=1;return}Y+=u.encode(Pe,X.length,Y),X.copy(Pe,Y),Y+=X.length}else Pe.writeUInt8(X,Y),Y+=1}),Y!==Pe.length)throw new Error("Could not decode chunks");return Pe}t.compile=z;function Z(V){if(D(V))return V;_(h.Buffer,V);const ie=[];let Pe=0;for(;Pe<V.length;){const Y=V[Pe];if(Y>s.OPS.OP_0&&Y<=s.OPS.OP_PUSHDATA4){const X=u.decode(V,Pe);if(X===null||(Pe+=X.size,Pe+X.number>V.length))return null;const he=V.slice(Pe,Pe+X.number);Pe+=X.number;const Oe=b(he);Oe!==void 0?ie.push(Oe):ie.push(he)}else ie.push(Y),Pe+=1}return ie}t.decompile=Z;function x(V){if(H(V)&&(V=Z(V)),!V)throw new Error("Could not convert invalid chunks to ASM");return V.map(ie=>{if(C(ie)){const Pe=b(ie);if(Pe===void 0)return ie.toString("hex");ie=Pe}return s.REVERSE_OPS[ie]}).join(" ")}t.toASM=x;function N(V){return _(h.String,V),z(V.split(" ").map(ie=>s.OPS[ie]!==void 0?s.OPS[ie]:(_(h.Hex,ie),M.from(ie,"hex"))))}t.fromASM=N;function W(V){return V=Z(V),_(v,V),V.map(ie=>C(ie)?ie:ie===s.OPS.OP_0?M.allocUnsafe(0):f.encode(ie-S))}t.toStack=W;function U(V){return h.isPoint(V)}t.isCanonicalPubKey=U;function q(V){const ie=V&-129;return ie>0&&ie<4}t.isDefinedHashType=q;function ne(V){return!M.isBuffer(V)||!q(V[V.length-1])?!1:r.check(V.slice(0,-1))}t.isCanonicalScriptSignature=ne,t.number=f,t.signature=d}(ih)),ih}var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.value=mn.prop=void 0;function uS(t,r,s){Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get(){const u=s.call(this);return this[r]=u,u},set(u){Object.defineProperty(this,r,{configurable:!0,enumerable:!0,value:u,writable:!0})}})}mn.prop=uS;function aS(t){let r;return()=>(r!==void 0||(r=t()),r)}mn.value=aS;Object.defineProperty(bf,"__esModule",{value:!0});bf.p2data=void 0;const fS=Tt,uf=zt(),hr=Ct,Mp=mn,Np=uf.OPS;function cS(t,r){if(!t.data&&!t.output)throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{}),(0,hr.typeforce)({network:hr.typeforce.maybe(hr.typeforce.Object),output:hr.typeforce.maybe(hr.typeforce.Buffer),data:hr.typeforce.maybe(hr.typeforce.arrayOf(hr.typeforce.Buffer))},t);const u={name:"embed",network:t.network||fS.bitcoin};if(Mp.prop(u,"output",()=>{if(t.data)return uf.compile([Np.OP_RETURN].concat(t.data))}),Mp.prop(u,"data",()=>{if(t.output)return uf.decompile(t.output).slice(1)}),r.validate&&t.output){const f=uf.decompile(t.output);if(f[0]!==Np.OP_RETURN)throw new TypeError("Output is invalid");if(!f.slice(1).every(hr.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!(0,hr.stacksEqual)(t.data,u.data))throw new TypeError("Data mismatch")}return Object.assign(u,t)}bf.p2data=cS;var Of={};Object.defineProperty(Of,"__esModule",{value:!0});Of.p2ms=void 0;const lS=Tt,_o=zt(),ht=Ct,bi=mn,yo=_o.OPS,Xa=yo.OP_RESERVED;function hS(t,r){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{});function s(S){return _o.isCanonicalScriptSignature(S)||(r.allowIncomplete&&S===yo.OP_0)!==void 0}(0,ht.typeforce)({network:ht.typeforce.maybe(ht.typeforce.Object),m:ht.typeforce.maybe(ht.typeforce.Number),n:ht.typeforce.maybe(ht.typeforce.Number),output:ht.typeforce.maybe(ht.typeforce.Buffer),pubkeys:ht.typeforce.maybe(ht.typeforce.arrayOf(ht.isPoint)),signatures:ht.typeforce.maybe(ht.typeforce.arrayOf(s)),input:ht.typeforce.maybe(ht.typeforce.Buffer)},t);const f={network:t.network||lS.bitcoin};let d=[],h=!1;function _(S){h||(h=!0,d=_o.decompile(S),f.m=d[0]-Xa,f.n=d[d.length-2]-Xa,f.pubkeys=d.slice(1,-2))}if(bi.prop(f,"output",()=>{if(t.m&&f.n&&t.pubkeys)return _o.compile([].concat(Xa+t.m,t.pubkeys,Xa+f.n,yo.OP_CHECKMULTISIG))}),bi.prop(f,"m",()=>{if(f.output)return _(f.output),f.m}),bi.prop(f,"n",()=>{if(f.pubkeys)return f.pubkeys.length}),bi.prop(f,"pubkeys",()=>{if(t.output)return _(t.output),f.pubkeys}),bi.prop(f,"signatures",()=>{if(t.input)return _o.decompile(t.input).slice(1)}),bi.prop(f,"input",()=>{if(t.signatures)return _o.compile([yo.OP_0].concat(t.signatures))}),bi.prop(f,"witness",()=>{if(f.input)return[]}),bi.prop(f,"name",()=>{if(!(!f.m||!f.n))return`p2ms(${f.m} of ${f.n})`}),r.validate){if(t.output){if(_(t.output),!ht.typeforce.Number(d[0]))throw new TypeError("Output is invalid");if(!ht.typeforce.Number(d[d.length-2]))throw new TypeError("Output is invalid");if(d[d.length-1]!==yo.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(f.m<=0||f.n>16||f.m>f.n||f.n!==d.length-3)throw new TypeError("Output is invalid");if(!f.pubkeys.every(S=>(0,ht.isPoint)(S)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==f.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==f.n)throw new TypeError("n mismatch");if(t.pubkeys&&!(0,ht.stacksEqual)(t.pubkeys,f.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(f.n=t.pubkeys.length,f.n<f.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<f.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>f.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==yo.OP_0)throw new TypeError("Input is invalid");if(f.signatures.length===0||!f.signatures.every(s))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!(0,ht.stacksEqual)(t.signatures,f.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(f,t)}Of.p2ms=hS;var kf={};Object.defineProperty(kf,"__esModule",{value:!0});kf.p2pk=void 0;const dS=Tt,wo=zt(),jn=Ct,ho=mn,Cp=wo.OPS;function pS(t,r){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{}),(0,jn.typeforce)({network:jn.typeforce.maybe(jn.typeforce.Object),output:jn.typeforce.maybe(jn.typeforce.Buffer),pubkey:jn.typeforce.maybe(jn.isPoint),signature:jn.typeforce.maybe(wo.isCanonicalScriptSignature),input:jn.typeforce.maybe(jn.typeforce.Buffer)},t);const s=ho.value(()=>wo.decompile(t.input)),f={name:"p2pk",network:t.network||dS.bitcoin};if(ho.prop(f,"output",()=>{if(t.pubkey)return wo.compile([t.pubkey,Cp.OP_CHECKSIG])}),ho.prop(f,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),ho.prop(f,"signature",()=>{if(t.input)return s()[0]}),ho.prop(f,"input",()=>{if(t.signature)return wo.compile([t.signature])}),ho.prop(f,"witness",()=>{if(f.input)return[]}),r.validate){if(t.output){if(t.output[t.output.length-1]!==Cp.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,jn.isPoint)(f.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(f.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(f.input))throw new TypeError("Signature mismatch");if(t.input){if(s().length!==1)throw new TypeError("Input is invalid");if(!wo.isCanonicalScriptSignature(f.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(f,t)}kf.p2pk=pS;var If={},mr={},To={},wr={},Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.isBytes=A0;Zn.number=gf;Zn.bool=I0;Zn.bytes=Uh;Zn.hash=P0;Zn.exists=x0;Zn.output=M0;function gf(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function I0(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function A0(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Uh(t,...r){if(!A0(t))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(t.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${t.length}`)}function P0(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");gf(t.outputLen),gf(t.blockLen)}function x0(t,r=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(r&&t.finished)throw new Error("Hash#digest() has already been called")}function M0(t,r){Uh(t);const s=r.outputLen;if(t.length<s)throw new Error(`digestInto() expects output buffer of length at least ${s}`)}const gS={number:gf,bool:I0,bytes:Uh,hash:P0,exists:x0,output:M0};Zn.default=gS;var vu={},Af={};Object.defineProperty(Af,"__esModule",{value:!0});Af.crypto=void 0;Af.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=u,t.byteSwap32=O,t.bytesToHex=R,t.hexToBytes=D,t.asyncLoop=z,t.utf8ToBytes=Z,t.toBytes=x,t.concatBytes=N,t.checkOpts=q,t.wrapConstructor=ne,t.wrapConstructorWithOpts=V,t.wrapXOFConstructorWithOpts=ie,t.randomBytes=Pe;const r=Af,s=Zn;function u(Y){return Y instanceof Uint8Array||Y!=null&&typeof Y=="object"&&Y.constructor.name==="Uint8Array"}const f=Y=>new Uint8Array(Y.buffer,Y.byteOffset,Y.byteLength);t.u8=f;const d=Y=>new Uint32Array(Y.buffer,Y.byteOffset,Math.floor(Y.byteLength/4));t.u32=d;const h=Y=>new DataView(Y.buffer,Y.byteOffset,Y.byteLength);t.createView=h;const _=(Y,X)=>Y<<32-X|Y>>>X;t.rotr=_;const S=(Y,X)=>Y<<X|Y>>>32-X>>>0;t.rotl=S,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const T=Y=>Y<<24&4278190080|Y<<8&16711680|Y>>>8&65280|Y>>>24&255;t.byteSwap=T,t.byteSwapIfBE=t.isLE?Y=>Y:Y=>(0,t.byteSwap)(Y);function O(Y){for(let X=0;X<Y.length;X++)Y[X]=(0,t.byteSwap)(Y[X])}const v=Array.from({length:256},(Y,X)=>X.toString(16).padStart(2,"0"));function R(Y){(0,s.bytes)(Y);let X="";for(let he=0;he<Y.length;he++)X+=v[Y[he]];return X}const b={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function H(Y){if(Y>=b._0&&Y<=b._9)return Y-b._0;if(Y>=b._A&&Y<=b._F)return Y-(b._A-10);if(Y>=b._a&&Y<=b._f)return Y-(b._a-10)}function D(Y){if(typeof Y!="string")throw new Error("hex string expected, got "+typeof Y);const X=Y.length,he=X/2;if(X%2)throw new Error("padded hex string expected, got unpadded hex of length "+X);const Oe=new Uint8Array(he);for(let Ne=0,Ye=0;Ne<he;Ne++,Ye+=2){const kt=H(Y.charCodeAt(Ye)),jt=H(Y.charCodeAt(Ye+1));if(kt===void 0||jt===void 0){const dt=Y[Ye]+Y[Ye+1];throw new Error('hex string expected, got non-hex character "'+dt+'" at index '+Ye)}Oe[Ne]=kt*16+jt}return Oe}const C=async()=>{};t.nextTick=C;async function z(Y,X,he){let Oe=Date.now();for(let Ne=0;Ne<Y;Ne++){he(Ne);const Ye=Date.now()-Oe;Ye>=0&&Ye<X||(await(0,t.nextTick)(),Oe+=Ye)}}function Z(Y){if(typeof Y!="string")throw new Error(`utf8ToBytes expected string, got ${typeof Y}`);return new Uint8Array(new TextEncoder().encode(Y))}function x(Y){return typeof Y=="string"&&(Y=Z(Y)),(0,s.bytes)(Y),Y}function N(...Y){let X=0;for(let Oe=0;Oe<Y.length;Oe++){const Ne=Y[Oe];(0,s.bytes)(Ne),X+=Ne.length}const he=new Uint8Array(X);for(let Oe=0,Ne=0;Oe<Y.length;Oe++){const Ye=Y[Oe];he.set(Ye,Ne),Ne+=Ye.length}return he}class W{clone(){return this._cloneInto()}}t.Hash=W;const U={}.toString;function q(Y,X){if(X!==void 0&&U.call(X)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(Y,X)}function ne(Y){const X=Oe=>Y().update(x(Oe)).digest(),he=Y();return X.outputLen=he.outputLen,X.blockLen=he.blockLen,X.create=()=>Y(),X}function V(Y){const X=(Oe,Ne)=>Y(Ne).update(x(Oe)).digest(),he=Y({});return X.outputLen=he.outputLen,X.blockLen=he.blockLen,X.create=Oe=>Y(Oe),X}function ie(Y){const X=(Oe,Ne)=>Y(Ne).update(x(Oe)).digest(),he=Y({});return X.outputLen=he.outputLen,X.blockLen=he.blockLen,X.create=Oe=>Y(Oe),X}function Pe(Y=32){if(r.crypto&&typeof r.crypto.getRandomValues=="function")return r.crypto.getRandomValues(new Uint8Array(Y));if(r.crypto&&typeof r.crypto.randomBytes=="function")return r.crypto.randomBytes(Y);throw new Error("crypto.getRandomValues must be defined")}})(vu);Object.defineProperty(wr,"__esModule",{value:!0});wr.HashMD=wr.Maj=wr.Chi=void 0;const oh=Zn,su=vu;function _S(t,r,s,u){if(typeof t.setBigUint64=="function")return t.setBigUint64(r,s,u);const f=BigInt(32),d=BigInt(4294967295),h=Number(s>>f&d),_=Number(s&d),S=u?4:0,T=u?0:4;t.setUint32(r+S,h,u),t.setUint32(r+T,_,u)}const yS=(t,r,s)=>t&r^~t&s;wr.Chi=yS;const wS=(t,r,s)=>t&r^t&s^r&s;wr.Maj=wS;class mS extends su.Hash{constructor(r,s,u,f){super(),this.blockLen=r,this.outputLen=s,this.padOffset=u,this.isLE=f,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(r),this.view=(0,su.createView)(this.buffer)}update(r){(0,oh.exists)(this);const{view:s,buffer:u,blockLen:f}=this;r=(0,su.toBytes)(r);const d=r.length;for(let h=0;h<d;){const _=Math.min(f-this.pos,d-h);if(_===f){const S=(0,su.createView)(r);for(;f<=d-h;h+=f)this.process(S,h);continue}u.set(r.subarray(h,h+_),this.pos),this.pos+=_,h+=_,this.pos===f&&(this.process(s,0),this.pos=0)}return this.length+=r.length,this.roundClean(),this}digestInto(r){(0,oh.exists)(this),(0,oh.output)(r,this),this.finished=!0;const{buffer:s,view:u,blockLen:f,isLE:d}=this;let{pos:h}=this;s[h++]=128,this.buffer.subarray(h).fill(0),this.padOffset>f-h&&(this.process(u,0),h=0);for(let v=h;v<f;v++)s[v]=0;_S(u,f-8,BigInt(this.length*8),d),this.process(u,0);const _=(0,su.createView)(r),S=this.outputLen;if(S%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const T=S/4,O=this.get();if(T>O.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<T;v++)_.setUint32(4*v,O[v],d)}digest(){const{buffer:r,outputLen:s}=this;this.digestInto(r);const u=r.slice(0,s);return this.destroy(),u}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:s,buffer:u,length:f,finished:d,destroyed:h,pos:_}=this;return r.length=f,r.pos=_,r.finished=d,r.destroyed=h,f%s&&r.buffer.set(u),r}}wr.HashMD=mS;Object.defineProperty(To,"__esModule",{value:!0});To.ripemd160=To.RIPEMD160=void 0;const SS=wr,lu=vu,vS=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),N0=new Uint8Array(new Array(16).fill(0).map((t,r)=>r)),ES=N0.map(t=>(9*t+5)%16);let Hh=[N0],Dh=[ES];for(let t=0;t<4;t++)for(let r of[Hh,Dh])r.push(r[t].map(s=>vS[s]));const C0=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),bS=Hh.map((t,r)=>t.map(s=>C0[r][s])),TS=Dh.map((t,r)=>t.map(s=>C0[r][s])),OS=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),kS=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function Rp(t,r,s,u){return t===0?r^s^u:t===1?r&s|~r&u:t===2?(r|~s)^u:t===3?r&u|s&~u:r^(s|~u)}const Za=new Uint32Array(16);class R0 extends SS.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:r,h1:s,h2:u,h3:f,h4:d}=this;return[r,s,u,f,d]}set(r,s,u,f,d){this.h0=r|0,this.h1=s|0,this.h2=u|0,this.h3=f|0,this.h4=d|0}process(r,s){for(let b=0;b<16;b++,s+=4)Za[b]=r.getUint32(s,!0);let u=this.h0|0,f=u,d=this.h1|0,h=d,_=this.h2|0,S=_,T=this.h3|0,O=T,v=this.h4|0,R=v;for(let b=0;b<5;b++){const H=4-b,D=OS[b],C=kS[b],z=Hh[b],Z=Dh[b],x=bS[b],N=TS[b];for(let W=0;W<16;W++){const U=(0,lu.rotl)(u+Rp(b,d,_,T)+Za[z[W]]+D,x[W])+v|0;u=v,v=T,T=(0,lu.rotl)(_,10)|0,_=d,d=U}for(let W=0;W<16;W++){const U=(0,lu.rotl)(f+Rp(H,h,S,O)+Za[Z[W]]+C,N[W])+R|0;f=R,R=O,O=(0,lu.rotl)(S,10)|0,S=h,h=U}}this.set(this.h1+_+O|0,this.h2+T+R|0,this.h3+v+f|0,this.h4+u+h|0,this.h0+d+S|0)}roundClean(){Za.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}To.RIPEMD160=R0;To.ripemd160=(0,lu.wrapConstructor)(()=>new R0);var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.sha1=Oo.SHA1=void 0;const uh=wr,af=vu,ou=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),Ti=new Uint32Array(80);class U0 extends uh.HashMD{constructor(){super(64,20,8,!1),this.A=ou[0]|0,this.B=ou[1]|0,this.C=ou[2]|0,this.D=ou[3]|0,this.E=ou[4]|0}get(){const{A:r,B:s,C:u,D:f,E:d}=this;return[r,s,u,f,d]}set(r,s,u,f,d){this.A=r|0,this.B=s|0,this.C=u|0,this.D=f|0,this.E=d|0}process(r,s){for(let S=0;S<16;S++,s+=4)Ti[S]=r.getUint32(s,!1);for(let S=16;S<80;S++)Ti[S]=(0,af.rotl)(Ti[S-3]^Ti[S-8]^Ti[S-14]^Ti[S-16],1);let{A:u,B:f,C:d,D:h,E:_}=this;for(let S=0;S<80;S++){let T,O;S<20?(T=(0,uh.Chi)(f,d,h),O=1518500249):S<40?(T=f^d^h,O=1859775393):S<60?(T=(0,uh.Maj)(f,d,h),O=2400959708):(T=f^d^h,O=3395469782);const v=(0,af.rotl)(u,5)+T+_+O+Ti[S]|0;_=h,h=d,d=(0,af.rotl)(f,30),f=u,u=v}u=u+this.A|0,f=f+this.B|0,d=d+this.C|0,h=h+this.D|0,_=_+this.E|0,this.set(u,f,d,h,_)}roundClean(){Ti.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}Oo.SHA1=U0;Oo.sha1=(0,af.wrapConstructor)(()=>new U0);var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.sha224=Vr.sha256=Vr.SHA256=void 0;const ah=wr,Cn=vu,IS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Oi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ki=new Uint32Array(64);class Lh extends ah.HashMD{constructor(){super(64,32,8,!1),this.A=Oi[0]|0,this.B=Oi[1]|0,this.C=Oi[2]|0,this.D=Oi[3]|0,this.E=Oi[4]|0,this.F=Oi[5]|0,this.G=Oi[6]|0,this.H=Oi[7]|0}get(){const{A:r,B:s,C:u,D:f,E:d,F:h,G:_,H:S}=this;return[r,s,u,f,d,h,_,S]}set(r,s,u,f,d,h,_,S){this.A=r|0,this.B=s|0,this.C=u|0,this.D=f|0,this.E=d|0,this.F=h|0,this.G=_|0,this.H=S|0}process(r,s){for(let v=0;v<16;v++,s+=4)ki[v]=r.getUint32(s,!1);for(let v=16;v<64;v++){const R=ki[v-15],b=ki[v-2],H=(0,Cn.rotr)(R,7)^(0,Cn.rotr)(R,18)^R>>>3,D=(0,Cn.rotr)(b,17)^(0,Cn.rotr)(b,19)^b>>>10;ki[v]=D+ki[v-7]+H+ki[v-16]|0}let{A:u,B:f,C:d,D:h,E:_,F:S,G:T,H:O}=this;for(let v=0;v<64;v++){const R=(0,Cn.rotr)(_,6)^(0,Cn.rotr)(_,11)^(0,Cn.rotr)(_,25),b=O+R+(0,ah.Chi)(_,S,T)+IS[v]+ki[v]|0,D=((0,Cn.rotr)(u,2)^(0,Cn.rotr)(u,13)^(0,Cn.rotr)(u,22))+(0,ah.Maj)(u,f,d)|0;O=T,T=S,S=_,_=h+b|0,h=d,d=f,f=u,u=b+D|0}u=u+this.A|0,f=f+this.B|0,d=d+this.C|0,h=h+this.D|0,_=_+this.E|0,S=S+this.F|0,T=T+this.G|0,O=O+this.H|0,this.set(u,f,d,h,_,S,T,O)}roundClean(){ki.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}Vr.SHA256=Lh;class AS extends Lh{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Vr.sha256=(0,Cn.wrapConstructor)(()=>new Lh);Vr.sha224=(0,Cn.wrapConstructor)(()=>new AS);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.TAGGED_HASH_PREFIXES=t.TAGS=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;const r=To,s=Oo,u=Vr;function f(O){return M.from((0,r.ripemd160)(Uint8Array.from(O)))}t.ripemd160=f;function d(O){return M.from((0,s.sha1)(Uint8Array.from(O)))}t.sha1=d;function h(O){return M.from((0,u.sha256)(Uint8Array.from(O)))}t.sha256=h;function _(O){return M.from((0,r.ripemd160)((0,u.sha256)(Uint8Array.from(O))))}t.hash160=_;function S(O){return M.from((0,u.sha256)((0,u.sha256)(Uint8Array.from(O))))}t.hash256=S,t.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],t.TAGGED_HASH_PREFIXES={"BIP0340/challenge":M.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":M.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":M.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:M.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:M.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:M.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:M.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":M.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":M.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function T(O,v){return h(M.concat([t.TAGGED_HASH_PREFIXES[O],v]))}t.taggedHash=T})(mr);function PS(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),s=0;s<r.length;s++)r[s]=255;for(var u=0;u<t.length;u++){var f=t.charAt(u),d=f.charCodeAt(0);if(r[d]!==255)throw new TypeError(f+" is ambiguous");r[d]=u}var h=t.length,_=t.charAt(0),S=Math.log(h)/Math.log(256),T=Math.log(256)/Math.log(h);function O(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var H=0,D=0,C=0,z=b.length;C!==z&&b[C]===0;)C++,H++;for(var Z=(z-C)*T+1>>>0,x=new Uint8Array(Z);C!==z;){for(var N=b[C],W=0,U=Z-1;(N!==0||W<D)&&U!==-1;U--,W++)N+=256*x[U]>>>0,x[U]=N%h>>>0,N=N/h>>>0;if(N!==0)throw new Error("Non-zero carry");D=W,C++}for(var q=Z-D;q!==Z&&x[q]===0;)q++;for(var ne=_.repeat(H);q<Z;++q)ne+=t.charAt(x[q]);return ne}function v(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;for(var H=0,D=0,C=0;b[H]===_;)D++,H++;for(var z=(b.length-H)*S+1>>>0,Z=new Uint8Array(z);b[H];){var x=r[b.charCodeAt(H)];if(x===255)return;for(var N=0,W=z-1;(x!==0||N<C)&&W!==-1;W--,N++)x+=h*Z[W]>>>0,Z[W]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");C=N,H++}for(var U=z-C;U!==z&&Z[U]===0;)U++;for(var q=new Uint8Array(D+(z-U)),ne=D;U!==z;)q[ne++]=Z[U++];return q}function R(b){var H=v(b);if(H)return H;throw new Error("Non-base"+h+" character")}return{encode:O,decodeUnsafe:v,decode:R}}var xS=PS;const MS=xS,NS="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var CS=MS(NS),fh=CS,RS=function(t){function r(d){var h=Uint8Array.from(d),_=t(h),S=h.length+4,T=new Uint8Array(S);return T.set(h,0),T.set(_.subarray(0,4),h.length),fh.encode(T,S)}function s(d){var h=d.slice(0,-4),_=d.slice(-4),S=t(h);if(!(_[0]^S[0]|_[1]^S[1]|_[2]^S[2]|_[3]^S[3]))return h}function u(d){var h=fh.decodeUnsafe(d);if(h)return s(h)}function f(d){var h=fh.decode(d),_=s(h);if(!_)throw new Error("Invalid checksum");return _}return{encode:r,decode:f,decodeUnsafe:u}},{sha256:Up}=Vr,US=RS;function HS(t){return Up(Up(t))}var Bh=US(HS);Object.defineProperty(If,"__esModule",{value:!0});If.p2pkh=void 0;const ch=mr,DS=Tt,mo=zt(),Gt=Ct,Br=mn,Hp=Bh,Ii=mo.OPS;function LS(t,r){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{}),(0,Gt.typeforce)({network:Gt.typeforce.maybe(Gt.typeforce.Object),address:Gt.typeforce.maybe(Gt.typeforce.String),hash:Gt.typeforce.maybe(Gt.typeforce.BufferN(20)),output:Gt.typeforce.maybe(Gt.typeforce.BufferN(25)),pubkey:Gt.typeforce.maybe(Gt.isPoint),signature:Gt.typeforce.maybe(mo.isCanonicalScriptSignature),input:Gt.typeforce.maybe(Gt.typeforce.Buffer)},t);const s=Br.value(()=>{const h=M.from(Hp.decode(t.address)),_=h.readUInt8(0),S=h.slice(1);return{version:_,hash:S}}),u=Br.value(()=>mo.decompile(t.input)),f=t.network||DS.bitcoin,d={name:"p2pkh",network:f};if(Br.prop(d,"address",()=>{if(!d.hash)return;const h=M.allocUnsafe(21);return h.writeUInt8(f.pubKeyHash,0),d.hash.copy(h,1),Hp.encode(h)}),Br.prop(d,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return s().hash;if(t.pubkey||d.pubkey)return ch.hash160(t.pubkey||d.pubkey)}),Br.prop(d,"output",()=>{if(d.hash)return mo.compile([Ii.OP_DUP,Ii.OP_HASH160,d.hash,Ii.OP_EQUALVERIFY,Ii.OP_CHECKSIG])}),Br.prop(d,"pubkey",()=>{if(t.input)return u()[1]}),Br.prop(d,"signature",()=>{if(t.input)return u()[0]}),Br.prop(d,"input",()=>{if(t.pubkey&&t.signature)return mo.compile([t.signature,t.pubkey])}),Br.prop(d,"witness",()=>{if(d.input)return[]}),r.validate){let h=M.from([]);if(t.address){if(s().version!==f.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(s().hash.length!==20)throw new TypeError("Invalid address");h=s().hash}if(t.hash){if(h.length>0&&!h.equals(t.hash))throw new TypeError("Hash mismatch");h=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==Ii.OP_DUP||t.output[1]!==Ii.OP_HASH160||t.output[2]!==20||t.output[23]!==Ii.OP_EQUALVERIFY||t.output[24]!==Ii.OP_CHECKSIG)throw new TypeError("Output is invalid");const _=t.output.slice(3,23);if(h.length>0&&!h.equals(_))throw new TypeError("Hash mismatch");h=_}if(t.pubkey){const _=ch.hash160(t.pubkey);if(h.length>0&&!h.equals(_))throw new TypeError("Hash mismatch");h=_}if(t.input){const _=u();if(_.length!==2)throw new TypeError("Input is invalid");if(!mo.isCanonicalScriptSignature(_[0]))throw new TypeError("Input has invalid signature");if(!(0,Gt.isPoint)(_[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(_[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(_[1]))throw new TypeError("Pubkey mismatch");const S=ch.hash160(_[1]);if(h.length>0&&!h.equals(S))throw new TypeError("Hash mismatch")}}return Object.assign(d,t)}If.p2pkh=LS;var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.p2sh=void 0;const Dp=mr,BS=Tt,gr=zt(),je=Ct,dr=mn,Lp=Bh,uu=gr.OPS;function FS(t,r){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{}),(0,je.typeforce)({network:je.typeforce.maybe(je.typeforce.Object),address:je.typeforce.maybe(je.typeforce.String),hash:je.typeforce.maybe(je.typeforce.BufferN(20)),output:je.typeforce.maybe(je.typeforce.BufferN(23)),redeem:je.typeforce.maybe({network:je.typeforce.maybe(je.typeforce.Object),output:je.typeforce.maybe(je.typeforce.Buffer),input:je.typeforce.maybe(je.typeforce.Buffer),witness:je.typeforce.maybe(je.typeforce.arrayOf(je.typeforce.Buffer))}),input:je.typeforce.maybe(je.typeforce.Buffer),witness:je.typeforce.maybe(je.typeforce.arrayOf(je.typeforce.Buffer))},t);let s=t.network;s||(s=t.redeem&&t.redeem.network||BS.bitcoin);const u={network:s},f=dr.value(()=>{const _=M.from(Lp.decode(t.address)),S=_.readUInt8(0),T=_.slice(1);return{version:S,hash:T}}),d=dr.value(()=>gr.decompile(t.input)),h=dr.value(()=>{const _=d(),S=_[_.length-1];return{network:s,output:S===uu.OP_FALSE?M.from([]):S,input:gr.compile(_.slice(0,-1)),witness:t.witness||[]}});if(dr.prop(u,"address",()=>{if(!u.hash)return;const _=M.allocUnsafe(21);return _.writeUInt8(u.network.scriptHash,0),u.hash.copy(_,1),Lp.encode(_)}),dr.prop(u,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return f().hash;if(u.redeem&&u.redeem.output)return Dp.hash160(u.redeem.output)}),dr.prop(u,"output",()=>{if(u.hash)return gr.compile([uu.OP_HASH160,u.hash,uu.OP_EQUAL])}),dr.prop(u,"redeem",()=>{if(t.input)return h()}),dr.prop(u,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return gr.compile([].concat(gr.decompile(t.redeem.input),t.redeem.output))}),dr.prop(u,"witness",()=>{if(u.redeem&&u.redeem.witness)return u.redeem.witness;if(u.input)return[]}),dr.prop(u,"name",()=>{const _=["p2sh"];return u.redeem!==void 0&&u.redeem.name!==void 0&&_.push(u.redeem.name),_.join("-")}),r.validate){let _=M.from([]);if(t.address){if(f().version!==s.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(f().hash.length!==20)throw new TypeError("Invalid address");_=f().hash}if(t.hash){if(_.length>0&&!_.equals(t.hash))throw new TypeError("Hash mismatch");_=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==uu.OP_HASH160||t.output[1]!==20||t.output[22]!==uu.OP_EQUAL)throw new TypeError("Output is invalid");const T=t.output.slice(2,22);if(_.length>0&&!_.equals(T))throw new TypeError("Hash mismatch");_=T}const S=T=>{if(T.output){const O=gr.decompile(T.output);if(!O||O.length<1)throw new TypeError("Redeem.output too short");if(T.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(gr.countNonPushOnlyOPs(O)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const v=Dp.hash160(T.output);if(_.length>0&&!_.equals(v))throw new TypeError("Hash mismatch");_=v}if(T.input){const O=T.input.length>0,v=T.witness&&T.witness.length>0;if(!O&&!v)throw new TypeError("Empty input");if(O&&v)throw new TypeError("Input and witness provided");if(O){const R=gr.decompile(T.input);if(!gr.isPushOnly(R))throw new TypeError("Non push-only scriptSig")}}};if(t.input){const T=d();if(!T||T.length<1)throw new TypeError("Input too short");if(!M.isBuffer(h().output))throw new TypeError("Input is invalid");S(h())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==s)throw new TypeError("Network mismatch");if(t.input){const T=h();if(t.redeem.output&&!t.redeem.output.equals(T.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(T.input))throw new TypeError("Redeem.input mismatch")}S(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!(0,je.stacksEqual)(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(u,t)}Pf.p2sh=FS;var xf={},jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.bech32m=jr.bech32=void 0;const _f="qpzry9x8gf2tvdw0s3jn54khce6mua7l",H0={};for(let t=0;t<_f.length;t++){const r=_f.charAt(t);H0[r]=t}function vo(t){const r=t>>25;return(t&33554431)<<5^-(r>>0&1)&996825010^-(r>>1&1)&642813549^-(r>>2&1)&513874426^-(r>>3&1)&1027748829^-(r>>4&1)&705979059}function Bp(t){let r=1;for(let s=0;s<t.length;++s){const u=t.charCodeAt(s);if(u<33||u>126)return"Invalid prefix ("+t+")";r=vo(r)^u>>5}r=vo(r);for(let s=0;s<t.length;++s){const u=t.charCodeAt(s);r=vo(r)^u&31}return r}function Fh(t,r,s,u){let f=0,d=0;const h=(1<<s)-1,_=[];for(let S=0;S<t.length;++S)for(f=f<<r|t[S],d+=r;d>=s;)d-=s,_.push(f>>d&h);if(u)d>0&&_.push(f<<s-d&h);else{if(d>=r)return"Excess padding";if(f<<s-d&h)return"Non-zero padding"}return _}function WS(t){return Fh(t,8,5,!0)}function YS(t){const r=Fh(t,5,8,!1);if(Array.isArray(r))return r}function $S(t){const r=Fh(t,5,8,!1);if(Array.isArray(r))return r;throw new Error(r)}function D0(t){let r;t==="bech32"?r=1:r=734539939;function s(h,_,S){if(S=S||90,h.length+7+_.length>S)throw new TypeError("Exceeds length limit");h=h.toLowerCase();let T=Bp(h);if(typeof T=="string")throw new Error(T);let O=h+"1";for(let v=0;v<_.length;++v){const R=_[v];if(R>>5)throw new Error("Non 5-bit word");T=vo(T)^R,O+=_f.charAt(R)}for(let v=0;v<6;++v)T=vo(T);T^=r;for(let v=0;v<6;++v){const R=T>>(5-v)*5&31;O+=_f.charAt(R)}return O}function u(h,_){if(_=_||90,h.length<8)return h+" too short";if(h.length>_)return"Exceeds length limit";const S=h.toLowerCase(),T=h.toUpperCase();if(h!==S&&h!==T)return"Mixed-case string "+h;h=S;const O=h.lastIndexOf("1");if(O===-1)return"No separator character for "+h;if(O===0)return"Missing prefix for "+h;const v=h.slice(0,O),R=h.slice(O+1);if(R.length<6)return"Data too short";let b=Bp(v);if(typeof b=="string")return b;const H=[];for(let D=0;D<R.length;++D){const C=R.charAt(D),z=H0[C];if(z===void 0)return"Unknown character "+C;b=vo(b)^z,!(D+6>=R.length)&&H.push(z)}return b!==r?"Invalid checksum for "+h:{prefix:v,words:H}}function f(h,_){const S=u(h,_);if(typeof S=="object")return S}function d(h,_){const S=u(h,_);if(typeof S=="object")return S;throw new Error(S)}return{decodeUnsafe:f,decode:d,encode:s,toWords:WS,fromWordsUnsafe:YS,fromWords:$S}}jr.bech32=D0("bech32");jr.bech32m=D0("bech32m");Object.defineProperty(xf,"__esModule",{value:!0});xf.p2wpkh=void 0;const lh=mr,GS=Tt,ff=zt(),wt=Ct,Ai=mn,Ja=jr,Fp=ff.OPS,KS=M.alloc(0);function VS(t,r){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{}),(0,wt.typeforce)({address:wt.typeforce.maybe(wt.typeforce.String),hash:wt.typeforce.maybe(wt.typeforce.BufferN(20)),input:wt.typeforce.maybe(wt.typeforce.BufferN(0)),network:wt.typeforce.maybe(wt.typeforce.Object),output:wt.typeforce.maybe(wt.typeforce.BufferN(22)),pubkey:wt.typeforce.maybe(wt.isPoint),signature:wt.typeforce.maybe(ff.isCanonicalScriptSignature),witness:wt.typeforce.maybe(wt.typeforce.arrayOf(wt.typeforce.Buffer))},t);const s=Ai.value(()=>{const d=Ja.bech32.decode(t.address),h=d.words.shift(),_=Ja.bech32.fromWords(d.words);return{version:h,prefix:d.prefix,data:M.from(_)}}),u=t.network||GS.bitcoin,f={name:"p2wpkh",network:u};if(Ai.prop(f,"address",()=>{if(!f.hash)return;const d=Ja.bech32.toWords(f.hash);return d.unshift(0),Ja.bech32.encode(u.bech32,d)}),Ai.prop(f,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return s().data;if(t.pubkey||f.pubkey)return lh.hash160(t.pubkey||f.pubkey)}),Ai.prop(f,"output",()=>{if(f.hash)return ff.compile([Fp.OP_0,f.hash])}),Ai.prop(f,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),Ai.prop(f,"signature",()=>{if(t.witness)return t.witness[0]}),Ai.prop(f,"input",()=>{if(f.witness)return KS}),Ai.prop(f,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),r.validate){let d=M.from([]);if(t.address){if(u&&u.bech32!==s().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(s().version!==0)throw new TypeError("Invalid address version");if(s().data.length!==20)throw new TypeError("Invalid address data");d=s().data}if(t.hash){if(d.length>0&&!d.equals(t.hash))throw new TypeError("Hash mismatch");d=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==Fp.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(d.length>0&&!d.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");d=t.output.slice(2)}if(t.pubkey){const h=lh.hash160(t.pubkey);if(d.length>0&&!d.equals(h))throw new TypeError("Hash mismatch");if(d=h,!(0,wt.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!ff.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,wt.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");const h=lh.hash160(t.witness[1]);if(d.length>0&&!d.equals(h))throw new TypeError("Hash mismatch")}}return Object.assign(f,t)}xf.p2wpkh=VS;var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.p2wsh=void 0;const Wp=mr,qS=Tt,Yr=zt(),ze=Ct,Fr=mn,Qa=jr,Yp=Yr.OPS,hh=M.alloc(0);function ef(t){return!!(M.isBuffer(t)&&t.length===65&&t[0]===4&&(0,ze.isPoint)(t))}function zS(t,r){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");r=Object.assign({validate:!0},r||{}),(0,ze.typeforce)({network:ze.typeforce.maybe(ze.typeforce.Object),address:ze.typeforce.maybe(ze.typeforce.String),hash:ze.typeforce.maybe(ze.typeforce.BufferN(32)),output:ze.typeforce.maybe(ze.typeforce.BufferN(34)),redeem:ze.typeforce.maybe({input:ze.typeforce.maybe(ze.typeforce.Buffer),network:ze.typeforce.maybe(ze.typeforce.Object),output:ze.typeforce.maybe(ze.typeforce.Buffer),witness:ze.typeforce.maybe(ze.typeforce.arrayOf(ze.typeforce.Buffer))}),input:ze.typeforce.maybe(ze.typeforce.BufferN(0)),witness:ze.typeforce.maybe(ze.typeforce.arrayOf(ze.typeforce.Buffer))},t);const s=Fr.value(()=>{const h=Qa.bech32.decode(t.address),_=h.words.shift(),S=Qa.bech32.fromWords(h.words);return{version:_,prefix:h.prefix,data:M.from(S)}}),u=Fr.value(()=>Yr.decompile(t.redeem.input));let f=t.network;f||(f=t.redeem&&t.redeem.network||qS.bitcoin);const d={network:f};if(Fr.prop(d,"address",()=>{if(!d.hash)return;const h=Qa.bech32.toWords(d.hash);return h.unshift(0),Qa.bech32.encode(f.bech32,h)}),Fr.prop(d,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return s().data;if(d.redeem&&d.redeem.output)return Wp.sha256(d.redeem.output)}),Fr.prop(d,"output",()=>{if(d.hash)return Yr.compile([Yp.OP_0,d.hash])}),Fr.prop(d,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:hh,witness:t.witness.slice(0,-1)}}),Fr.prop(d,"input",()=>{if(d.witness)return hh}),Fr.prop(d,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){const h=Yr.toStack(u());return d.redeem=Object.assign({witness:h},t.redeem),d.redeem.input=hh,[].concat(h,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),Fr.prop(d,"name",()=>{const h=["p2wsh"];return d.redeem!==void 0&&d.redeem.name!==void 0&&h.push(d.redeem.name),h.join("-")}),r.validate){let h=M.from([]);if(t.address){if(s().prefix!==f.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(s().version!==0)throw new TypeError("Invalid address version");if(s().data.length!==32)throw new TypeError("Invalid address data");h=s().data}if(t.hash){if(h.length>0&&!h.equals(t.hash))throw new TypeError("Hash mismatch");h=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==Yp.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");const _=t.output.slice(2);if(h.length>0&&!h.equals(_))throw new TypeError("Hash mismatch");h=_}if(t.redeem){if(t.redeem.network&&t.redeem.network!==f)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){const _=Yr.decompile(t.redeem.output);if(!_||_.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(Yr.countNonPushOnlyOPs(_)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const S=Wp.sha256(t.redeem.output);if(h.length>0&&!h.equals(S))throw new TypeError("Hash mismatch");h=S}if(t.redeem.input&&!Yr.isPushOnly(u()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!(0,ze.stacksEqual)(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&u().some(ef)||t.redeem.output&&(Yr.decompile(t.redeem.output)||[]).some(ef))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){const _=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(_))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(ef)||(Yr.decompile(_)||[]).some(ef))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(d,t)}Mf.p2wsh=zS;var au={},Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.getEccLib=Ui.initEccLib=void 0;const _u={};function jS(t){t?t!==_u.eccLib&&(ZS(t),_u.eccLib=t):_u.eccLib=t}Ui.initEccLib=jS;function XS(){if(!_u.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return _u.eccLib}Ui.getEccLib=XS;const Wr=t=>M.from(t,"hex");function ZS(t){Nn(typeof t.isXOnlyPoint=="function"),Nn(t.isXOnlyPoint(Wr("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Nn(t.isXOnlyPoint(Wr("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),Nn(t.isXOnlyPoint(Wr("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),Nn(t.isXOnlyPoint(Wr("0000000000000000000000000000000000000000000000000000000000000001"))),Nn(!t.isXOnlyPoint(Wr("0000000000000000000000000000000000000000000000000000000000000000"))),Nn(!t.isXOnlyPoint(Wr("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),Nn(typeof t.xOnlyPointAddTweak=="function"),JS.forEach(r=>{const s=t.xOnlyPointAddTweak(Wr(r.pubkey),Wr(r.tweak));r.result===null?Nn(s===null):(Nn(s!==null),Nn(s.parity===r.parity),Nn(M.from(s.xOnlyPubkey).equals(Wr(r.result))))})}function Nn(t){if(!t)throw new Error("ecc library invalid")}const JS=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}];var Nf={},mt={},Th={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,r){var s=Tf,u=s.Buffer;function f(h,_){for(var S in h)_[S]=h[S]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?t.exports=s:(f(s,r),r.Buffer=d);function d(h,_,S){return u(h,_,S)}d.prototype=Object.create(u.prototype),f(u,d),d.from=function(h,_,S){if(typeof h=="number")throw new TypeError("Argument must not be a number");return u(h,_,S)},d.alloc=function(h,_,S){if(typeof h!="number")throw new TypeError("Argument must be a number");var T=u(h);return _!==void 0?typeof S=="string"?T.fill(_,S):T.fill(_):T.fill(0),T},d.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return u(h)},d.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(h)}})(Th,Th.exports);var QS=Th.exports,Oh=QS.Buffer,ev=9007199254740991;function Wh(t){if(t<0||t>ev||t%1!==0)throw new RangeError("value out of range")}function hu(t,r,s){if(Wh(t),r||(r=Oh.allocUnsafe(L0(t))),!Oh.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return s||(s=0),t<253?(r.writeUInt8(t,s),hu.bytes=1):t<=65535?(r.writeUInt8(253,s),r.writeUInt16LE(t,s+1),hu.bytes=3):t<=4294967295?(r.writeUInt8(254,s),r.writeUInt32LE(t,s+1),hu.bytes=5):(r.writeUInt8(255,s),r.writeUInt32LE(t>>>0,s+1),r.writeUInt32LE(t/4294967296|0,s+5),hu.bytes=9),r}function du(t,r){if(!Oh.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var s=t.readUInt8(r);if(s<253)return du.bytes=1,s;if(s===253)return du.bytes=3,t.readUInt16LE(r+1);if(s===254)return du.bytes=5,t.readUInt32LE(r+1);du.bytes=9;var u=t.readUInt32LE(r+1),f=t.readUInt32LE(r+5),d=f*4294967296+u;return Wh(d),d}function L0(t){return Wh(t),t<253?1:t<=65535?3:t<=4294967295?5:9}var tv={encode:hu,decode:du,encodingLength:L0};Object.defineProperty(mt,"__esModule",{value:!0});mt.BufferReader=mt.BufferWriter=mt.cloneBuffer=mt.reverseBuffer=mt.writeUInt64LE=mt.readUInt64LE=mt.varuint=void 0;const cs=Ct,{typeforce:B0}=cs,mu=tv;mt.varuint=mu;function F0(t,r){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>r)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function W0(t,r){const s=t.readUInt32LE(r);let u=t.readUInt32LE(r+4);return u*=4294967296,F0(u+s,9007199254740991),u+s}mt.readUInt64LE=W0;function Y0(t,r,s){return F0(r,9007199254740991),t.writeInt32LE(r&-1,s),t.writeUInt32LE(Math.floor(r/4294967296),s+4),s+8}mt.writeUInt64LE=Y0;function nv(t){if(t.length<1)return t;let r=t.length-1,s=0;for(let u=0;u<t.length/2;u++)s=t[u],t[u]=t[r],t[r]=s,r--;return t}mt.reverseBuffer=nv;function rv(t){const r=M.allocUnsafe(t.length);return t.copy(r),r}mt.cloneBuffer=rv;class Yh{static withCapacity(r){return new Yh(M.alloc(r))}constructor(r,s=0){this.buffer=r,this.offset=s,B0(cs.tuple(cs.Buffer,cs.UInt32),[r,s])}writeUInt8(r){this.offset=this.buffer.writeUInt8(r,this.offset)}writeInt32(r){this.offset=this.buffer.writeInt32LE(r,this.offset)}writeUInt32(r){this.offset=this.buffer.writeUInt32LE(r,this.offset)}writeUInt64(r){this.offset=Y0(this.buffer,r,this.offset)}writeVarInt(r){mu.encode(r,this.buffer,this.offset),this.offset+=mu.encode.bytes}writeSlice(r){if(this.buffer.length<this.offset+r.length)throw new Error("Cannot write slice out of bounds");this.offset+=r.copy(this.buffer,this.offset)}writeVarSlice(r){this.writeVarInt(r.length),this.writeSlice(r)}writeVector(r){this.writeVarInt(r.length),r.forEach(s=>this.writeVarSlice(s))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}mt.BufferWriter=Yh;class iv{constructor(r,s=0){this.buffer=r,this.offset=s,B0(cs.tuple(cs.Buffer,cs.UInt32),[r,s])}readUInt8(){const r=this.buffer.readUInt8(this.offset);return this.offset++,r}readInt32(){const r=this.buffer.readInt32LE(this.offset);return this.offset+=4,r}readUInt32(){const r=this.buffer.readUInt32LE(this.offset);return this.offset+=4,r}readUInt64(){const r=W0(this.buffer,this.offset);return this.offset+=8,r}readVarInt(){const r=mu.decode(this.buffer,this.offset);return this.offset+=mu.decode.bytes,r}readSlice(r){if(this.buffer.length<this.offset+r)throw new Error("Cannot read slice out of bounds");const s=this.buffer.slice(this.offset,this.offset+r);return this.offset+=r,s}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const r=this.readVarInt(),s=[];for(let u=0;u<r;u++)s.push(this.readVarSlice());return s}}mt.BufferReader=iv;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.tweakKey=t.tapTweakHash=t.tapleafHash=t.findScriptPath=t.toHashTree=t.rootHashFromPath=t.MAX_TAPTREE_DEPTH=t.LEAF_VERSION_TAPSCRIPT=void 0;const r=Tf,s=Ui,u=mr,f=mt,d=Ct;t.LEAF_VERSION_TAPSCRIPT=192,t.MAX_TAPTREE_DEPTH=128;const h=D=>"left"in D&&"right"in D;function _(D,C){if(D.length<33)throw new TypeError(`The control-block length is too small. Got ${D.length}, expected min 33.`);const z=(D.length-33)/32;let Z=C;for(let x=0;x<z;x++){const N=D.slice(33+32*x,65+32*x);Z.compare(N)<0?Z=b(Z,N):Z=b(N,Z)}return Z}t.rootHashFromPath=_;function S(D){if((0,d.isTapleaf)(D))return{hash:O(D)};const C=[S(D[0]),S(D[1])];C.sort((x,N)=>x.hash.compare(N.hash));const[z,Z]=C;return{hash:b(z.hash,Z.hash),left:z,right:Z}}t.toHashTree=S;function T(D,C){if(h(D)){const z=T(D.left,C);if(z!==void 0)return[...z,D.right.hash];const Z=T(D.right,C);if(Z!==void 0)return[...Z,D.left.hash]}else if(D.hash.equals(C))return[]}t.findScriptPath=T;function O(D){const C=D.version||t.LEAF_VERSION_TAPSCRIPT;return u.taggedHash("TapLeaf",r.Buffer.concat([r.Buffer.from([C]),H(D.output)]))}t.tapleafHash=O;function v(D,C){return u.taggedHash("TapTweak",r.Buffer.concat(C?[D,C]:[D]))}t.tapTweakHash=v;function R(D,C){if(!r.Buffer.isBuffer(D)||D.length!==32||C&&C.length!==32)return null;const z=v(D,C),Z=(0,s.getEccLib)().xOnlyPointAddTweak(D,z);return!Z||Z.xOnlyPubkey===null?null:{parity:Z.parity,x:r.Buffer.from(Z.xOnlyPubkey)}}t.tweakKey=R;function b(D,C){return u.taggedHash("TapBranch",r.Buffer.concat([D,C]))}function H(D){const C=f.varuint.encodingLength(D.length),z=r.Buffer.allocUnsafe(C);return f.varuint.encode(D.length,z),r.Buffer.concat([z,D])}})(Nf);var $p;function sv(){if($p)return au;$p=1,Object.defineProperty(au,"__esModule",{value:!0}),au.p2tr=void 0;const t=Tf,r=Tt,s=zt(),u=Ct,f=Ui,d=Nf,h=mn,_=jr,S=$h(),T=s.OPS,O=1,v=80;function R(b,H){if(!b.address&&!b.output&&!b.pubkey&&!b.internalPubkey&&!(b.witness&&b.witness.length>1))throw new TypeError("Not enough data");H=Object.assign({validate:!0},H||{}),(0,u.typeforce)({address:u.typeforce.maybe(u.typeforce.String),input:u.typeforce.maybe(u.typeforce.BufferN(0)),network:u.typeforce.maybe(u.typeforce.Object),output:u.typeforce.maybe(u.typeforce.BufferN(34)),internalPubkey:u.typeforce.maybe(u.typeforce.BufferN(32)),hash:u.typeforce.maybe(u.typeforce.BufferN(32)),pubkey:u.typeforce.maybe(u.typeforce.BufferN(32)),signature:u.typeforce.maybe(u.typeforce.anyOf(u.typeforce.BufferN(64),u.typeforce.BufferN(65))),witness:u.typeforce.maybe(u.typeforce.arrayOf(u.typeforce.Buffer)),scriptTree:u.typeforce.maybe(u.isTaptree),redeem:u.typeforce.maybe({output:u.typeforce.maybe(u.typeforce.Buffer),redeemVersion:u.typeforce.maybe(u.typeforce.Number),witness:u.typeforce.maybe(u.typeforce.arrayOf(u.typeforce.Buffer))}),redeemVersion:u.typeforce.maybe(u.typeforce.Number)},b);const D=h.value(()=>(0,S.fromBech32)(b.address)),C=h.value(()=>{if(!(!b.witness||!b.witness.length))return b.witness.length>=2&&b.witness[b.witness.length-1][0]===v?b.witness.slice(0,-1):b.witness.slice()}),z=h.value(()=>{if(b.scriptTree)return(0,d.toHashTree)(b.scriptTree);if(b.hash)return{hash:b.hash}}),Z=b.network||r.bitcoin,x={name:"p2tr",network:Z};if(h.prop(x,"address",()=>{if(!x.pubkey)return;const N=_.bech32m.toWords(x.pubkey);return N.unshift(O),_.bech32m.encode(Z.bech32,N)}),h.prop(x,"hash",()=>{const N=z();if(N)return N.hash;const W=C();if(W&&W.length>1){const U=W[W.length-1],q=U[0]&u.TAPLEAF_VERSION_MASK,ne=W[W.length-2],V=(0,d.tapleafHash)({output:ne,version:q});return(0,d.rootHashFromPath)(U,V)}return null}),h.prop(x,"output",()=>{if(x.pubkey)return s.compile([T.OP_1,x.pubkey])}),h.prop(x,"redeemVersion",()=>b.redeemVersion?b.redeemVersion:b.redeem&&b.redeem.redeemVersion!==void 0&&b.redeem.redeemVersion!==null?b.redeem.redeemVersion:d.LEAF_VERSION_TAPSCRIPT),h.prop(x,"redeem",()=>{const N=C();if(!(!N||N.length<2))return{output:N[N.length-2],witness:N.slice(0,-2),redeemVersion:N[N.length-1][0]&u.TAPLEAF_VERSION_MASK}}),h.prop(x,"pubkey",()=>{if(b.pubkey)return b.pubkey;if(b.output)return b.output.slice(2);if(b.address)return D().data;if(x.internalPubkey){const N=(0,d.tweakKey)(x.internalPubkey,x.hash);if(N)return N.x}}),h.prop(x,"internalPubkey",()=>{if(b.internalPubkey)return b.internalPubkey;const N=C();if(N&&N.length>1)return N[N.length-1].slice(1,33)}),h.prop(x,"signature",()=>{if(b.signature)return b.signature;const N=C();if(!(!N||N.length!==1))return N[0]}),h.prop(x,"witness",()=>{if(b.witness)return b.witness;const N=z();if(N&&b.redeem&&b.redeem.output&&b.internalPubkey){const W=(0,d.tapleafHash)({output:b.redeem.output,version:x.redeemVersion}),U=(0,d.findScriptPath)(N,W);if(!U)return;const q=(0,d.tweakKey)(b.internalPubkey,N.hash);if(!q)return;const ne=t.Buffer.concat([t.Buffer.from([x.redeemVersion|q.parity]),b.internalPubkey].concat(U));return[b.redeem.output,ne]}if(b.signature)return[b.signature]}),H.validate){let N=t.Buffer.from([]);if(b.address){if(Z&&Z.bech32!==D().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(D().version!==O)throw new TypeError("Invalid address version");if(D().data.length!==32)throw new TypeError("Invalid address data");N=D().data}if(b.pubkey){if(N.length>0&&!N.equals(b.pubkey))throw new TypeError("Pubkey mismatch");N=b.pubkey}if(b.output){if(b.output.length!==34||b.output[0]!==T.OP_1||b.output[1]!==32)throw new TypeError("Output is invalid");if(N.length>0&&!N.equals(b.output.slice(2)))throw new TypeError("Pubkey mismatch");N=b.output.slice(2)}if(b.internalPubkey){const q=(0,d.tweakKey)(b.internalPubkey,x.hash);if(N.length>0&&!N.equals(q.x))throw new TypeError("Pubkey mismatch");N=q.x}if(N&&N.length&&!(0,f.getEccLib)().isXOnlyPoint(N))throw new TypeError("Invalid pubkey for p2tr");const W=z();if(b.hash&&W&&!b.hash.equals(W.hash))throw new TypeError("Hash mismatch");if(b.redeem&&b.redeem.output&&W){const q=(0,d.tapleafHash)({output:b.redeem.output,version:x.redeemVersion});if(!(0,d.findScriptPath)(W,q))throw new TypeError("Redeem script not in tree")}const U=C();if(b.redeem&&x.redeem){if(b.redeem.redeemVersion&&b.redeem.redeemVersion!==x.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(b.redeem.output){if(s.decompile(b.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(x.redeem.output&&!b.redeem.output.equals(x.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(b.redeem.witness&&x.redeem.witness&&!(0,u.stacksEqual)(b.redeem.witness,x.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(U&&U.length)if(U.length===1){if(b.signature&&!b.signature.equals(U[0]))throw new TypeError("Signature mismatch")}else{const q=U[U.length-1];if(q.length<33)throw new TypeError(`The control-block length is too small. Got ${q.length}, expected min 33.`);if((q.length-33)%32!==0)throw new TypeError(`The control-block length of ${q.length} is incorrect!`);const ne=(q.length-33)/32;if(ne>128)throw new TypeError(`The script path is too long. Got ${ne}, expected max 128.`);const V=q.slice(1,33);if(b.internalPubkey&&!b.internalPubkey.equals(V))throw new TypeError("Internal pubkey mismatch");if(!(0,f.getEccLib)().isXOnlyPoint(V))throw new TypeError("Invalid internalPubkey for p2tr witness");const ie=q[0]&u.TAPLEAF_VERSION_MASK,Pe=U[U.length-2],Y=(0,d.tapleafHash)({output:Pe,version:ie}),X=(0,d.rootHashFromPath)(q,Y),he=(0,d.tweakKey)(V,X);if(!he)throw new TypeError("Invalid outputKey for p2tr witness");if(N.length&&!N.equals(he.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(he.parity!==(q[0]&1))throw new Error("Incorrect parity")}}return Object.assign(x,b)}return au.p2tr=R,au}var Gp;function Eu(){return Gp||(Gp=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;const r=bf;Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return r.p2data}});const s=Of;Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return s.p2ms}});const u=kf;Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return u.p2pk}});const f=If;Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return f.p2pkh}});const d=Pf;Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return d.p2sh}});const h=xf;Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return h.p2wpkh}});const _=Mf;Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return _.p2wsh}});const S=sv();Object.defineProperty(t,"p2tr",{enumerable:!0,get:function(){return S.p2tr}})}(rh)),rh}var Kp;function $h(){if(Kp)return $t;Kp=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.toOutputScript=$t.fromOutputScript=$t.toBech32=$t.toBase58Check=$t.fromBech32=$t.fromBase58Check=void 0;const t=Tt,r=Eu(),s=zt(),u=Ct,f=jr,d=Bh,h=40,_=2,S=16,T=2,O=80,v="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function R(x,N){const W=x.slice(2);if(W.length<_||W.length>h)throw new TypeError("Invalid program length for segwit address");const U=x[0]-O;if(U<T||U>S)throw new TypeError("Invalid version for segwit address");if(x[1]!==W.length)throw new TypeError("Invalid script for segwit address");return console.warn(v),C(W,U,N.bech32)}function b(x){const N=M.from(d.decode(x));if(N.length<21)throw new TypeError(x+" is too short");if(N.length>21)throw new TypeError(x+" is too long");const W=N.readUInt8(0),U=N.slice(1);return{version:W,hash:U}}$t.fromBase58Check=b;function H(x){let N,W;try{N=f.bech32.decode(x)}catch{}if(N){if(W=N.words[0],W!==0)throw new TypeError(x+" uses wrong encoding")}else if(N=f.bech32m.decode(x),W=N.words[0],W===0)throw new TypeError(x+" uses wrong encoding");const U=f.bech32.fromWords(N.words.slice(1));return{version:W,prefix:N.prefix,data:M.from(U)}}$t.fromBech32=H;function D(x,N){(0,u.typeforce)((0,u.tuple)(u.Hash160bit,u.UInt8),arguments);const W=M.allocUnsafe(21);return W.writeUInt8(N,0),x.copy(W,1),d.encode(W)}$t.toBase58Check=D;function C(x,N,W){const U=f.bech32.toWords(x);return U.unshift(N),N===0?f.bech32.encode(W,U):f.bech32m.encode(W,U)}$t.toBech32=C;function z(x,N){N=N||t.bitcoin;try{return r.p2pkh({output:x,network:N}).address}catch{}try{return r.p2sh({output:x,network:N}).address}catch{}try{return r.p2wpkh({output:x,network:N}).address}catch{}try{return r.p2wsh({output:x,network:N}).address}catch{}try{return r.p2tr({output:x,network:N}).address}catch{}try{return R(x,N)}catch{}throw new Error(s.toASM(x)+" has no matching Address")}$t.fromOutputScript=z;function Z(x,N){N=N||t.bitcoin;let W,U;try{W=b(x)}catch{}if(W){if(W.version===N.pubKeyHash)return r.p2pkh({hash:W.hash}).output;if(W.version===N.scriptHash)return r.p2sh({hash:W.hash}).output}else{try{U=H(x)}catch{}if(U){if(U.prefix!==N.bech32)throw new Error(x+" has an invalid prefix");if(U.version===0){if(U.data.length===20)return r.p2wpkh({hash:U.data}).output;if(U.data.length===32)return r.p2wsh({hash:U.data}).output}else if(U.version===1){if(U.data.length===32)return r.p2tr({pubkey:U.data}).output}else if(U.version>=T&&U.version<=S&&U.data.length>=_&&U.data.length<=h)return console.warn(v),s.compile([U.version+O,U.data])}}throw new Error(x+" has no matching Script")}return $t.toOutputScript=Z,$t}var Cf={},Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.fastMerkleRoot=void 0;function ov(t,r){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof r!="function")throw TypeError("Expected digest Function");let s=t.length;const u=t.concat();for(;s>1;){let f=0;for(let d=0;d<s;d+=2,++f){const h=u[d],_=d+1===s?h:u[d+1],S=M.concat([h,_]);u[f]=r(S)}s=f}return u[0]}Rf.fastMerkleRoot=ov;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.Transaction=void 0;const pt=mt,Kt=mr,Vp=zt(),uv=zt(),Me=Ct,{typeforce:pr}=Me;function _r(t){const r=t.length;return pt.varuint.encodingLength(r)+r}function av(t){const r=t.length;return pt.varuint.encodingLength(r)+t.reduce((s,u)=>s+_r(u),0)}const Pi=M.allocUnsafe(0),qp=[],dh=M.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),zp=M.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),fv=M.from("ffffffffffffffff","hex"),cv={script:Pi,valueBuffer:fv};function lv(t){return t.value!==void 0}class be{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(r,s){const u=new pt.BufferReader(r),f=new be;f.version=u.readInt32();const d=u.readUInt8(),h=u.readUInt8();let _=!1;d===be.ADVANCED_TRANSACTION_MARKER&&h===be.ADVANCED_TRANSACTION_FLAG?_=!0:u.offset-=2;const S=u.readVarInt();for(let O=0;O<S;++O)f.ins.push({hash:u.readSlice(32),index:u.readUInt32(),script:u.readVarSlice(),sequence:u.readUInt32(),witness:qp});const T=u.readVarInt();for(let O=0;O<T;++O)f.outs.push({value:u.readUInt64(),script:u.readVarSlice()});if(_){for(let O=0;O<S;++O)f.ins[O].witness=u.readVector();if(!f.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(f.locktime=u.readUInt32(),s)return f;if(u.offset!==r.length)throw new Error("Transaction has unexpected data");return f}static fromHex(r){return be.fromBuffer(M.from(r,"hex"),!1)}static isCoinbaseHash(r){pr(Me.Hash256bit,r);for(let s=0;s<32;++s)if(r[s]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&be.isCoinbaseHash(this.ins[0].hash)}addInput(r,s,u,f){return pr(Me.tuple(Me.Hash256bit,Me.UInt32,Me.maybe(Me.UInt32),Me.maybe(Me.Buffer)),arguments),Me.Null(u)&&(u=be.DEFAULT_SEQUENCE),this.ins.push({hash:r,index:s,script:f||Pi,sequence:u,witness:qp})-1}addOutput(r,s){return pr(Me.tuple(Me.Buffer,Me.Satoshi),arguments),this.outs.push({script:r,value:s})-1}hasWitnesses(){return this.ins.some(r=>r.witness.length!==0)}weight(){const r=this.byteLength(!1),s=this.byteLength(!0);return r*3+s}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(r=!0){const s=r&&this.hasWitnesses();return(s?10:8)+pt.varuint.encodingLength(this.ins.length)+pt.varuint.encodingLength(this.outs.length)+this.ins.reduce((u,f)=>u+40+_r(f.script),0)+this.outs.reduce((u,f)=>u+8+_r(f.script),0)+(s?this.ins.reduce((u,f)=>u+av(f.witness),0):0)}clone(){const r=new be;return r.version=this.version,r.locktime=this.locktime,r.ins=this.ins.map(s=>({hash:s.hash,index:s.index,script:s.script,sequence:s.sequence,witness:s.witness})),r.outs=this.outs.map(s=>({script:s.script,value:s.value})),r}hashForSignature(r,s,u){if(pr(Me.tuple(Me.UInt32,Me.Buffer,Me.Number),arguments),r>=this.ins.length)return zp;const f=Vp.compile(Vp.decompile(s).filter(_=>_!==uv.OPS.OP_CODESEPARATOR)),d=this.clone();if((u&31)===be.SIGHASH_NONE)d.outs=[],d.ins.forEach((_,S)=>{S!==r&&(_.sequence=0)});else if((u&31)===be.SIGHASH_SINGLE){if(r>=this.outs.length)return zp;d.outs.length=r+1;for(let _=0;_<r;_++)d.outs[_]=cv;d.ins.forEach((_,S)=>{S!==r&&(_.sequence=0)})}u&be.SIGHASH_ANYONECANPAY?(d.ins=[d.ins[r]],d.ins[0].script=f):(d.ins.forEach(_=>{_.script=Pi}),d.ins[r].script=f);const h=M.allocUnsafe(d.byteLength(!1)+4);return h.writeInt32LE(u,h.length-4),d.__toBuffer(h,0,!1),Kt.hash256(h)}hashForWitnessV1(r,s,u,f,d,h){if(pr(Me.tuple(Me.UInt32,pr.arrayOf(Me.Buffer),pr.arrayOf(Me.Satoshi),Me.UInt32),arguments),u.length!==this.ins.length||s.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const _=f===be.SIGHASH_DEFAULT?be.SIGHASH_ALL:f&be.SIGHASH_OUTPUT_MASK,T=(f&be.SIGHASH_INPUT_MASK)===be.SIGHASH_ANYONECANPAY,O=_===be.SIGHASH_NONE,v=_===be.SIGHASH_SINGLE;let R=Pi,b=Pi,H=Pi,D=Pi,C=Pi;if(!T){let N=pt.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(W=>{N.writeSlice(W.hash),N.writeUInt32(W.index)}),R=Kt.sha256(N.end()),N=pt.BufferWriter.withCapacity(8*this.ins.length),u.forEach(W=>N.writeUInt64(W)),b=Kt.sha256(N.end()),N=pt.BufferWriter.withCapacity(s.map(_r).reduce((W,U)=>W+U)),s.forEach(W=>N.writeVarSlice(W)),H=Kt.sha256(N.end()),N=pt.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(W=>N.writeUInt32(W.sequence)),D=Kt.sha256(N.end())}if(O||v){if(v&&r<this.outs.length){const N=this.outs[r],W=pt.BufferWriter.withCapacity(8+_r(N.script));W.writeUInt64(N.value),W.writeVarSlice(N.script),C=Kt.sha256(W.end())}}else{const N=this.outs.map(U=>8+_r(U.script)).reduce((U,q)=>U+q),W=pt.BufferWriter.withCapacity(N);this.outs.forEach(U=>{W.writeUInt64(U.value),W.writeVarSlice(U.script)}),C=Kt.sha256(W.end())}const z=(d?2:0)+(h?1:0),Z=174-(T?49:0)-(O?32:0)+(h?32:0)+(d?37:0),x=pt.BufferWriter.withCapacity(Z);if(x.writeUInt8(f),x.writeInt32(this.version),x.writeUInt32(this.locktime),x.writeSlice(R),x.writeSlice(b),x.writeSlice(H),x.writeSlice(D),O||v||x.writeSlice(C),x.writeUInt8(z),T){const N=this.ins[r];x.writeSlice(N.hash),x.writeUInt32(N.index),x.writeUInt64(u[r]),x.writeVarSlice(s[r]),x.writeUInt32(N.sequence)}else x.writeUInt32(r);if(h){const N=pt.BufferWriter.withCapacity(_r(h));N.writeVarSlice(h),x.writeSlice(Kt.sha256(N.end()))}return v&&x.writeSlice(C),d&&(x.writeSlice(d),x.writeUInt8(0),x.writeUInt32(4294967295)),Kt.taggedHash("TapSighash",M.concat([M.from([0]),x.end()]))}hashForWitnessV0(r,s,u,f){pr(Me.tuple(Me.UInt32,Me.Buffer,Me.Satoshi,Me.UInt32),arguments);let d=M.from([]),h,_=dh,S=dh,T=dh;if(f&be.SIGHASH_ANYONECANPAY||(d=M.allocUnsafe(36*this.ins.length),h=new pt.BufferWriter(d,0),this.ins.forEach(v=>{h.writeSlice(v.hash),h.writeUInt32(v.index)}),S=Kt.hash256(d)),!(f&be.SIGHASH_ANYONECANPAY)&&(f&31)!==be.SIGHASH_SINGLE&&(f&31)!==be.SIGHASH_NONE&&(d=M.allocUnsafe(4*this.ins.length),h=new pt.BufferWriter(d,0),this.ins.forEach(v=>{h.writeUInt32(v.sequence)}),T=Kt.hash256(d)),(f&31)!==be.SIGHASH_SINGLE&&(f&31)!==be.SIGHASH_NONE){const v=this.outs.reduce((R,b)=>R+8+_r(b.script),0);d=M.allocUnsafe(v),h=new pt.BufferWriter(d,0),this.outs.forEach(R=>{h.writeUInt64(R.value),h.writeVarSlice(R.script)}),_=Kt.hash256(d)}else if((f&31)===be.SIGHASH_SINGLE&&r<this.outs.length){const v=this.outs[r];d=M.allocUnsafe(8+_r(v.script)),h=new pt.BufferWriter(d,0),h.writeUInt64(v.value),h.writeVarSlice(v.script),_=Kt.hash256(d)}d=M.allocUnsafe(156+_r(s)),h=new pt.BufferWriter(d,0);const O=this.ins[r];return h.writeInt32(this.version),h.writeSlice(S),h.writeSlice(T),h.writeSlice(O.hash),h.writeUInt32(O.index),h.writeVarSlice(s),h.writeUInt64(u),h.writeUInt32(O.sequence),h.writeSlice(_),h.writeUInt32(this.locktime),h.writeUInt32(f),Kt.hash256(d)}getHash(r){return r&&this.isCoinbase()?M.alloc(32,0):Kt.hash256(this.__toBuffer(void 0,void 0,r))}getId(){return(0,pt.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(r,s){return this.__toBuffer(r,s,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(r,s){pr(Me.tuple(Me.Number,Me.Buffer),arguments),this.ins[r].script=s}setWitness(r,s){pr(Me.tuple(Me.Number,[Me.Buffer]),arguments),this.ins[r].witness=s}__toBuffer(r,s,u=!1){r||(r=M.allocUnsafe(this.byteLength(u)));const f=new pt.BufferWriter(r,s||0);f.writeInt32(this.version);const d=u&&this.hasWitnesses();return d&&(f.writeUInt8(be.ADVANCED_TRANSACTION_MARKER),f.writeUInt8(be.ADVANCED_TRANSACTION_FLAG)),f.writeVarInt(this.ins.length),this.ins.forEach(h=>{f.writeSlice(h.hash),f.writeUInt32(h.index),f.writeVarSlice(h.script),f.writeUInt32(h.sequence)}),f.writeVarInt(this.outs.length),this.outs.forEach(h=>{lv(h)?f.writeUInt64(h.value):f.writeSlice(h.valueBuffer),f.writeVarSlice(h.script)}),d&&this.ins.forEach(h=>{f.writeVector(h.witness)}),f.writeUInt32(this.locktime),s!==void 0?r.slice(s,f.offset):r}}Di.Transaction=be;be.DEFAULT_SEQUENCE=4294967295;be.SIGHASH_DEFAULT=0;be.SIGHASH_ALL=1;be.SIGHASH_NONE=2;be.SIGHASH_SINGLE=3;be.SIGHASH_ANYONECANPAY=128;be.SIGHASH_OUTPUT_MASK=3;be.SIGHASH_INPUT_MASK=128;be.ADVANCED_TRANSACTION_MARKER=0;be.ADVANCED_TRANSACTION_FLAG=1;Object.defineProperty(Cf,"__esModule",{value:!0});Cf.Block=void 0;const us=mt,ph=mr,hv=Rf,dv=Di,$0=Ct,{typeforce:pv}=$0,gh=new TypeError("Cannot compute merkle root for zero transactions"),jp=new TypeError("Cannot compute witness commit for non-segwit block");class as{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(r){if(r.length<80)throw new Error("Buffer too small (< 80 bytes)");const s=new us.BufferReader(r),u=new as;if(u.version=s.readInt32(),u.prevHash=s.readSlice(32),u.merkleRoot=s.readSlice(32),u.timestamp=s.readUInt32(),u.bits=s.readUInt32(),u.nonce=s.readUInt32(),r.length===80)return u;const f=()=>{const _=dv.Transaction.fromBuffer(s.buffer.slice(s.offset),!0);return s.offset+=_.byteLength(),_},d=s.readVarInt();u.transactions=[];for(let _=0;_<d;++_){const S=f();u.transactions.push(S)}const h=u.getWitnessCommit();return h&&(u.witnessCommit=h),u}static fromHex(r){return as.fromBuffer(M.from(r,"hex"))}static calculateTarget(r){const s=((r&4278190080)>>24)-3,u=r&8388607,f=M.alloc(32,0);return f.writeUIntBE(u,29-s,3),f}static calculateMerkleRoot(r,s){if(pv([{getHash:$0.Function}],r),r.length===0)throw gh;if(s&&!Xp(r))throw jp;const u=r.map(d=>d.getHash(s)),f=(0,hv.fastMerkleRoot)(u,ph.hash256);return s?ph.hash256(M.concat([f,r[0].ins[0].witness[0]])):f}getWitnessCommit(){if(!Xp(this.transactions))return null;const r=this.transactions[0].outs.filter(u=>u.script.slice(0,6).equals(M.from("6a24aa21a9ed","hex"))).map(u=>u.script.slice(6,38));if(r.length===0)return null;const s=r[r.length-1];return s instanceof M&&s.length===32?s:null}hasWitnessCommit(){return this.witnessCommit instanceof M&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return gv(this.transactions)}weight(){const r=this.byteLength(!1,!1),s=this.byteLength(!1,!0);return r*3+s}byteLength(r,s=!0){return r||!this.transactions?80:80+us.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((u,f)=>u+f.byteLength(s),0)}getHash(){return ph.hash256(this.toBuffer(!0))}getId(){return(0,us.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){const r=new Date(0);return r.setUTCSeconds(this.timestamp),r}toBuffer(r){const s=M.allocUnsafe(this.byteLength(r)),u=new us.BufferWriter(s);return u.writeInt32(this.version),u.writeSlice(this.prevHash),u.writeSlice(this.merkleRoot),u.writeUInt32(this.timestamp),u.writeUInt32(this.bits),u.writeUInt32(this.nonce),r||!this.transactions||(us.varuint.encode(this.transactions.length,s,u.offset),u.offset+=us.varuint.encode.bytes,this.transactions.forEach(f=>{const d=f.byteLength();f.toBuffer(s,u.offset),u.offset+=d})),s}toHex(r){return this.toBuffer(r).toString("hex")}checkTxRoots(){const r=this.hasWitnessCommit();return!r&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(r?this.__checkWitnessCommit():!0)}checkProofOfWork(){const r=(0,us.reverseBuffer)(this.getHash()),s=as.calculateTarget(this.bits);return r.compare(s)<=0}__checkMerkleRoot(){if(!this.transactions)throw gh;const r=as.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(r)===0}__checkWitnessCommit(){if(!this.transactions)throw gh;if(!this.hasWitnessCommit())throw jp;const r=as.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(r)===0}}Cf.Block=as;function Xp(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}function gv(t){return t instanceof Array&&t.some(r=>typeof r=="object"&&r.ins instanceof Array&&r.ins.some(s=>typeof s=="object"&&s.witness instanceof Array&&s.witness.length>0))}var Uf={},Gh={},Kh={},Vh={},bu={},ls={},Ot={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(r){r[r.UNSIGNED_TX=0]="UNSIGNED_TX",r[r.GLOBAL_XPUB=1]="GLOBAL_XPUB"}(t.GlobalTypes||(t.GlobalTypes={})),t.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],function(r){r[r.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",r[r.WITNESS_UTXO=1]="WITNESS_UTXO",r[r.PARTIAL_SIG=2]="PARTIAL_SIG",r[r.SIGHASH_TYPE=3]="SIGHASH_TYPE",r[r.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",r[r.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",r[r.BIP32_DERIVATION=6]="BIP32_DERIVATION",r[r.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",r[r.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",r[r.POR_COMMITMENT=9]="POR_COMMITMENT",r[r.TAP_KEY_SIG=19]="TAP_KEY_SIG",r[r.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",r[r.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",r[r.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",r[r.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",r[r.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"}(t.InputTypes||(t.InputTypes={})),t.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],function(r){r[r.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",r[r.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",r[r.BIP32_DERIVATION=2]="BIP32_DERIVATION",r[r.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",r[r.TAP_TREE=6]="TAP_TREE",r[r.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"}(t.OutputTypes||(t.OutputTypes={})),t.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]})(Ot);var hs={};Object.defineProperty(hs,"__esModule",{value:!0});const G0=Ot,_v=t=>[...Array(t).keys()];function yv(t){if(t.key[0]!==G0.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const r=t.key.slice(1),s={masterFingerprint:t.value.slice(0,4),extendedPubkey:r,path:"m"};for(const u of _v(t.value.length/4-1)){const f=t.value.readUInt32LE(u*4+4),d=!!(f&2147483648),h=f&2147483647;s.path+="/"+h.toString(10)+(d?"'":"")}return s}hs.decode=yv;function wv(t){const r=M.from([G0.GlobalTypes.GLOBAL_XPUB]),s=M.concat([r,t.extendedPubkey]),u=t.path.split("/"),f=M.allocUnsafe(u.length*4);t.masterFingerprint.copy(f,0);let d=4;return u.slice(1).forEach(h=>{const _=h.slice(-1)==="'";let S=2147483647&parseInt(_?h.slice(0,-1):h,10);_&&(S+=2147483648),f.writeUInt32LE(S,d),d+=4}),{key:s,value:f}}hs.encode=wv;hs.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function mv(t){const r=t.extendedPubkey,s=t.masterFingerprint,u=t.path;return M.isBuffer(r)&&r.length===78&&[2,3].indexOf(r[45])>-1&&M.isBuffer(s)&&s.length===4&&typeof u=="string"&&!!u.match(/^m(\/\d+'?)*$/)}hs.check=mv;function Sv(t,r,s){const u=r.extendedPubkey.toString("hex");return s.has(u)?!1:(s.add(u),t.filter(f=>f.extendedPubkey.equals(r.extendedPubkey)).length===0)}hs.canAddToArray=Sv;var qh={};Object.defineProperty(qh,"__esModule",{value:!0});const vv=Ot;function Ev(t){return{key:M.from([vv.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}qh.encode=Ev;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});const K0=Ot;function bv(t){if(t.key[0]!==K0.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}ds.decode=bv;function Tv(t){return{key:M.from([K0.InputTypes.FINAL_SCRIPTSIG]),value:t}}ds.encode=Tv;ds.expected="Buffer";function Ov(t){return M.isBuffer(t)}ds.check=Ov;function kv(t,r){return!!t&&!!r&&t.finalScriptSig===void 0}ds.canAdd=kv;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});const V0=Ot;function Iv(t){if(t.key[0]!==V0.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}ps.decode=Iv;function Av(t){return{key:M.from([V0.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}ps.encode=Av;ps.expected="Buffer";function Pv(t){return M.isBuffer(t)}ps.check=Pv;function xv(t,r){return!!t&&!!r&&t.finalScriptWitness===void 0}ps.canAdd=xv;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});const q0=Ot;function Mv(t){if(t.key[0]!==q0.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}gs.decode=Mv;function Nv(t){return{key:M.from([q0.InputTypes.NON_WITNESS_UTXO]),value:t}}gs.encode=Nv;gs.expected="Buffer";function Cv(t){return M.isBuffer(t)}gs.check=Cv;function Rv(t,r){return!!t&&!!r&&t.nonWitnessUtxo===void 0}gs.canAdd=Rv;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});const z0=Ot;function Uv(t){if(t.key[0]!==z0.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}_s.decode=Uv;function Hv(t){const r=M.from([z0.InputTypes.PARTIAL_SIG]);return{key:M.concat([r,t.pubkey]),value:t.signature}}_s.encode=Hv;_s.expected="{ pubkey: Buffer; signature: Buffer; }";function Dv(t){return M.isBuffer(t.pubkey)&&M.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&Lv(t.signature)}_s.check=Dv;function Lv(t){if(!M.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;const r=t[3];if(r>33||r<1||t[3+r+1]!==2)return!1;const s=t[3+r+2];return!(s>33||s<1||t.length!==3+r+2+s+2)}function Bv(t,r,s){const u=r.pubkey.toString("hex");return s.has(u)?!1:(s.add(u),t.filter(f=>f.pubkey.equals(r.pubkey)).length===0)}_s.canAddToArray=Bv;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});const j0=Ot;function Fv(t){if(t.key[0]!==j0.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}ys.decode=Fv;function Wv(t){return{key:M.from([j0.InputTypes.POR_COMMITMENT]),value:M.from(t,"utf8")}}ys.encode=Wv;ys.expected="string";function Yv(t){return typeof t=="string"}ys.check=Yv;function $v(t,r){return!!t&&!!r&&t.porCommitment===void 0}ys.canAdd=$v;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});const X0=Ot;function Gv(t){if(t.key[0]!==X0.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}ws.decode=Gv;function Kv(t){const r=M.from([X0.InputTypes.SIGHASH_TYPE]),s=M.allocUnsafe(4);return s.writeUInt32LE(t,0),{key:r,value:s}}ws.encode=Kv;ws.expected="number";function Vv(t){return typeof t=="number"}ws.check=Vv;function qv(t,r){return!!t&&!!r&&t.sighashType===void 0}ws.canAdd=qv;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});const Z0=Ot;function zv(t){if(t.key[0]!==Z0.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!J0(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}ms.decode=zv;function jv(t){return{key:M.from([Z0.InputTypes.TAP_KEY_SIG]),value:t}}ms.encode=jv;ms.expected="Buffer";function J0(t){return M.isBuffer(t)&&(t.length===64||t.length===65)}ms.check=J0;function Xv(t,r){return!!t&&!!r&&t.tapKeySig===void 0}ms.canAdd=Xv;var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});const Q0=Ot;function Zv(t){if(t.key[0]!==Q0.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));const r=t.value[t.value.length-1];if((t.key[1]&254)!==r)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));const s=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:s,leafVersion:r}}Ss.decode=Zv;function Jv(t){const r=M.from([Q0.InputTypes.TAP_LEAF_SCRIPT]),s=M.from([t.leafVersion]);return{key:M.concat([r,t.controlBlock]),value:M.concat([t.script,s])}}Ss.encode=Jv;Ss.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function Qv(t){return M.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&M.isBuffer(t.script)}Ss.check=Qv;function e2(t,r,s){const u=r.controlBlock.toString("hex");return s.has(u)?!1:(s.add(u),t.filter(f=>f.controlBlock.equals(r.controlBlock)).length===0)}Ss.canAddToArray=e2;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});const eg=Ot;function t2(t){if(t.key[0]!==eg.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!tg(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}vs.decode=t2;function n2(t){return{key:M.from([eg.InputTypes.TAP_MERKLE_ROOT]),value:t}}vs.encode=n2;vs.expected="Buffer";function tg(t){return M.isBuffer(t)&&t.length===32}vs.check=tg;function r2(t,r){return!!t&&!!r&&t.tapMerkleRoot===void 0}vs.canAdd=r2;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});const ng=Ot;function i2(t){if(t.key[0]!==ng.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));const r=t.key.slice(1,33),s=t.key.slice(33);return{pubkey:r,leafHash:s,signature:t.value}}Es.decode=i2;function s2(t){const r=M.from([ng.InputTypes.TAP_SCRIPT_SIG]);return{key:M.concat([r,t.pubkey,t.leafHash]),value:t.signature}}Es.encode=s2;Es.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function o2(t){return M.isBuffer(t.pubkey)&&M.isBuffer(t.leafHash)&&M.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}Es.check=o2;function u2(t,r,s){const u=r.pubkey.toString("hex")+r.leafHash.toString("hex");return s.has(u)?!1:(s.add(u),t.filter(f=>f.pubkey.equals(r.pubkey)&&f.leafHash.equals(r.leafHash)).length===0)}Es.canAddToArray=u2;var bs={},Sr={},Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});const a2=9007199254740991;function zh(t){if(t<0||t>a2||t%1!==0)throw new RangeError("value out of range")}function pu(t,r,s){if(zh(t),r||(r=M.allocUnsafe(rg(t))),!M.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return s||(s=0),t<253?(r.writeUInt8(t,s),Object.assign(pu,{bytes:1})):t<=65535?(r.writeUInt8(253,s),r.writeUInt16LE(t,s+1),Object.assign(pu,{bytes:3})):t<=4294967295?(r.writeUInt8(254,s),r.writeUInt32LE(t,s+1),Object.assign(pu,{bytes:5})):(r.writeUInt8(255,s),r.writeUInt32LE(t>>>0,s+1),r.writeUInt32LE(t/4294967296|0,s+5),Object.assign(pu,{bytes:9})),r}Jn.encode=pu;function gu(t,r){if(!M.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);const s=t.readUInt8(r);if(s<253)return Object.assign(gu,{bytes:1}),s;if(s===253)return Object.assign(gu,{bytes:3}),t.readUInt16LE(r+1);if(s===254)return Object.assign(gu,{bytes:5}),t.readUInt32LE(r+1);{Object.assign(gu,{bytes:9});const u=t.readUInt32LE(r+1),d=t.readUInt32LE(r+5)*4294967296+u;return zh(d),d}}Jn.decode=gu;function rg(t){return zh(t),t<253?1:t<=65535?3:t<=4294967295?5:9}Jn.encodingLength=rg;Object.defineProperty(Sr,"__esModule",{value:!0});const tf=Jn;Sr.range=t=>[...Array(t).keys()];function f2(t){if(t.length<1)return t;let r=t.length-1,s=0;for(let u=0;u<t.length/2;u++)s=t[u],t[u]=t[r],t[r]=s,r--;return t}Sr.reverseBuffer=f2;function c2(t){const r=t.map(ig);return r.push(M.from([0])),M.concat(r)}Sr.keyValsToBuffer=c2;function ig(t){const r=t.key.length,s=t.value.length,u=tf.encodingLength(r),f=tf.encodingLength(s),d=M.allocUnsafe(u+r+f+s);return tf.encode(r,d,0),t.key.copy(d,u),tf.encode(s,d,u+r),t.value.copy(d,u+r+f),d}Sr.keyValToBuffer=ig;function sg(t,r){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>r)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function l2(t,r){const s=t.readUInt32LE(r);let u=t.readUInt32LE(r+4);return u*=4294967296,sg(u+s,9007199254740991),u+s}Sr.readUInt64LE=l2;function h2(t,r,s){return sg(r,9007199254740991),t.writeInt32LE(r&-1,s),t.writeUInt32LE(Math.floor(r/4294967296),s+4),s+8}Sr.writeUInt64LE=h2;Object.defineProperty(bs,"__esModule",{value:!0});const og=Ot,ug=Sr,yf=Jn;function d2(t){if(t.key[0]!==og.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));const r=ug.readUInt64LE(t.value,0);let s=8;const u=yf.decode(t.value,s);s+=yf.encodingLength(u);const f=t.value.slice(s);if(f.length!==u)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:f,value:r}}bs.decode=d2;function p2(t){const{script:r,value:s}=t,u=yf.encodingLength(r.length),f=M.allocUnsafe(8+u+r.length);return ug.writeUInt64LE(f,s,0),yf.encode(r.length,f,8),r.copy(f,8+u),{key:M.from([og.InputTypes.WITNESS_UTXO]),value:f}}bs.encode=p2;bs.expected="{ script: Buffer; value: number; }";function g2(t){return M.isBuffer(t.script)&&typeof t.value=="number"}bs.check=g2;function _2(t,r){return!!t&&!!r&&t.witnessUtxo===void 0}bs.canAdd=_2;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});const ag=Ot,kh=Jn;function y2(t){if(t.key[0]!==ag.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let r=0;const s=[];for(;r<t.value.length;){const u=t.value[r++],f=t.value[r++],d=kh.decode(t.value,r);r+=kh.encodingLength(d),s.push({depth:u,leafVersion:f,script:t.value.slice(r,r+d)}),r+=d}return{leaves:s}}Ts.decode=y2;function w2(t){const r=M.from([ag.OutputTypes.TAP_TREE]),s=[].concat(...t.leaves.map(u=>[M.of(u.depth,u.leafVersion),kh.encode(u.script.length),u.script]));return{key:r,value:M.concat(s)}}Ts.encode=w2;Ts.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function m2(t){return Array.isArray(t.leaves)&&t.leaves.every(r=>r.depth>=0&&r.depth<=128&&(r.leafVersion&254)===r.leafVersion&&M.isBuffer(r.script))}Ts.check=m2;function S2(t,r){return!!t&&!!r&&t.tapTree===void 0}Ts.canAdd=S2;var Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});const v2=t=>[...Array(t).keys()],E2=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function b2(t,r=E2){function s(_){if(_.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+_.key.toString("hex"));const S=_.key.slice(1);if(!r(S))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+_.key.toString("hex"));if(_.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const T={masterFingerprint:_.value.slice(0,4),pubkey:S,path:"m"};for(const O of v2(_.value.length/4-1)){const v=_.value.readUInt32LE(O*4+4),R=!!(v&2147483648),b=v&2147483647;T.path+="/"+b.toString(10)+(R?"'":"")}return T}function u(_){const S=M.from([t]),T=M.concat([S,_.pubkey]),O=_.path.split("/"),v=M.allocUnsafe(O.length*4);_.masterFingerprint.copy(v,0);let R=4;return O.slice(1).forEach(b=>{const H=b.slice(-1)==="'";let D=2147483647&parseInt(H?b.slice(0,-1):b,10);H&&(D+=2147483648),v.writeUInt32LE(D,R),R+=4}),{key:T,value:v}}const f="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function d(_){return M.isBuffer(_.pubkey)&&M.isBuffer(_.masterFingerprint)&&typeof _.path=="string"&&r(_.pubkey)&&_.masterFingerprint.length===4}function h(_,S,T){const O=S.pubkey.toString("hex");return T.has(O)?!1:(T.add(O),_.filter(v=>v.pubkey.equals(S.pubkey)).length===0)}return{decode:s,encode:u,check:d,expected:f,canAddToArray:h}}Hf.makeConverter=b2;var jh={};Object.defineProperty(jh,"__esModule",{value:!0});function T2(t){return r;function r(s){let u;if(t.includes(s.key[0])&&(u=s.key.slice(1),!(u.length===33||u.length===65)||![2,3,4].includes(u[0])))throw new Error("Format Error: invalid pubkey in key 0x"+s.key.toString("hex"));return u}}jh.makeChecker=T2;var Xh={};Object.defineProperty(Xh,"__esModule",{value:!0});function O2(t){function r(h){if(h.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+h.key.toString("hex"));return h.value}function s(h){return{key:M.from([t]),value:h}}const u="Buffer";function f(h){return M.isBuffer(h)}function d(h,_){return!!h&&!!_&&h.redeemScript===void 0}return{decode:r,encode:s,check:f,expected:u,canAdd:d}}Xh.makeConverter=O2;var Zh={};Object.defineProperty(Zh,"__esModule",{value:!0});const nf=Jn,k2=Hf,I2=t=>t.length===32;function A2(t){const r=k2.makeConverter(t,I2);function s(h){const _=nf.decode(h.value),S=nf.encodingLength(_),T=r.decode({key:h.key,value:h.value.slice(S+_*32)}),O=new Array(_);for(let v=0,R=S;v<_;v++,R+=32)O[v]=h.value.slice(R,R+32);return Object.assign({},T,{leafHashes:O})}function u(h){const _=r.encode(h),S=nf.encodingLength(h.leafHashes.length),T=M.allocUnsafe(S);nf.encode(h.leafHashes.length,T);const O=M.concat([T,...h.leafHashes,_.value]);return Object.assign({},_,{value:O})}const f="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function d(h){return Array.isArray(h.leafHashes)&&h.leafHashes.every(_=>M.isBuffer(_)&&_.length===32)&&r.check(h)}return{decode:s,encode:u,check:d,expected:f,canAddToArray:r.canAddToArray}}Zh.makeConverter=A2;var Jh={};Object.defineProperty(Jh,"__esModule",{value:!0});function P2(t){function r(h){if(h.key[0]!==t||h.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+h.key.toString("hex"));if(h.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return h.value}function s(h){return{key:M.from([t]),value:h}}const u="Buffer";function f(h){return M.isBuffer(h)&&h.length===32}function d(h,_){return!!h&&!!_&&h.tapInternalKey===void 0}return{decode:r,encode:s,check:f,expected:u,canAdd:d}}Jh.makeConverter=P2;var Qh={};Object.defineProperty(Qh,"__esModule",{value:!0});function x2(t){function r(h){if(h.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+h.key.toString("hex"));return h.value}function s(h){return{key:M.from([t]),value:h}}const u="Buffer";function f(h){return M.isBuffer(h)}function d(h,_){return!!h&&!!_&&h.witnessScript===void 0}return{decode:r,encode:s,check:f,expected:u,canAdd:d}}Qh.makeConverter=x2;Object.defineProperty(ls,"__esModule",{value:!0});const wn=Ot,M2=hs,N2=qh,C2=ds,R2=ps,U2=gs,H2=_s,D2=ys,L2=ws,B2=ms,F2=Ss,W2=vs,Y2=Es,$2=bs,G2=Ts,fg=Hf,ed=jh,cg=Xh,lg=Zh,hg=Jh,dg=Qh,K2={unsignedTx:N2,globalXpub:M2,checkPubkey:ed.makeChecker([])};ls.globals=K2;const V2={nonWitnessUtxo:U2,partialSig:H2,sighashType:L2,finalScriptSig:C2,finalScriptWitness:R2,porCommitment:D2,witnessUtxo:$2,bip32Derivation:fg.makeConverter(wn.InputTypes.BIP32_DERIVATION),redeemScript:cg.makeConverter(wn.InputTypes.REDEEM_SCRIPT),witnessScript:dg.makeConverter(wn.InputTypes.WITNESS_SCRIPT),checkPubkey:ed.makeChecker([wn.InputTypes.PARTIAL_SIG,wn.InputTypes.BIP32_DERIVATION]),tapKeySig:B2,tapScriptSig:Y2,tapLeafScript:F2,tapBip32Derivation:lg.makeConverter(wn.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:hg.makeConverter(wn.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:W2};ls.inputs=V2;const q2={bip32Derivation:fg.makeConverter(wn.OutputTypes.BIP32_DERIVATION),redeemScript:cg.makeConverter(wn.OutputTypes.REDEEM_SCRIPT),witnessScript:dg.makeConverter(wn.OutputTypes.WITNESS_SCRIPT),checkPubkey:ed.makeChecker([wn.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:lg.makeConverter(wn.OutputTypes.TAP_BIP32_DERIVATION),tapTree:G2,tapInternalKey:hg.makeConverter(wn.OutputTypes.TAP_INTERNAL_KEY)};ls.outputs=q2;Object.defineProperty(bu,"__esModule",{value:!0});const Xe=ls,wf=Sr,Zp=Jn,ge=Ot;function z2(t,r){let s=0;function u(){const C=Zp.decode(t,s);s+=Zp.encodingLength(C);const z=t.slice(s,s+C);return s+=C,z}function f(){const C=t.readUInt32BE(s);return s+=4,C}function d(){const C=t.readUInt8(s);return s+=1,C}function h(){const C=u(),z=u();return{key:C,value:z}}function _(){if(s>=t.length)throw new Error("Format Error: Unexpected End of PSBT");const C=t.readUInt8(s)===0;return C&&s++,C}if(f()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(d()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");const S=[],T={};for(;!_();){const C=h(),z=C.key.toString("hex");if(T[z])throw new Error("Format Error: Keys must be unique for global keymap: key "+z);T[z]=1,S.push(C)}const O=S.filter(C=>C.key[0]===ge.GlobalTypes.UNSIGNED_TX);if(O.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const v=r(O[0].value),{inputCount:R,outputCount:b}=v.getInputOutputCounts(),H=[],D=[];for(const C of wf.range(R)){const z={},Z=[];for(;!_();){const x=h(),N=x.key.toString("hex");if(z[N])throw new Error("Format Error: Keys must be unique for each input: input index "+C+" key "+N);z[N]=1,Z.push(x)}H.push(Z)}for(const C of wf.range(b)){const z={},Z=[];for(;!_();){const x=h(),N=x.key.toString("hex");if(z[N])throw new Error("Format Error: Keys must be unique for each output: output index "+C+" key "+N);z[N]=1,Z.push(x)}D.push(Z)}return pg(v,{globalMapKeyVals:S,inputKeyVals:H,outputKeyVals:D})}bu.psbtFromBuffer=z2;function Mt(t,r,s){if(!r.equals(M.from([s])))throw new Error(`Format Error: Invalid ${t} key: ${r.toString("hex")}`)}bu.checkKeyBuffer=Mt;function pg(t,{globalMapKeyVals:r,inputKeyVals:s,outputKeyVals:u}){const f={unsignedTx:t};let d=0;for(const O of r)switch(O.key[0]){case ge.GlobalTypes.UNSIGNED_TX:if(Mt("global",O.key,ge.GlobalTypes.UNSIGNED_TX),d>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");d++;break;case ge.GlobalTypes.GLOBAL_XPUB:f.globalXpub===void 0&&(f.globalXpub=[]),f.globalXpub.push(Xe.globals.globalXpub.decode(O));break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(O)}const h=s.length,_=u.length,S=[],T=[];for(const O of wf.range(h)){const v={};for(const R of s[O])switch(Xe.inputs.checkPubkey(R),R.key[0]){case ge.InputTypes.NON_WITNESS_UTXO:if(Mt("input",R.key,ge.InputTypes.NON_WITNESS_UTXO),v.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");v.nonWitnessUtxo=Xe.inputs.nonWitnessUtxo.decode(R);break;case ge.InputTypes.WITNESS_UTXO:if(Mt("input",R.key,ge.InputTypes.WITNESS_UTXO),v.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");v.witnessUtxo=Xe.inputs.witnessUtxo.decode(R);break;case ge.InputTypes.PARTIAL_SIG:v.partialSig===void 0&&(v.partialSig=[]),v.partialSig.push(Xe.inputs.partialSig.decode(R));break;case ge.InputTypes.SIGHASH_TYPE:if(Mt("input",R.key,ge.InputTypes.SIGHASH_TYPE),v.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");v.sighashType=Xe.inputs.sighashType.decode(R);break;case ge.InputTypes.REDEEM_SCRIPT:if(Mt("input",R.key,ge.InputTypes.REDEEM_SCRIPT),v.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");v.redeemScript=Xe.inputs.redeemScript.decode(R);break;case ge.InputTypes.WITNESS_SCRIPT:if(Mt("input",R.key,ge.InputTypes.WITNESS_SCRIPT),v.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");v.witnessScript=Xe.inputs.witnessScript.decode(R);break;case ge.InputTypes.BIP32_DERIVATION:v.bip32Derivation===void 0&&(v.bip32Derivation=[]),v.bip32Derivation.push(Xe.inputs.bip32Derivation.decode(R));break;case ge.InputTypes.FINAL_SCRIPTSIG:Mt("input",R.key,ge.InputTypes.FINAL_SCRIPTSIG),v.finalScriptSig=Xe.inputs.finalScriptSig.decode(R);break;case ge.InputTypes.FINAL_SCRIPTWITNESS:Mt("input",R.key,ge.InputTypes.FINAL_SCRIPTWITNESS),v.finalScriptWitness=Xe.inputs.finalScriptWitness.decode(R);break;case ge.InputTypes.POR_COMMITMENT:Mt("input",R.key,ge.InputTypes.POR_COMMITMENT),v.porCommitment=Xe.inputs.porCommitment.decode(R);break;case ge.InputTypes.TAP_KEY_SIG:Mt("input",R.key,ge.InputTypes.TAP_KEY_SIG),v.tapKeySig=Xe.inputs.tapKeySig.decode(R);break;case ge.InputTypes.TAP_SCRIPT_SIG:v.tapScriptSig===void 0&&(v.tapScriptSig=[]),v.tapScriptSig.push(Xe.inputs.tapScriptSig.decode(R));break;case ge.InputTypes.TAP_LEAF_SCRIPT:v.tapLeafScript===void 0&&(v.tapLeafScript=[]),v.tapLeafScript.push(Xe.inputs.tapLeafScript.decode(R));break;case ge.InputTypes.TAP_BIP32_DERIVATION:v.tapBip32Derivation===void 0&&(v.tapBip32Derivation=[]),v.tapBip32Derivation.push(Xe.inputs.tapBip32Derivation.decode(R));break;case ge.InputTypes.TAP_INTERNAL_KEY:Mt("input",R.key,ge.InputTypes.TAP_INTERNAL_KEY),v.tapInternalKey=Xe.inputs.tapInternalKey.decode(R);break;case ge.InputTypes.TAP_MERKLE_ROOT:Mt("input",R.key,ge.InputTypes.TAP_MERKLE_ROOT),v.tapMerkleRoot=Xe.inputs.tapMerkleRoot.decode(R);break;default:v.unknownKeyVals||(v.unknownKeyVals=[]),v.unknownKeyVals.push(R)}S.push(v)}for(const O of wf.range(_)){const v={};for(const R of u[O])switch(Xe.outputs.checkPubkey(R),R.key[0]){case ge.OutputTypes.REDEEM_SCRIPT:if(Mt("output",R.key,ge.OutputTypes.REDEEM_SCRIPT),v.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");v.redeemScript=Xe.outputs.redeemScript.decode(R);break;case ge.OutputTypes.WITNESS_SCRIPT:if(Mt("output",R.key,ge.OutputTypes.WITNESS_SCRIPT),v.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");v.witnessScript=Xe.outputs.witnessScript.decode(R);break;case ge.OutputTypes.BIP32_DERIVATION:v.bip32Derivation===void 0&&(v.bip32Derivation=[]),v.bip32Derivation.push(Xe.outputs.bip32Derivation.decode(R));break;case ge.OutputTypes.TAP_INTERNAL_KEY:Mt("output",R.key,ge.OutputTypes.TAP_INTERNAL_KEY),v.tapInternalKey=Xe.outputs.tapInternalKey.decode(R);break;case ge.OutputTypes.TAP_TREE:Mt("output",R.key,ge.OutputTypes.TAP_TREE),v.tapTree=Xe.outputs.tapTree.decode(R);break;case ge.OutputTypes.TAP_BIP32_DERIVATION:v.tapBip32Derivation===void 0&&(v.tapBip32Derivation=[]),v.tapBip32Derivation.push(Xe.outputs.tapBip32Derivation.decode(R));break;default:v.unknownKeyVals||(v.unknownKeyVals=[]),v.unknownKeyVals.push(R)}T.push(v)}return{globalMap:f,inputs:S,outputs:T}}bu.psbtFromKeyVals=pg;var Df={};Object.defineProperty(Df,"__esModule",{value:!0});const _h=ls,Jp=Sr;function j2({globalMap:t,inputs:r,outputs:s}){const{globalKeyVals:u,inputKeyVals:f,outputKeyVals:d}=gg({globalMap:t,inputs:r,outputs:s}),h=Jp.keyValsToBuffer(u),_=v=>v.length===0?[M.from([0])]:v.map(Jp.keyValsToBuffer),S=_(f),T=_(d),O=M.allocUnsafe(5);return O.writeUIntBE(482972169471,0,5),M.concat([O,h].concat(S,T))}Df.psbtToBuffer=j2;const X2=(t,r)=>t.key.compare(r.key);function yh(t,r){const s=new Set,u=Object.entries(t).reduce((d,[h,_])=>{if(h==="unknownKeyVals")return d;const S=r[h];if(S===void 0)return d;const T=(Array.isArray(_)?_:[_]).map(S.encode);return T.map(v=>v.key.toString("hex")).forEach(v=>{if(s.has(v))throw new Error("Serialize Error: Duplicate key: "+v);s.add(v)}),d.concat(T)},[]),f=t.unknownKeyVals?t.unknownKeyVals.filter(d=>!s.has(d.key.toString("hex"))):[];return u.concat(f).sort(X2)}function gg({globalMap:t,inputs:r,outputs:s}){return{globalKeyVals:yh(t,_h.globals),inputKeyVals:r.map(u=>yh(u,_h.inputs)),outputKeyVals:s.map(u=>yh(u,_h.outputs))}}Df.psbtToKeyVals=gg;(function(t){function r(s){for(var u in s)t.hasOwnProperty(u)||(t[u]=s[u])}Object.defineProperty(t,"__esModule",{value:!0}),r(bu),r(Df)})(Vh);Object.defineProperty(Kh,"__esModule",{value:!0});const wh=Vh;function Z2(t){const r=t[0],s=wh.psbtToKeyVals(r),u=t.slice(1);if(u.length===0)throw new Error("Combine: Nothing to combine");const f=Qp(r);if(f===void 0)throw new Error("Combine: Self missing transaction");const d=po(s.globalKeyVals),h=s.inputKeyVals.map(po),_=s.outputKeyVals.map(po);for(const S of u){const T=Qp(S);if(T===void 0||!T.toBuffer().equals(f.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const O=wh.psbtToKeyVals(S);po(O.globalKeyVals).forEach(mh(d,s.globalKeyVals,O.globalKeyVals)),O.inputKeyVals.map(po).forEach((H,D)=>H.forEach(mh(h[D],s.inputKeyVals[D],O.inputKeyVals[D]))),O.outputKeyVals.map(po).forEach((H,D)=>H.forEach(mh(_[D],s.outputKeyVals[D],O.outputKeyVals[D])))}return wh.psbtFromKeyVals(f,{globalMapKeyVals:s.globalKeyVals,inputKeyVals:s.inputKeyVals,outputKeyVals:s.outputKeyVals})}Kh.combine=Z2;function mh(t,r,s){return u=>{if(t.has(u))return;const f=s.filter(d=>d.key.toString("hex")===u)[0];r.push(f),t.add(u)}}function Qp(t){return t.globalMap.unsignedTx}function po(t){const r=new Set;return t.forEach(s=>{const u=s.key.toString("hex");if(r.has(u))throw new Error("Combine: KeyValue Map keys should be unique");r.add(u)}),r}var td={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});const r=ls;function s(b,H){const D=b[H];if(D===void 0)throw new Error(`No input #${H}`);return D}t.checkForInput=s;function u(b,H){const D=b[H];if(D===void 0)throw new Error(`No output #${H}`);return D}t.checkForOutput=u;function f(b,H,D){if(b.key[0]<D)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(H&&H.filter(C=>C.key.equals(b.key)).length!==0)throw new Error(`Duplicate Key: ${b.key.toString("hex")}`)}t.checkHasKey=f;function d(b){let H=0;return Object.keys(b).forEach(D=>{Number(isNaN(Number(D)))&&H++}),H}t.getEnumLength=d;function h(b,H){let D=!1;if(H.nonWitnessUtxo||H.witnessUtxo){const C=!!H.redeemScript,z=!!H.witnessScript,Z=!C||!!H.finalScriptSig,x=!z||!!H.finalScriptWitness,N=!!H.finalScriptSig||!!H.finalScriptWitness;D=Z&&x&&N}if(D===!1)throw new Error(`Input #${b} has too much or too little data to clean`)}t.inputCheckUncleanFinalized=h;function _(b,H,D,C){throw new Error(`Data for ${b} key ${H} is incorrect: Expected ${D} and got ${JSON.stringify(C)}`)}function S(b){return(H,D)=>{for(const C of Object.keys(H)){const z=H[C],{canAdd:Z,canAddToArray:x,check:N,expected:W}=r[b+"s"][C]||{},U=!!x;if(N)if(U){if(!Array.isArray(z)||D[C]&&!Array.isArray(D[C]))throw new Error(`Key type ${C} must be an array`);z.every(N)||_(b,C,W,z);const q=D[C]||[],ne=new Set;if(!z.every(V=>x(q,V,ne)))throw new Error("Can not add duplicate data to array");D[C]=q.concat(z)}else{if(N(z)||_(b,C,W,z),!Z(D,z))throw new Error(`Can not add duplicate data to ${b}`);D[C]=z}}}}t.updateGlobal=S("global"),t.updateInput=S("input"),t.updateOutput=S("output");function T(b,H){const D=b.length-1,C=s(b,D);t.updateInput(H,C)}t.addInputAttributes=T;function O(b,H){const D=b.length-1,C=u(b,D);t.updateOutput(H,C)}t.addOutputAttributes=O;function v(b,H){if(!M.isBuffer(H)||H.length<4)throw new Error("Set Version: Invalid Transaction");return H.writeUInt32LE(b,0),H}t.defaultVersionSetter=v;function R(b,H){if(!M.isBuffer(H)||H.length<4)throw new Error("Set Locktime: Invalid Transaction");return H.writeUInt32LE(b,H.length-4),H}t.defaultLocktimeSetter=R})(td);Object.defineProperty(Gh,"__esModule",{value:!0});const J2=Kh,e0=Vh,Sh=Ot,xt=td;let Q2=class{constructor(r){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:r}}static fromBase64(r,s){const u=M.from(r,"base64");return this.fromBuffer(u,s)}static fromHex(r,s){const u=M.from(r,"hex");return this.fromBuffer(u,s)}static fromBuffer(r,s){const u=e0.psbtFromBuffer(r,s),f=new this(u.globalMap.unsignedTx);return Object.assign(f,u),f}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return e0.psbtToBuffer(this)}updateGlobal(r){return xt.updateGlobal(r,this.globalMap),this}updateInput(r,s){const u=xt.checkForInput(this.inputs,r);return xt.updateInput(s,u),this}updateOutput(r,s){const u=xt.checkForOutput(this.outputs,r);return xt.updateOutput(s,u),this}addUnknownKeyValToGlobal(r){return xt.checkHasKey(r,this.globalMap.unknownKeyVals,xt.getEnumLength(Sh.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(r),this}addUnknownKeyValToInput(r,s){const u=xt.checkForInput(this.inputs,r);return xt.checkHasKey(s,u.unknownKeyVals,xt.getEnumLength(Sh.InputTypes)),u.unknownKeyVals||(u.unknownKeyVals=[]),u.unknownKeyVals.push(s),this}addUnknownKeyValToOutput(r,s){const u=xt.checkForOutput(this.outputs,r);return xt.checkHasKey(s,u.unknownKeyVals,xt.getEnumLength(Sh.OutputTypes)),u.unknownKeyVals||(u.unknownKeyVals=[]),u.unknownKeyVals.push(s),this}addInput(r){this.globalMap.unsignedTx.addInput(r),this.inputs.push({unknownKeyVals:[]});const s=r.unknownKeyVals||[],u=this.inputs.length-1;if(!Array.isArray(s))throw new Error("unknownKeyVals must be an Array");return s.forEach(f=>this.addUnknownKeyValToInput(u,f)),xt.addInputAttributes(this.inputs,r),this}addOutput(r){this.globalMap.unsignedTx.addOutput(r),this.outputs.push({unknownKeyVals:[]});const s=r.unknownKeyVals||[],u=this.outputs.length-1;if(!Array.isArray(s))throw new Error("unknownKeyVals must be an Array");return s.forEach(f=>this.addUnknownKeyValToOutput(u,f)),xt.addOutputAttributes(this.outputs,r),this}clearFinalizedInput(r){const s=xt.checkForInput(this.inputs,r);xt.inputCheckUncleanFinalized(r,s);for(const u of Object.keys(s))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(u)||delete s[u];return this}combine(...r){const s=J2.combine([this].concat(r));return Object.assign(this,s),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};Gh.Psbt=Q2;var Je={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.signatureBlocksAction=Ke.checkInputForSig=Ke.pubkeyInScript=Ke.pubkeyPositionInScript=Ke.witnessStackToScriptWitness=Ke.isP2TR=Ke.isP2SHScript=Ke.isP2WSHScript=Ke.isP2WPKH=Ke.isP2PKH=Ke.isP2PK=Ke.isP2MS=void 0;const t0=Jn,yu=zt(),rf=Di,eE=mr,Os=Eu();function ks(t){return r=>{try{return t({output:r}),!0}catch{return!1}}}Ke.isP2MS=ks(Os.p2ms);Ke.isP2PK=ks(Os.p2pk);Ke.isP2PKH=ks(Os.p2pkh);Ke.isP2WPKH=ks(Os.p2wpkh);Ke.isP2WSHScript=ks(Os.p2wsh);Ke.isP2SHScript=ks(Os.p2sh);Ke.isP2TR=ks(Os.p2tr);function tE(t){let r=M.allocUnsafe(0);function s(h){r=M.concat([r,M.from(h)])}function u(h){const _=r.length,S=t0.encodingLength(h);r=M.concat([r,M.allocUnsafe(S)]),t0.encode(h,r,_)}function f(h){u(h.length),s(h)}function d(h){u(h.length),h.forEach(f)}return d(t),r}Ke.witnessStackToScriptWitness=tE;function _g(t,r){const s=(0,eE.hash160)(t),u=t.slice(1,33),f=yu.decompile(r);if(f===null)throw new Error("Unknown script error");return f.findIndex(d=>typeof d=="number"?!1:d.equals(t)||d.equals(s)||d.equals(u))}Ke.pubkeyPositionInScript=_g;function nE(t,r){return _g(t,r)!==-1}Ke.pubkeyInScript=nE;function rE(t,r){return iE(t).some(u=>yg(u,yu.signature.decode,r))}Ke.checkInputForSig=rE;function yg(t,r,s){const{hashType:u}=r(t),f=[];switch(u&rf.Transaction.SIGHASH_ANYONECANPAY&&f.push("addInput"),u&31){case rf.Transaction.SIGHASH_ALL:break;case rf.Transaction.SIGHASH_SINGLE:case rf.Transaction.SIGHASH_NONE:f.push("addOutput"),f.push("setInputSequence");break}return f.indexOf(s)===-1}Ke.signatureBlocksAction=yg;function iE(t){let r=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];r=sE(t)}else r=t.partialSig;return r.map(s=>s.signature)}function sE(t){const r=t.finalScriptSig?yu.decompile(t.finalScriptSig)||[]:[],s=t.finalScriptWitness?yu.decompile(t.finalScriptWitness)||[]:[];return r.concat(s).filter(u=>M.isBuffer(u)&&yu.isCanonicalScriptSignature(u)).map(u=>({signature:u}))}Object.defineProperty(Je,"__esModule",{value:!0});Je.checkTaprootInputForSigs=Je.tapTreeFromList=Je.tapTreeToList=Je.tweakInternalPubKey=Je.checkTaprootOutputFields=Je.checkTaprootInputFields=Je.isTaprootOutput=Je.isTaprootInput=Je.serializeTaprootSignature=Je.tapScriptFinalizer=Je.toXOnly=void 0;const nd=Ct,oE=Di,Lf=Ke,Hi=Nf,uE=Eu(),aE=Ke,fE=t=>t.length===32?t:t.slice(1,33);Je.toXOnly=fE;function cE(t,r,s){const u=AE(r,t,s);try{const d=kE(r,u).concat(u.script).concat(u.controlBlock);return{finalScriptWitness:(0,Lf.witnessStackToScriptWitness)(d)}}catch(f){throw new Error(`Can not finalize taproot input #${t}: ${f}`)}}Je.tapScriptFinalizer=cE;function lE(t,r){const s=r?M.from([r]):M.from([]);return M.concat([t,s])}Je.serializeTaprootSignature=lE;function cf(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,Lf.isP2TR)(t.witnessUtxo.script))}Je.isTaprootInput=cf;function lf(t,r){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||r&&(0,Lf.isP2TR)(r))}Je.isTaprootOutput=lf;function hE(t,r,s){bE(t,r,s),OE(t,r,s)}Je.checkTaprootInputFields=hE;function dE(t,r,s){TE(t,r,s),pE(t,r)}Je.checkTaprootOutputFields=dE;function pE(t,r){if(!r.tapTree&&!r.tapInternalKey)return;const s=r.tapInternalKey||t.tapInternalKey,u=r.tapTree||t.tapTree;if(s){const{script:f}=t,d=gE(s,u);if(f&&!f.equals(d))throw new Error("Error adding output. Script or address missmatch.")}}function gE(t,r){const s=r&&wg(r.leaves),{output:u}=(0,uE.p2tr)({internalPubkey:t,scriptTree:s});return u}function _E(t,r){const s=r.tapInternalKey,u=s&&(0,Hi.tweakKey)(s,r.tapMerkleRoot);if(!u)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${s&&s.toString("hex")}`);return u.x}Je.tweakInternalPubKey=_E;function yE(t){if(!(0,nd.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return Ih(t)}Je.tapTreeToList=yE;function wg(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:EE(t)}Je.tapTreeFromList=wg;function wE(t,r){return SE(t).some(u=>(0,aE.signatureBlocksAction)(u,mE,r))}Je.checkTaprootInputForSigs=wE;function mE(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||oE.Transaction.SIGHASH_DEFAULT}}function SE(t){const r=[];if(t.tapKeySig&&r.push(t.tapKeySig),t.tapScriptSig&&r.push(...t.tapScriptSig.map(s=>s.signature)),!r.length){const s=vE(t.finalScriptWitness);s&&r.push(s)}return r}function vE(t){if(!t)return;const r=t.slice(2);if(r.length===64||r.length===65)return r}function Ih(t,r=[],s=0){if(s>Hi.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,nd.isTapleaf)(t)?(r.push({depth:s,leafVersion:t.version||Hi.LEAF_VERSION_TAPSCRIPT,script:t.output}),r):(t[0]&&Ih(t[0],r,s+1),t[1]&&Ih(t[1],r,s+1),r):[]}function EE(t){let r;for(const s of t)if(r=Ah(s,r),!r)throw new Error("No room left to insert tapleaf in tree");return r}function Ah(t,r,s=0){if(s>Hi.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===s)return r?void 0:{output:t.script,version:t.leafVersion};if((0,nd.isTapleaf)(r))return;const u=Ah(t,r&&r[0],s+1);if(u)return[u,r&&r[1]];const f=Ah(t,r&&r[1],s+1);if(f)return[r&&r[0],f]}function bE(t,r,s){const u=cf(t)&&Eo(r),f=Eo(t)&&cf(r),d=t===r&&cf(r)&&Eo(r);if(u||f||d)throw new Error(`Invalid arguments for Psbt.${s}. Cannot use both taproot and non-taproot fields.`)}function TE(t,r,s){const u=lf(t)&&Eo(r),f=Eo(t)&&lf(r),d=t===r&&lf(r)&&Eo(r);if(u||f||d)throw new Error(`Invalid arguments for Psbt.${s}. Cannot use both taproot and non-taproot fields.`)}function OE(t,r,s){if(r.tapMerkleRoot){const u=(r.tapLeafScript||[]).every(d=>vh(d,r.tapMerkleRoot)),f=(t.tapLeafScript||[]).every(d=>vh(d,r.tapMerkleRoot));if(!u||!f)throw new Error(`Invalid arguments for Psbt.${s}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(r.tapLeafScript||[]).every(f=>vh(f,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${s}. Tapleaf not part of taptree.`)}function vh(t,r){if(!r)return!0;const s=(0,Hi.tapleafHash)({output:t.script,version:t.leafVersion});return(0,Hi.rootHashFromPath)(t.controlBlock,s).equals(r)}function kE(t,r){const s=(0,Hi.tapleafHash)({output:r.script,version:r.leafVersion});return(t.tapScriptSig||[]).filter(u=>u.leafHash.equals(s)).map(u=>IE(r.script,u)).sort((u,f)=>f.positionInScript-u.positionInScript).map(u=>u.signature)}function IE(t,r){return Object.assign({positionInScript:(0,Lf.pubkeyPositionInScript)(r.pubkey,t)},r)}function AE(t,r,s){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${r}. No tapleaf script signature provided.`);const u=(t.tapLeafScript||[]).sort((f,d)=>f.controlBlock.length-d.controlBlock.length).find(f=>PE(f,t.tapScriptSig,s));if(!u)throw new Error(`Can not finalize taproot input #${r}. Signature for tapleaf script not found.`);return u}function PE(t,r,s){const u=(0,Hi.tapleafHash)({output:t.script,version:t.leafVersion});return(!s||s.equals(u))&&r.find(d=>d.leafHash.equals(u))!==void 0}function Eo(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}Object.defineProperty(Uf,"__esModule",{value:!0});Uf.Psbt=void 0;const n0=Gh,r0=Jn,Vt=td,i0=$h(),mf=mt,xE=Tt,Rn=Eu(),ME=Nf,qr=zt(),Dt=Di,nt=Je,gt=Ke,NE={network:xE.bitcoin,maximumFeeRate:5e3};class Sf{static fromBase64(r,s={}){const u=M.from(r,"base64");return this.fromBuffer(u,s)}static fromHex(r,s={}){const u=M.from(r,"hex");return this.fromBuffer(u,s)}static fromBuffer(r,s={}){const u=n0.Psbt.fromBuffer(r,CE),f=new Sf(s,u);return LE(f.__CACHE.__TX,f.__CACHE),f}constructor(r={},s=new n0.Psbt(new mg)){this.data=s,this.opts=Object.assign({},NE,r),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);const u=(f,d,h,_)=>Object.defineProperty(f,d,{enumerable:h,writable:_});u(this,"__CACHE",!1,!0),u(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(r){this.setVersion(r)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(r){this.setLocktime(r)}get txInputs(){return this.__CACHE.__TX.ins.map(r=>({hash:(0,mf.cloneBuffer)(r.hash),index:r.index,sequence:r.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(r=>{let s;try{s=(0,i0.fromOutputScript)(r.script,this.opts.network)}catch{}return{script:(0,mf.cloneBuffer)(r.script),value:r.value,address:s}})}combine(...r){return this.data.combine(...r.map(s=>s.data)),this}clone(){const r=Sf.fromBuffer(this.data.toBuffer());return r.opts=JSON.parse(JSON.stringify(this.opts)),r}setMaximumFeeRate(r){sf(r),this.opts.maximumFeeRate=r}setVersion(r){sf(r),fu(this.data.inputs,"setVersion");const s=this.__CACHE;return s.__TX.version=r,s.__EXTRACTED_TX=void 0,this}setLocktime(r){sf(r),fu(this.data.inputs,"setLocktime");const s=this.__CACHE;return s.__TX.locktime=r,s.__EXTRACTED_TX=void 0,this}setInputSequence(r,s){sf(s),fu(this.data.inputs,"setInputSequence");const u=this.__CACHE;if(u.__TX.ins.length<=r)throw new Error("Input index too high");return u.__TX.ins[r].sequence=s,u.__EXTRACTED_TX=void 0,this}addInputs(r){return r.forEach(s=>this.addInput(s)),this}addInput(r){if(arguments.length>1||!r||r.hash===void 0||r.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,nt.checkTaprootInputFields)(r,r,"addInput"),fu(this.data.inputs,"addInput"),r.witnessScript&&vf(r.witnessScript);const s=this.__CACHE;this.data.addInput(r);const u=s.__TX.ins[s.__TX.ins.length-1];Eg(s,u);const f=this.data.inputs.length-1,d=this.data.inputs[f];return d.nonWitnessUtxo&&xh(this.__CACHE,d,f),s.__FEE=void 0,s.__FEE_RATE=void 0,s.__EXTRACTED_TX=void 0,this}addOutputs(r){return r.forEach(s=>this.addOutput(s)),this}addOutput(r){if(arguments.length>1||!r||r.value===void 0||r.address===void 0&&r.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");fu(this.data.inputs,"addOutput");const{address:s}=r;if(typeof s=="string"){const{network:f}=this.opts,d=(0,i0.toOutputScript)(s,f);r=Object.assign({},r,{script:d})}(0,nt.checkTaprootOutputFields)(r,r,"addOutput");const u=this.__CACHE;return this.data.addOutput(r),u.__FEE=void 0,u.__FEE_RATE=void 0,u.__EXTRACTED_TX=void 0,this}extractTransaction(r){if(!this.data.inputs.every(Sg))throw new Error("Not finalized");const s=this.__CACHE;if(r||UE(this,s,this.opts),s.__EXTRACTED_TX)return s.__EXTRACTED_TX;const u=s.__TX.clone();return Ag(this.data.inputs,u,s,!0),u}getFeeRate(){return f0("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return f0("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,Vt.checkForInput)(this.data.inputs,0),cu(this.data.inputs.length).forEach(r=>this.finalizeInput(r)),this}finalizeInput(r,s){const u=(0,Vt.checkForInput)(this.data.inputs,r);return(0,nt.isTaprootInput)(u)?this._finalizeTaprootInput(r,u,void 0,s):this._finalizeInput(r,u,s)}finalizeTaprootInput(r,s,u=nt.tapScriptFinalizer){const f=(0,Vt.checkForInput)(this.data.inputs,r);if((0,nt.isTaprootInput)(f))return this._finalizeTaprootInput(r,f,s,u);throw new Error(`Cannot finalize input #${r}. Not Taproot.`)}_finalizeInput(r,s,u=BE){const{script:f,isP2SH:d,isP2WSH:h,isSegwit:_}=$E(r,s,this.__CACHE);if(!f)throw new Error(`No script found for input #${r}`);HE(s);const{finalScriptSig:S,finalScriptWitness:T}=u(r,s,f,_,d,h);if(S&&this.data.updateInput(r,{finalScriptSig:S}),T&&this.data.updateInput(r,{finalScriptWitness:T}),!S&&!T)throw new Error(`Unknown error finalizing input #${r}`);return this.data.clearFinalizedInput(r),this}_finalizeTaprootInput(r,s,u,f=nt.tapScriptFinalizer){if(!s.witnessUtxo)throw new Error(`Cannot finalize input #${r}. Missing withness utxo.`);if(s.tapKeySig){const d=Rn.p2tr({output:s.witnessUtxo.script,signature:s.tapKeySig}),h=(0,gt.witnessStackToScriptWitness)(d.witness);this.data.updateInput(r,{finalScriptWitness:h})}else{const{finalScriptWitness:d}=f(r,s,u);this.data.updateInput(r,{finalScriptWitness:d})}return this.data.clearFinalizedInput(r),this}getInputType(r){const s=(0,Vt.checkForInput)(this.data.inputs,r),u=Pg(r,s,this.__CACHE),f=Ff(u,r,"input",s.redeemScript||zE(s.finalScriptSig),s.witnessScript||jE(s.finalScriptWitness)),d=f.type==="raw"?"":f.type+"-",h=Mg(f.meaningfulScript);return d+h}inputHasPubkey(r,s){const u=(0,Vt.checkForInput)(this.data.inputs,r);return VE(s,u,r,this.__CACHE)}inputHasHDKey(r,s){const u=(0,Vt.checkForInput)(this.data.inputs,r),f=o0(s);return!!u.bip32Derivation&&u.bip32Derivation.some(f)}outputHasPubkey(r,s){const u=(0,Vt.checkForOutput)(this.data.outputs,r);return qE(s,u,r,this.__CACHE)}outputHasHDKey(r,s){const u=(0,Vt.checkForOutput)(this.data.outputs,r),f=o0(s);return!!u.bip32Derivation&&u.bip32Derivation.some(f)}validateSignaturesOfAllInputs(r){return(0,Vt.checkForInput)(this.data.inputs,0),cu(this.data.inputs.length).map(u=>this.validateSignaturesOfInput(u,r)).reduce((u,f)=>f===!0&&u,!0)}validateSignaturesOfInput(r,s,u){const f=this.data.inputs[r];return(0,nt.isTaprootInput)(f)?this.validateSignaturesOfTaprootInput(r,s,u):this._validateSignaturesOfInput(r,s,u)}_validateSignaturesOfInput(r,s,u){const f=this.data.inputs[r],d=(f||{}).partialSig;if(!f||!d||d.length<1)throw new Error("No signatures to validate");if(typeof s!="function")throw new Error("Need validator function to validate signatures");const h=u?d.filter(v=>v.pubkey.equals(u)):d;if(h.length<1)throw new Error("No signatures for this pubkey");const _=[];let S,T,O;for(const v of h){const R=qr.signature.decode(v.signature),{hash:b,script:H}=O!==R.hashType?Tg(r,Object.assign({},f,{sighashType:R.hashType}),this.__CACHE,!0):{hash:S,script:T};O=R.hashType,S=b,T=H,vg(v.pubkey,H,"verify"),_.push(s(v.pubkey,b,R.signature))}return _.every(v=>v===!0)}validateSignaturesOfTaprootInput(r,s,u){const f=this.data.inputs[r],d=(f||{}).tapKeySig,h=(f||{}).tapScriptSig;if(!f&&!d&&!(h&&!h.length))throw new Error("No signatures to validate");if(typeof s!="function")throw new Error("Need validator function to validate signatures");u=u&&(0,nt.toXOnly)(u);const _=u?Ph(r,f,this.data.inputs,u,this.__CACHE):WE(r,f,this.data.inputs,this.__CACHE);if(!_.length)throw new Error("No signatures for this pubkey");const S=_.find(O=>!O.leafHash);let T=0;if(d&&S){if(!s(S.pubkey,S.hash,l0(d)))return!1;T++}if(h)for(const O of h){const v=_.find(R=>O.pubkey.equals(R.pubkey));if(v){if(!s(O.pubkey,v.hash,l0(O.signature)))return!1;T++}}return T>0}signAllInputsHD(r,s=[Dt.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");const u=[];for(const f of cu(this.data.inputs.length))try{this.signInputHD(f,r,s),u.push(!0)}catch{u.push(!1)}if(u.every(f=>f===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(r,s=[Dt.Transaction.SIGHASH_ALL]){return new Promise((u,f)=>{if(!r||!r.publicKey||!r.fingerprint)return f(new Error("Need HDSigner to sign input"));const d=[],h=[];for(const _ of cu(this.data.inputs.length))h.push(this.signInputHDAsync(_,r,s).then(()=>{d.push(!0)},()=>{d.push(!1)}));return Promise.all(h).then(()=>{if(d.every(_=>_===!1))return f(new Error("No inputs were signed"));u()})})}signInputHD(r,s,u=[Dt.Transaction.SIGHASH_ALL]){if(!s||!s.publicKey||!s.fingerprint)throw new Error("Need HDSigner to sign input");return h0(r,this.data.inputs,s).forEach(d=>this.signInput(r,d,u)),this}signInputHDAsync(r,s,u=[Dt.Transaction.SIGHASH_ALL]){return new Promise((f,d)=>{if(!s||!s.publicKey||!s.fingerprint)return d(new Error("Need HDSigner to sign input"));const _=h0(r,this.data.inputs,s).map(S=>this.signInputAsync(r,S,u));return Promise.all(_).then(()=>{f()}).catch(d)})}signAllInputs(r,s){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");const u=[];for(const f of cu(this.data.inputs.length))try{this.signInput(f,r,s),u.push(!0)}catch{u.push(!1)}if(u.every(f=>f===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(r,s){return new Promise((u,f)=>{if(!r||!r.publicKey)return f(new Error("Need Signer to sign input"));const d=[],h=[];for(const[_]of this.data.inputs.entries())h.push(this.signInputAsync(_,r,s).then(()=>{d.push(!0)},()=>{d.push(!1)}));return Promise.all(h).then(()=>{if(d.every(_=>_===!1))return f(new Error("No inputs were signed"));u()})})}signInput(r,s,u){if(!s||!s.publicKey)throw new Error("Need Signer to sign input");const f=(0,Vt.checkForInput)(this.data.inputs,r);return(0,nt.isTaprootInput)(f)?this._signTaprootInput(r,f,s,void 0,u):this._signInput(r,s,u)}signTaprootInput(r,s,u,f){if(!s||!s.publicKey)throw new Error("Need Signer to sign input");const d=(0,Vt.checkForInput)(this.data.inputs,r);if((0,nt.isTaprootInput)(d))return this._signTaprootInput(r,d,s,u,f);throw new Error(`Input #${r} is not of type Taproot.`)}_signInput(r,s,u=[Dt.Transaction.SIGHASH_ALL]){const{hash:f,sighashType:d}=c0(this.data.inputs,r,s.publicKey,this.__CACHE,u),h=[{pubkey:s.publicKey,signature:qr.signature.encode(s.sign(f),d)}];return this.data.updateInput(r,{partialSig:h}),this}_signTaprootInput(r,s,u,f,d=[Dt.Transaction.SIGHASH_DEFAULT]){const h=this.checkTaprootHashesForSig(r,s,u,f,d),_=h.filter(T=>!T.leafHash).map(T=>(0,nt.serializeTaprootSignature)(u.signSchnorr(T.hash),s.sighashType))[0],S=h.filter(T=>!!T.leafHash).map(T=>({pubkey:(0,nt.toXOnly)(u.publicKey),signature:(0,nt.serializeTaprootSignature)(u.signSchnorr(T.hash),s.sighashType),leafHash:T.leafHash}));return _&&this.data.updateInput(r,{tapKeySig:_}),S.length&&this.data.updateInput(r,{tapScriptSig:S}),this}signInputAsync(r,s,u){return Promise.resolve().then(()=>{if(!s||!s.publicKey)throw new Error("Need Signer to sign input");const f=(0,Vt.checkForInput)(this.data.inputs,r);return(0,nt.isTaprootInput)(f)?this._signTaprootInputAsync(r,f,s,void 0,u):this._signInputAsync(r,s,u)})}signTaprootInputAsync(r,s,u,f){return Promise.resolve().then(()=>{if(!s||!s.publicKey)throw new Error("Need Signer to sign input");const d=(0,Vt.checkForInput)(this.data.inputs,r);if((0,nt.isTaprootInput)(d))return this._signTaprootInputAsync(r,d,s,u,f);throw new Error(`Input #${r} is not of type Taproot.`)})}_signInputAsync(r,s,u=[Dt.Transaction.SIGHASH_ALL]){const{hash:f,sighashType:d}=c0(this.data.inputs,r,s.publicKey,this.__CACHE,u);return Promise.resolve(s.sign(f)).then(h=>{const _=[{pubkey:s.publicKey,signature:qr.signature.encode(h,d)}];this.data.updateInput(r,{partialSig:_})})}async _signTaprootInputAsync(r,s,u,f,d=[Dt.Transaction.SIGHASH_DEFAULT]){const h=this.checkTaprootHashesForSig(r,s,u,f,d),_=[],S=h.filter(O=>!O.leafHash)[0];if(S){const O=Promise.resolve(u.signSchnorr(S.hash)).then(v=>({tapKeySig:(0,nt.serializeTaprootSignature)(v,s.sighashType)}));_.push(O)}const T=h.filter(O=>!!O.leafHash);if(T.length){const O=T.map(v=>Promise.resolve(u.signSchnorr(v.hash)).then(R=>({tapScriptSig:[{pubkey:(0,nt.toXOnly)(u.publicKey),signature:(0,nt.serializeTaprootSignature)(R,s.sighashType),leafHash:v.leafHash}]})));_.push(...O)}return Promise.all(_).then(O=>{O.forEach(v=>this.data.updateInput(r,v))})}checkTaprootHashesForSig(r,s,u,f,d){if(typeof u.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${r}.`);const h=Ph(r,s,this.data.inputs,u.publicKey,this.__CACHE,f,d);if(!h||!h.length)throw new Error(`Can not sign for input #${r} with the key ${u.publicKey.toString("hex")}`);return h}toBuffer(){return Eh(this.__CACHE),this.data.toBuffer()}toHex(){return Eh(this.__CACHE),this.data.toHex()}toBase64(){return Eh(this.__CACHE),this.data.toBase64()}updateGlobal(r){return this.data.updateGlobal(r),this}updateInput(r,s){return s.witnessScript&&vf(s.witnessScript),(0,nt.checkTaprootInputFields)(this.data.inputs[r],s,"updateInput"),this.data.updateInput(r,s),s.nonWitnessUtxo&&xh(this.__CACHE,this.data.inputs[r],r),this}updateOutput(r,s){const u=this.data.outputs[r];return(0,nt.checkTaprootOutputFields)(u,s,"updateOutput"),this.data.updateOutput(r,s),this}addUnknownKeyValToGlobal(r){return this.data.addUnknownKeyValToGlobal(r),this}addUnknownKeyValToInput(r,s){return this.data.addUnknownKeyValToInput(r,s),this}addUnknownKeyValToOutput(r,s){return this.data.addUnknownKeyValToOutput(r,s),this}clearFinalizedInput(r){return this.data.clearFinalizedInput(r),this}}Uf.Psbt=Sf;const CE=t=>new mg(t);class mg{constructor(r=M.from([2,0,0,0,0,0,0,0,0,0])){this.tx=Dt.Transaction.fromBuffer(r),DE(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(r){if(r.hash===void 0||r.index===void 0||!M.isBuffer(r.hash)&&typeof r.hash!="string"||typeof r.index!="number")throw new Error("Error adding input.");const s=typeof r.hash=="string"?(0,mf.reverseBuffer)(M.from(r.hash,"hex")):r.hash;this.tx.addInput(s,r.index,r.sequence)}addOutput(r){if(r.script===void 0||r.value===void 0||!M.isBuffer(r.script)||typeof r.value!="number")throw new Error("Error adding output.");this.tx.addOutput(r.script,r.value)}toBuffer(){return this.tx.toBuffer()}}function RE(t,r,s){switch(s){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return s0(1,t.partialSig);case"multisig":const u=Rn.p2ms({output:r});return s0(u.m,t.partialSig,u.pubkeys);default:return!1}}function Eh(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function s0(t,r,s){if(!r)return!1;let u;if(s?u=s.map(f=>{const d=XE(f);return r.find(h=>h.pubkey.equals(d))}).filter(f=>!!f):u=r,u.length>t)throw new Error("Too many signatures");return u.length===t}function Sg(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function o0(t){return r=>!(!r.masterFingerprint.equals(t.fingerprint)||!t.derivePath(r.path).publicKey.equals(r.pubkey))}function sf(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function UE(t,r,s){const u=r.__FEE_RATE||t.getFeeRate(),f=r.__EXTRACTED_TX.virtualSize(),d=u*f;if(u>=s.maximumFeeRate)throw new Error(`Warning: You are paying around ${(d/1e8).toFixed(8)} in fees, which is ${u} satoshi per byte for a transaction with a VSize of ${f} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function fu(t,r){t.forEach(s=>{if((0,nt.isTaprootInput)(s)?(0,nt.checkTaprootInputForSigs)(s,r):(0,gt.checkInputForSig)(s,r))throw new Error("Can not modify transaction, signatures exist.")})}function HE(t){if(!t.sighashType||!t.partialSig)return;const{partialSig:r,sighashType:s}=t;r.forEach(u=>{const{hashType:f}=qr.signature.decode(u.signature);if(s!==f)throw new Error("Signature sighash does not match input sighash type")})}function vg(t,r,s){if(!(0,gt.pubkeyInScript)(t,r))throw new Error(`Can not ${s} for this input with the key ${t.toString("hex")}`)}function DE(t){if(!t.ins.every(s=>s.script&&s.script.length===0&&s.witness&&s.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function LE(t,r){t.ins.forEach(s=>{Eg(r,s)})}function Eg(t,r){const s=(0,mf.reverseBuffer)(M.from(r.hash)).toString("hex")+":"+r.index;if(t.__TX_IN_CACHE[s])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[s]=1}function bg(t,r){return(s,u,f,d)=>{const h=t({redeem:{output:f}}).output;if(!u.equals(h))throw new Error(`${r} for ${d} #${s} doesn't match the scriptPubKey in the prevout`)}}const u0=bg(Rn.p2sh,"Redeem script"),a0=bg(Rn.p2wsh,"Witness script");function f0(t,r,s,u){if(!s.every(Sg))throw new Error(`PSBT must be finalized to calculate ${r}`);if(t==="__FEE_RATE"&&u.__FEE_RATE)return u.__FEE_RATE;if(t==="__FEE"&&u.__FEE)return u.__FEE;let f,d=!0;if(u.__EXTRACTED_TX?(f=u.__EXTRACTED_TX,d=!1):f=u.__TX.clone(),Ag(s,f,u,d),t==="__FEE_RATE")return u.__FEE_RATE;if(t==="__FEE")return u.__FEE}function BE(t,r,s,u,f,d){const h=Mg(s);if(!RE(r,s,h))throw new Error(`Can not finalize input #${t}`);return FE(s,h,r.partialSig,u,f,d)}function FE(t,r,s,u,f,d){let h,_;const S=YE(t,r,s),T=d?Rn.p2wsh({redeem:S}):null,O=f?Rn.p2sh({redeem:T||S}):null;return u?(T?_=(0,gt.witnessStackToScriptWitness)(T.witness):_=(0,gt.witnessStackToScriptWitness)(S.witness),O&&(h=O.input)):O?h=O.input:h=S.input,{finalScriptSig:h,finalScriptWitness:_}}function c0(t,r,s,u,f){const d=(0,Vt.checkForInput)(t,r),{hash:h,sighashType:_,script:S}=Tg(r,d,u,!1,f);return vg(s,S,"sign"),{hash:h,sighashType:_}}function Tg(t,r,s,u,f){const d=s.__TX,h=r.sighashType||Dt.Transaction.SIGHASH_ALL;kg(h,f);let _,S;if(r.nonWitnessUtxo){const v=Bf(s,r,t),R=d.ins[t].hash,b=v.getHash();if(!R.equals(b))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);const H=d.ins[t].index;S=v.outs[H]}else if(r.witnessUtxo)S=r.witnessUtxo;else throw new Error("Need a Utxo input item for signing");const{meaningfulScript:T,type:O}=Ff(S.script,t,"input",r.redeemScript,r.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(O)>=0)_=d.hashForWitnessV0(t,T,S.value,h);else if((0,gt.isP2WPKH)(T)){const v=Rn.p2pkh({hash:T.slice(2)}).output;_=d.hashForWitnessV0(t,v,S.value,h)}else{if(r.nonWitnessUtxo===void 0&&s.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${T.toString("hex")}`);!u&&s.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecessor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),_=d.hashForSignature(t,T,h)}return{script:T,sighashType:h,hash:_}}function WE(t,r,s,u){const f=[];if(r.tapInternalKey){const h=Og(t,r,u);h&&f.push(h)}if(r.tapScriptSig){const h=r.tapScriptSig.map(_=>_.pubkey);f.push(...h)}return f.map(h=>Ph(t,r,s,h,u)).flat()}function Og(t,r,s){const{script:u}=rd(t,r,s);return(0,gt.isP2TR)(u)?u.subarray(2,34):null}function l0(t){return t.length===64?t:t.subarray(0,64)}function Ph(t,r,s,u,f,d,h){const _=f.__TX,S=r.sighashType||Dt.Transaction.SIGHASH_DEFAULT;kg(S,h);const T=s.map((H,D)=>rd(D,H,f)),O=T.map(H=>H.script),v=T.map(H=>H.value),R=[];if(r.tapInternalKey&&!d){const H=Og(t,r,f)||M.from([]);if((0,nt.toXOnly)(u).equals(H)){const D=_.hashForWitnessV1(t,O,v,S);R.push({pubkey:u,hash:D})}}const b=(r.tapLeafScript||[]).filter(H=>(0,gt.pubkeyInScript)(u,H.script)).map(H=>{const D=(0,ME.tapleafHash)({output:H.script,version:H.leafVersion});return Object.assign({hash:D},H)}).filter(H=>!d||d.equals(H.hash)).map(H=>{const D=_.hashForWitnessV1(t,O,v,S,H.hash);return{pubkey:u,hash:D,leafHash:H.hash}});return R.concat(b)}function kg(t,r){if(r&&r.indexOf(t)<0){const s=KE(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${s}`)}}function YE(t,r,s){let u;switch(r){case"multisig":const f=GE(t,s);u=Rn.p2ms({output:t,signatures:f});break;case"pubkey":u=Rn.p2pk({output:t,signature:s[0].signature});break;case"pubkeyhash":u=Rn.p2pkh({output:t,pubkey:s[0].pubkey,signature:s[0].signature});break;case"witnesspubkeyhash":u=Rn.p2wpkh({output:t,pubkey:s[0].pubkey,signature:s[0].signature});break}return u}function $E(t,r,s){const u=s.__TX,f={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(f.isP2SH=!!r.redeemScript,f.isP2WSH=!!r.witnessScript,r.witnessScript)f.script=r.witnessScript;else if(r.redeemScript)f.script=r.redeemScript;else if(r.nonWitnessUtxo){const d=Bf(s,r,t),h=u.ins[t].index;f.script=d.outs[h].script}else r.witnessUtxo&&(f.script=r.witnessUtxo.script);return(r.witnessScript||(0,gt.isP2WPKH)(f.script))&&(f.isSegwit=!0),f}function h0(t,r,s){const u=(0,Vt.checkForInput)(r,t);if(!u.bip32Derivation||u.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");const f=u.bip32Derivation.map(h=>{if(h.masterFingerprint.equals(s.fingerprint))return h}).filter(h=>!!h);if(f.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return f.map(h=>{const _=s.derivePath(h.path);if(!h.pubkey.equals(_.publicKey))throw new Error("pubkey did not match bip32Derivation");return _})}function GE(t,r){return Rn.p2ms({output:t}).pubkeys.map(u=>(r.filter(f=>f.pubkey.equals(u))[0]||{}).signature).filter(u=>!!u)}function Ig(t){let r=0;function s(h){return r+=h,t.slice(r-h,r)}function u(){const h=r0.decode(t,r);return r+=r0.decode.bytes,h}function f(){return s(u())}function d(){const h=u(),_=[];for(let S=0;S<h;S++)_.push(f());return _}return d()}function KE(t){let r=t&Dt.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case Dt.Transaction.SIGHASH_ALL:r+="SIGHASH_ALL";break;case Dt.Transaction.SIGHASH_SINGLE:r+="SIGHASH_SINGLE";break;case Dt.Transaction.SIGHASH_NONE:r+="SIGHASH_NONE";break}return r}function xh(t,r,s){t.__NON_WITNESS_UTXO_BUF_CACHE[s]=r.nonWitnessUtxo;const u=Dt.Transaction.fromBuffer(r.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[s]=u;const f=t,d=s;delete r.nonWitnessUtxo,Object.defineProperty(r,"nonWitnessUtxo",{enumerable:!0,get(){const h=f.__NON_WITNESS_UTXO_BUF_CACHE[d],_=f.__NON_WITNESS_UTXO_TX_CACHE[d];if(h!==void 0)return h;{const S=_.toBuffer();return f.__NON_WITNESS_UTXO_BUF_CACHE[d]=S,S}},set(h){f.__NON_WITNESS_UTXO_BUF_CACHE[d]=h}})}function Ag(t,r,s,u){let f=0;t.forEach((S,T)=>{if(u&&S.finalScriptSig&&(r.ins[T].script=S.finalScriptSig),u&&S.finalScriptWitness&&(r.ins[T].witness=Ig(S.finalScriptWitness)),S.witnessUtxo)f+=S.witnessUtxo.value;else if(S.nonWitnessUtxo){const O=Bf(s,S,T),v=r.ins[T].index,R=O.outs[v];f+=R.value}});const d=r.outs.reduce((S,T)=>S+T.value,0),h=f-d;if(h<0)throw new Error("Outputs are spending more than Inputs");const _=r.virtualSize();s.__FEE=h,s.__EXTRACTED_TX=r,s.__FEE_RATE=Math.floor(h/_)}function Bf(t,r,s){const u=t.__NON_WITNESS_UTXO_TX_CACHE;return u[s]||xh(t,r,s),u[s]}function Pg(t,r,s){const{script:u}=rd(t,r,s);return u}function rd(t,r,s){if(r.witnessUtxo!==void 0)return{script:r.witnessUtxo.script,value:r.witnessUtxo.value};if(r.nonWitnessUtxo!==void 0){const f=Bf(s,r,t).outs[s.__TX.ins[t].index];return{script:f.script,value:f.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function VE(t,r,s,u){const f=Pg(s,r,u),{meaningfulScript:d}=Ff(f,s,"input",r.redeemScript,r.witnessScript);return(0,gt.pubkeyInScript)(t,d)}function qE(t,r,s,u){const f=u.__TX.outs[s].script,{meaningfulScript:d}=Ff(f,s,"output",r.redeemScript,r.witnessScript);return(0,gt.pubkeyInScript)(t,d)}function zE(t){if(!t)return;const r=qr.decompile(t);if(!r)return;const s=r[r.length-1];if(!(!M.isBuffer(s)||xg(s)||ZE(s)||!qr.decompile(s)))return s}function jE(t){if(!t)return;const r=Ig(t),s=r[r.length-1];if(!(xg(s)||!qr.decompile(s)))return s}function XE(t){if(t.length===65){const r=t[64]&1,s=t.slice(0,33);return s[0]=2|r,s}return t.slice()}function xg(t){return t.length===33&&qr.isCanonicalPubKey(t)}function ZE(t){return qr.isCanonicalScriptSignature(t)}function Ff(t,r,s,u,f){const d=(0,gt.isP2SHScript)(t),h=d&&u&&(0,gt.isP2WSHScript)(u),_=(0,gt.isP2WSHScript)(t);if(d&&u===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((_||h)&&f===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let S;return h?(S=f,u0(r,t,u,s),a0(r,u,f,s),vf(S)):_?(S=f,a0(r,t,f,s),vf(S)):d?(S=u,u0(r,t,u,s)):S=t,{meaningfulScript:S,type:h?"p2sh-p2wsh":d?"p2sh":_?"p2wsh":"raw"}}function vf(t){if((0,gt.isP2WPKH)(t)||(0,gt.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function Mg(t){return(0,gt.isP2WPKH)(t)?"witnesspubkeyhash":(0,gt.isP2PKH)(t)?"pubkeyhash":(0,gt.isP2MS)(t)?"multisig":(0,gt.isP2PK)(t)?"pubkey":"nonstandard"}function cu(t){return[...Array(t).keys()]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.initEccLib=t.Transaction=t.opcodes=t.Psbt=t.Block=t.script=t.payments=t.networks=t.crypto=t.address=void 0;const r=$h();t.address=r;const s=mr;t.crypto=s;const u=Tt;t.networks=u;const f=Eu();t.payments=f;const d=zt();t.script=d;var h=Cf;Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return h.Block}});var _=Uf;Object.defineProperty(t,"Psbt",{enumerable:!0,get:function(){return _.Psbt}});var S=Ri;Object.defineProperty(t,"opcodes",{enumerable:!0,get:function(){return S.OPS}});var T=Di;Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return T.Transaction}});var O=Ui;Object.defineProperty(t,"initEccLib",{enumerable:!0,get:function(){return O.initEccLib}})})(m0);function JE(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ng={exports:{}};(function(t,r){(function(s,u){t.exports=u()})(go,function(){var s;function u(){return s.apply(null,arguments)}function f(i){s=i}function d(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function h(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function _(i,a){return Object.prototype.hasOwnProperty.call(i,a)}function S(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var a;for(a in i)if(_(i,a))return!1;return!0}function T(i){return i===void 0}function O(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function v(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function R(i,a){var l=[],p,y=i.length;for(p=0;p<y;++p)l.push(a(i[p],p));return l}function b(i,a){for(var l in a)_(a,l)&&(i[l]=a[l]);return _(a,"toString")&&(i.toString=a.toString),_(a,"valueOf")&&(i.valueOf=a.valueOf),i}function H(i,a,l,p){return ci(i,a,l,p,!0).utc()}function D(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function C(i){return i._pf==null&&(i._pf=D()),i._pf}var z;Array.prototype.some?z=Array.prototype.some:z=function(i){var a=Object(this),l=a.length>>>0,p;for(p=0;p<l;p++)if(p in a&&i.call(this,a[p],p,a))return!0;return!1};function Z(i){var a=null,l=!1,p=i._d&&!isNaN(i._d.getTime());if(p&&(a=C(i),l=z.call(a.parsedDateParts,function(y){return y!=null}),p=a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&l),i._strict&&(p=p&&a.charsLeftOver===0&&a.unusedTokens.length===0&&a.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=p;else return p;return i._isValid}function x(i){var a=H(NaN);return i!=null?b(C(a),i):C(a).userInvalidated=!0,a}var N=u.momentProperties=[],W=!1;function U(i,a){var l,p,y,k=N.length;if(T(a._isAMomentObject)||(i._isAMomentObject=a._isAMomentObject),T(a._i)||(i._i=a._i),T(a._f)||(i._f=a._f),T(a._l)||(i._l=a._l),T(a._strict)||(i._strict=a._strict),T(a._tzm)||(i._tzm=a._tzm),T(a._isUTC)||(i._isUTC=a._isUTC),T(a._offset)||(i._offset=a._offset),T(a._pf)||(i._pf=C(a)),T(a._locale)||(i._locale=a._locale),k>0)for(l=0;l<k;l++)p=N[l],y=a[p],T(y)||(i[p]=y);return i}function q(i){U(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),W===!1&&(W=!0,u.updateOffset(this),W=!1)}function ne(i){return i instanceof q||i!=null&&i._isAMomentObject!=null}function V(i){u.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+i)}function ie(i,a){var l=!0;return b(function(){if(u.deprecationHandler!=null&&u.deprecationHandler(null,i),l){var p=[],y,k,B,Q=arguments.length;for(k=0;k<Q;k++){if(y="",typeof arguments[k]=="object"){y+=`
[`+k+"] ";for(B in arguments[0])_(arguments[0],B)&&(y+=B+": "+arguments[0][B]+", ");y=y.slice(0,-2)}else y=arguments[k];p.push(y)}V(i+`
Arguments: `+Array.prototype.slice.call(p).join("")+`
`+new Error().stack),l=!1}return a.apply(this,arguments)},a)}var Pe={};function Y(i,a){u.deprecationHandler!=null&&u.deprecationHandler(i,a),Pe[i]||(V(a),Pe[i]=!0)}u.suppressDeprecationWarnings=!1,u.deprecationHandler=null;function X(i){return typeof Function<"u"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function he(i){var a,l;for(l in i)_(i,l)&&(a=i[l],X(a)?this[l]=a:this["_"+l]=a);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Oe(i,a){var l=b({},i),p;for(p in a)_(a,p)&&(h(i[p])&&h(a[p])?(l[p]={},b(l[p],i[p]),b(l[p],a[p])):a[p]!=null?l[p]=a[p]:delete l[p]);for(p in i)_(i,p)&&!_(a,p)&&h(i[p])&&(l[p]=b({},l[p]));return l}function Ne(i){i!=null&&this.set(i)}var Ye;Object.keys?Ye=Object.keys:Ye=function(i){var a,l=[];for(a in i)_(i,a)&&l.push(a);return l};var kt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function jt(i,a,l){var p=this._calendar[i]||this._calendar.sameElse;return X(p)?p.call(a,l):p}function dt(i,a,l){var p=""+Math.abs(i),y=a-p.length,k=i>=0;return(k?l?"+":"":"-")+Math.pow(10,Math.max(0,y)).toString().substr(1)+p}var St=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Xt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,vr={},Rt={};function re(i,a,l,p){var y=p;typeof p=="string"&&(y=function(){return this[p]()}),i&&(Rt[i]=y),a&&(Rt[a[0]]=function(){return dt(y.apply(this,arguments),a[1],a[2])}),l&&(Rt[l]=function(){return this.localeData().ordinal(y.apply(this,arguments),i)})}function Sn(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function ot(i){var a=i.match(St),l,p;for(l=0,p=a.length;l<p;l++)Rt[a[l]]?a[l]=Rt[a[l]]:a[l]=Sn(a[l]);return function(y){var k="",B;for(B=0;B<p;B++)k+=X(a[B])?a[B].call(y,i):a[B];return k}}function He(i,a){return i.isValid()?(a=on(a,i.localeData()),vr[a]=vr[a]||ot(a),vr[a](i)):i.localeData().invalidDate()}function on(i,a){var l=5;function p(y){return a.longDateFormat(y)||y}for(Xt.lastIndex=0;l>=0&&Xt.test(i);)i=i.replace(Xt,p),Xt.lastIndex=0,l-=1;return i}var Is={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ut(i){var a=this._longDateFormat[i],l=this._longDateFormat[i.toUpperCase()];return a||!l?a:(this._longDateFormat[i]=l.match(St).map(function(p){return p==="MMMM"||p==="MM"||p==="DD"||p==="dddd"?p.slice(1):p}).join(""),this._longDateFormat[i])}var As="Invalid date";function Tu(){return this._invalidDate}var un="%d",Li=/\d{1,2}/;function Wf(i){return this._ordinal.replace("%d",i)}var Un={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ou(i,a,l,p){var y=this._relativeTime[l];return X(y)?y(i,a,l,p):y.replace(/%d/i,i)}function Yf(i,a){var l=this._relativeTime[i>0?"future":"past"];return X(l)?l(a):l.replace(/%s/i,a)}var Xr={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ze(i){return typeof i=="string"?Xr[i]||Xr[i.toLowerCase()]:void 0}function Er(i){var a={},l,p;for(p in i)_(i,p)&&(l=Ze(p),l&&(a[l]=i[p]));return a}var Ps={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function $f(i){var a=[],l;for(l in i)_(i,l)&&a.push({unit:l,priority:Ps[l]});return a.sort(function(p,y){return p.priority-y.priority}),a}var Zr=/\d/,Lt=/\d\d/,Jr=/\d{3}/,Qn=/\d{4}/,Qr=/[+-]?\d{6}/,Be=/\d\d?/,xs=/\d\d\d\d?/,Ms=/\d\d\d\d\d\d?/,ei=/\d{1,3}/,Bi=/\d{1,4}/,ti=/[+-]?\d{1,6}/,er=/\d+/,ni=/[+-]?\d+/,Gf=/Z|[+-]\d\d:?\d\d/gi,Ns=/Z|[+-]\d\d(?::?\d\d)?/gi,Kf=/[+-]?\d+(\.\d{1,3})?/,ri=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,br=/^[1-9]\d?/,ko=/^([1-9]\d|\d)/,Cs;Cs={};function ee(i,a,l){Cs[i]=X(a)?a:function(p,y){return p&&l?l:a}}function Vf(i,a){return _(Cs,i)?Cs[i](a._strict,a._locale):new RegExp(ku(i))}function ku(i){return Hn(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,l,p,y,k){return l||p||y||k}))}function Hn(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Zt(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function Ee(i){var a=+i,l=0;return a!==0&&isFinite(a)&&(l=Zt(a)),l}var Fi={};function De(i,a){var l,p=a,y;for(typeof i=="string"&&(i=[i]),O(a)&&(p=function(k,B){B[a]=Ee(k)}),y=i.length,l=0;l<y;l++)Fi[i[l]]=p}function Tr(i,a){De(i,function(l,p,y,k){y._w=y._w||{},a(l,y._w,y,k)})}function qf(i,a,l){a!=null&&_(Fi,i)&&Fi[i](a,l._a,l,i)}function Rs(i){return i%4===0&&i%100!==0||i%400===0}var vt=0,Dn=1,vn=2,at=3,an=4,Ln=5,tr=6,zf=7,jf=8;re("Y",0,0,function(){var i=this.year();return i<=9999?dt(i,4):"+"+i}),re(0,["YY",2],0,function(){return this.year()%100}),re(0,["YYYY",4],0,"year"),re(0,["YYYYY",5],0,"year"),re(0,["YYYYYY",6,!0],0,"year"),ee("Y",ni),ee("YY",Be,Lt),ee("YYYY",Bi,Qn),ee("YYYYY",ti,Qr),ee("YYYYYY",ti,Qr),De(["YYYYY","YYYYYY"],vt),De("YYYY",function(i,a){a[vt]=i.length===2?u.parseTwoDigitYear(i):Ee(i)}),De("YY",function(i,a){a[vt]=u.parseTwoDigitYear(i)}),De("Y",function(i,a){a[vt]=parseInt(i,10)});function Wi(i){return Rs(i)?366:365}u.parseTwoDigitYear=function(i){return Ee(i)+(Ee(i)>68?1900:2e3)};var Iu=ii("FullYear",!0);function Xf(){return Rs(this.year())}function ii(i,a){return function(l){return l!=null?(Au(this,i,l),u.updateOffset(this,a),this):nr(this,i)}}function nr(i,a){if(!i.isValid())return NaN;var l=i._d,p=i._isUTC;switch(a){case"Milliseconds":return p?l.getUTCMilliseconds():l.getMilliseconds();case"Seconds":return p?l.getUTCSeconds():l.getSeconds();case"Minutes":return p?l.getUTCMinutes():l.getMinutes();case"Hours":return p?l.getUTCHours():l.getHours();case"Date":return p?l.getUTCDate():l.getDate();case"Day":return p?l.getUTCDay():l.getDay();case"Month":return p?l.getUTCMonth():l.getMonth();case"FullYear":return p?l.getUTCFullYear():l.getFullYear();default:return NaN}}function Au(i,a,l){var p,y,k,B,Q;if(!(!i.isValid()||isNaN(l))){switch(p=i._d,y=i._isUTC,a){case"Milliseconds":return void(y?p.setUTCMilliseconds(l):p.setMilliseconds(l));case"Seconds":return void(y?p.setUTCSeconds(l):p.setSeconds(l));case"Minutes":return void(y?p.setUTCMinutes(l):p.setMinutes(l));case"Hours":return void(y?p.setUTCHours(l):p.setHours(l));case"Date":return void(y?p.setUTCDate(l):p.setDate(l));case"FullYear":break;default:return}k=l,B=i.month(),Q=i.date(),Q=Q===29&&B===1&&!Rs(k)?28:Q,y?p.setUTCFullYear(k,B,Q):p.setFullYear(k,B,Q)}}function Us(i){return i=Ze(i),X(this[i])?this[i]():this}function Zf(i,a){if(typeof i=="object"){i=Er(i);var l=$f(i),p,y=l.length;for(p=0;p<y;p++)this[l[p].unit](i[l[p].unit])}else if(i=Ze(i),X(this[i]))return this[i](a);return this}function Jf(i,a){return(i%a+a)%a}var Qe;Array.prototype.indexOf?Qe=Array.prototype.indexOf:Qe=function(i){var a;for(a=0;a<this.length;++a)if(this[a]===i)return a;return-1};function Hs(i,a){if(isNaN(i)||isNaN(a))return NaN;var l=Jf(a,12);return i+=(a-l)/12,l===1?Rs(i)?29:28:31-l%7%2}re("M",["MM",2],"Mo",function(){return this.month()+1}),re("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)}),re("MMMM",0,0,function(i){return this.localeData().months(this,i)}),ee("M",Be,br),ee("MM",Be,Lt),ee("MMM",function(i,a){return a.monthsShortRegex(i)}),ee("MMMM",function(i,a){return a.monthsRegex(i)}),De(["M","MM"],function(i,a){a[Dn]=Ee(i)-1}),De(["MMM","MMMM"],function(i,a,l,p){var y=l._locale.monthsParse(i,p,l._strict);y!=null?a[Dn]=y:C(l).invalidMonth=i});var Pu="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Io="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Qf=ri,ec=ri;function tc(i,a){return i?d(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||xu).test(a)?"format":"standalone"][i.month()]:d(this._months)?this._months:this._months.standalone}function Mu(i,a){return i?d(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[xu.test(a)?"format":"standalone"][i.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Nu(i,a,l){var p,y,k,B=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],p=0;p<12;++p)k=H([2e3,p]),this._shortMonthsParse[p]=this.monthsShort(k,"").toLocaleLowerCase(),this._longMonthsParse[p]=this.months(k,"").toLocaleLowerCase();return l?a==="MMM"?(y=Qe.call(this._shortMonthsParse,B),y!==-1?y:null):(y=Qe.call(this._longMonthsParse,B),y!==-1?y:null):a==="MMM"?(y=Qe.call(this._shortMonthsParse,B),y!==-1?y:(y=Qe.call(this._longMonthsParse,B),y!==-1?y:null)):(y=Qe.call(this._longMonthsParse,B),y!==-1?y:(y=Qe.call(this._shortMonthsParse,B),y!==-1?y:null))}function Cu(i,a,l){var p,y,k;if(this._monthsParseExact)return Nu.call(this,i,a,l);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),p=0;p<12;p++){if(y=H([2e3,p]),l&&!this._longMonthsParse[p]&&(this._longMonthsParse[p]=new RegExp("^"+this.months(y,"").replace(".","")+"$","i"),this._shortMonthsParse[p]=new RegExp("^"+this.monthsShort(y,"").replace(".","")+"$","i")),!l&&!this._monthsParse[p]&&(k="^"+this.months(y,"")+"|^"+this.monthsShort(y,""),this._monthsParse[p]=new RegExp(k.replace(".",""),"i")),l&&a==="MMMM"&&this._longMonthsParse[p].test(i))return p;if(l&&a==="MMM"&&this._shortMonthsParse[p].test(i))return p;if(!l&&this._monthsParse[p].test(i))return p}}function Ds(i,a){if(!i.isValid())return i;if(typeof a=="string"){if(/^\d+$/.test(a))a=Ee(a);else if(a=i.localeData().monthsParse(a),!O(a))return i}var l=a,p=i.date();return p=p<29?p:Math.min(p,Hs(i.year(),l)),i._isUTC?i._d.setUTCMonth(l,p):i._d.setMonth(l,p),i}function Ru(i){return i!=null?(Ds(this,i),u.updateOffset(this,!0),this):nr(this,"Month")}function Uu(){return Hs(this.year(),this.month())}function Ls(i){return this._monthsParseExact?(_(this,"_monthsRegex")||Du.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(_(this,"_monthsShortRegex")||(this._monthsShortRegex=Qf),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function Hu(i){return this._monthsParseExact?(_(this,"_monthsRegex")||Du.call(this),i?this._monthsStrictRegex:this._monthsRegex):(_(this,"_monthsRegex")||(this._monthsRegex=ec),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function Du(){function i(ce,ye){return ye.length-ce.length}var a=[],l=[],p=[],y,k,B,Q;for(y=0;y<12;y++)k=H([2e3,y]),B=Hn(this.monthsShort(k,"")),Q=Hn(this.months(k,"")),a.push(B),l.push(Q),p.push(Q),p.push(B);a.sort(i),l.sort(i),p.sort(i),this._monthsRegex=new RegExp("^("+p.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Lu(i,a,l,p,y,k,B){var Q;return i<100&&i>=0?(Q=new Date(i+400,a,l,p,y,k,B),isFinite(Q.getFullYear())&&Q.setFullYear(i)):Q=new Date(i,a,l,p,y,k,B),Q}function si(i){var a,l;return i<100&&i>=0?(l=Array.prototype.slice.call(arguments),l[0]=i+400,a=new Date(Date.UTC.apply(null,l)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(i)):a=new Date(Date.UTC.apply(null,arguments)),a}function oi(i,a,l){var p=7+a-l,y=(7+si(i,0,p).getUTCDay()-a)%7;return-y+p-1}function Bu(i,a,l,p,y){var k=(7+l-p)%7,B=oi(i,p,y),Q=1+7*(a-1)+k+B,ce,ye;return Q<=0?(ce=i-1,ye=Wi(ce)+Q):Q>Wi(i)?(ce=i+1,ye=Q-Wi(i)):(ce=i,ye=Q),{year:ce,dayOfYear:ye}}function ui(i,a,l){var p=oi(i.year(),a,l),y=Math.floor((i.dayOfYear()-p-1)/7)+1,k,B;return y<1?(B=i.year()-1,k=y+fn(B,a,l)):y>fn(i.year(),a,l)?(k=y-fn(i.year(),a,l),B=i.year()+1):(B=i.year(),k=y),{week:k,year:B}}function fn(i,a,l){var p=oi(i,a,l),y=oi(i+1,a,l);return(Wi(i)-p+y)/7}re("w",["ww",2],"wo","week"),re("W",["WW",2],"Wo","isoWeek"),ee("w",Be,br),ee("ww",Be,Lt),ee("W",Be,br),ee("WW",Be,Lt),Tr(["w","ww","W","WW"],function(i,a,l,p){a[p.substr(0,1)]=Ee(i)});function Ao(i){return ui(i,this._week.dow,this._week.doy).week}var ai={dow:0,doy:6};function Fu(){return this._week.dow}function Wu(){return this._week.doy}function nc(i){var a=this.localeData().week(this);return i==null?a:this.add((i-a)*7,"d")}function Yu(i){var a=ui(this,1,4).week;return i==null?a:this.add((i-a)*7,"d")}re("d",0,"do","day"),re("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)}),re("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)}),re("dddd",0,0,function(i){return this.localeData().weekdays(this,i)}),re("e",0,0,"weekday"),re("E",0,0,"isoWeekday"),ee("d",Be),ee("e",Be),ee("E",Be),ee("dd",function(i,a){return a.weekdaysMinRegex(i)}),ee("ddd",function(i,a){return a.weekdaysShortRegex(i)}),ee("dddd",function(i,a){return a.weekdaysRegex(i)}),Tr(["dd","ddd","dddd"],function(i,a,l,p){var y=l._locale.weekdaysParse(i,p,l._strict);y!=null?a.d=y:C(l).invalidWeekday=i}),Tr(["d","e","E"],function(i,a,l,p){a[p]=Ee(i)});function $u(i,a){return typeof i!="string"?i:isNaN(i)?(i=a.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function Gu(i,a){return typeof i=="string"?a.weekdaysParse(i)%7||7:isNaN(i)?null:i}function Bs(i,a){return i.slice(a,7).concat(i.slice(0,a))}var rc="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ku="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ic="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Vu=ri,sc=ri,oc=ri;function uc(i,a){var l=d(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return i===!0?Bs(l,this._week.dow):i?l[i.day()]:l}function ac(i){return i===!0?Bs(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function Po(i){return i===!0?Bs(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function fc(i,a,l){var p,y,k,B=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],p=0;p<7;++p)k=H([2e3,1]).day(p),this._minWeekdaysParse[p]=this.weekdaysMin(k,"").toLocaleLowerCase(),this._shortWeekdaysParse[p]=this.weekdaysShort(k,"").toLocaleLowerCase(),this._weekdaysParse[p]=this.weekdays(k,"").toLocaleLowerCase();return l?a==="dddd"?(y=Qe.call(this._weekdaysParse,B),y!==-1?y:null):a==="ddd"?(y=Qe.call(this._shortWeekdaysParse,B),y!==-1?y:null):(y=Qe.call(this._minWeekdaysParse,B),y!==-1?y:null):a==="dddd"?(y=Qe.call(this._weekdaysParse,B),y!==-1||(y=Qe.call(this._shortWeekdaysParse,B),y!==-1)?y:(y=Qe.call(this._minWeekdaysParse,B),y!==-1?y:null)):a==="ddd"?(y=Qe.call(this._shortWeekdaysParse,B),y!==-1||(y=Qe.call(this._weekdaysParse,B),y!==-1)?y:(y=Qe.call(this._minWeekdaysParse,B),y!==-1?y:null)):(y=Qe.call(this._minWeekdaysParse,B),y!==-1||(y=Qe.call(this._weekdaysParse,B),y!==-1)?y:(y=Qe.call(this._shortWeekdaysParse,B),y!==-1?y:null))}function cc(i,a,l){var p,y,k;if(this._weekdaysParseExact)return fc.call(this,i,a,l);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),p=0;p<7;p++){if(y=H([2e3,1]).day(p),l&&!this._fullWeekdaysParse[p]&&(this._fullWeekdaysParse[p]=new RegExp("^"+this.weekdays(y,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[p]=new RegExp("^"+this.weekdaysShort(y,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[p]=new RegExp("^"+this.weekdaysMin(y,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[p]||(k="^"+this.weekdays(y,"")+"|^"+this.weekdaysShort(y,"")+"|^"+this.weekdaysMin(y,""),this._weekdaysParse[p]=new RegExp(k.replace(".",""),"i")),l&&a==="dddd"&&this._fullWeekdaysParse[p].test(i))return p;if(l&&a==="ddd"&&this._shortWeekdaysParse[p].test(i))return p;if(l&&a==="dd"&&this._minWeekdaysParse[p].test(i))return p;if(!l&&this._weekdaysParse[p].test(i))return p}}function lc(i){if(!this.isValid())return i!=null?this:NaN;var a=nr(this,"Day");return i!=null?(i=$u(i,this.localeData()),this.add(i-a,"d")):a}function hc(i){if(!this.isValid())return i!=null?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return i==null?a:this.add(i-a,"d")}function dc(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var a=Gu(i,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function Ve(i){return this._weekdaysParseExact?(_(this,"_weekdaysRegex")||xo.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(_(this,"_weekdaysRegex")||(this._weekdaysRegex=Vu),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function $e(i){return this._weekdaysParseExact?(_(this,"_weekdaysRegex")||xo.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(_(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=sc),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function pc(i){return this._weekdaysParseExact?(_(this,"_weekdaysRegex")||xo.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(_(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=oc),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function xo(){function i(Pt,An){return An.length-Pt.length}var a=[],l=[],p=[],y=[],k,B,Q,ce,ye;for(k=0;k<7;k++)B=H([2e3,1]).day(k),Q=Hn(this.weekdaysMin(B,"")),ce=Hn(this.weekdaysShort(B,"")),ye=Hn(this.weekdays(B,"")),a.push(Q),l.push(ce),p.push(ye),y.push(Q),y.push(ce),y.push(ye);a.sort(i),l.sort(i),p.sort(i),y.sort(i),this._weekdaysRegex=new RegExp("^("+y.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Mo(){return this.hours()%12||12}function gc(){return this.hours()||24}re("H",["HH",2],0,"hour"),re("h",["hh",2],0,Mo),re("k",["kk",2],0,gc),re("hmm",0,0,function(){return""+Mo.apply(this)+dt(this.minutes(),2)}),re("hmmss",0,0,function(){return""+Mo.apply(this)+dt(this.minutes(),2)+dt(this.seconds(),2)}),re("Hmm",0,0,function(){return""+this.hours()+dt(this.minutes(),2)}),re("Hmmss",0,0,function(){return""+this.hours()+dt(this.minutes(),2)+dt(this.seconds(),2)});function qu(i,a){re(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}qu("a",!0),qu("A",!1);function zu(i,a){return a._meridiemParse}ee("a",zu),ee("A",zu),ee("H",Be,ko),ee("h",Be,br),ee("k",Be,br),ee("HH",Be,Lt),ee("hh",Be,Lt),ee("kk",Be,Lt),ee("hmm",xs),ee("hmmss",Ms),ee("Hmm",xs),ee("Hmmss",Ms),De(["H","HH"],at),De(["k","kk"],function(i,a,l){var p=Ee(i);a[at]=p===24?0:p}),De(["a","A"],function(i,a,l){l._isPm=l._locale.isPM(i),l._meridiem=i}),De(["h","hh"],function(i,a,l){a[at]=Ee(i),C(l).bigHour=!0}),De("hmm",function(i,a,l){var p=i.length-2;a[at]=Ee(i.substr(0,p)),a[an]=Ee(i.substr(p)),C(l).bigHour=!0}),De("hmmss",function(i,a,l){var p=i.length-4,y=i.length-2;a[at]=Ee(i.substr(0,p)),a[an]=Ee(i.substr(p,2)),a[Ln]=Ee(i.substr(y)),C(l).bigHour=!0}),De("Hmm",function(i,a,l){var p=i.length-2;a[at]=Ee(i.substr(0,p)),a[an]=Ee(i.substr(p))}),De("Hmmss",function(i,a,l){var p=i.length-4,y=i.length-2;a[at]=Ee(i.substr(0,p)),a[an]=Ee(i.substr(p,2)),a[Ln]=Ee(i.substr(y))});function ju(i){return(i+"").toLowerCase().charAt(0)==="p"}var _c=/[ap]\.?m?\.?/i,_t=ii("Hours",!0);function No(i,a,l){return i>11?l?"pm":"PM":l?"am":"AM"}var rr={calendar:kt,longDateFormat:Is,invalidDate:As,ordinal:un,dayOfMonthOrdinalParse:Li,relativeTime:Un,months:Pu,monthsShort:Io,week:ai,weekdays:rc,weekdaysMin:ic,weekdaysShort:Ku,meridiemParse:_c},qe={},Or={},Et;function Xu(i,a){var l,p=Math.min(i.length,a.length);for(l=0;l<p;l+=1)if(i[l]!==a[l])return l;return p}function Co(i){return i&&i.toLowerCase().replace("_","-")}function Zu(i){for(var a=0,l,p,y,k;a<i.length;){for(k=Co(i[a]).split("-"),l=k.length,p=Co(i[a+1]),p=p?p.split("-"):null;l>0;){if(y=Yi(k.slice(0,l).join("-")),y)return y;if(p&&p.length>=l&&Xu(k,p)>=l-1)break;l--}a++}return Et}function Ju(i){return!!(i&&i.match("^[^/\\\\]*$"))}function Yi(i){var a=null,l;if(qe[i]===void 0&&t&&t.exports&&Ju(i))try{a=Et._abbr,l=JE,l("./locale/"+i),Bn(a)}catch{qe[i]=null}return qe[i]}function Bn(i,a){var l;return i&&(T(a)?l=rt(i):l=It(i,a),l?Et=l:typeof console<"u"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),Et._abbr}function It(i,a){if(a!==null){var l,p=rr;if(a.abbr=i,qe[i]!=null)Y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),p=qe[i]._config;else if(a.parentLocale!=null)if(qe[a.parentLocale]!=null)p=qe[a.parentLocale]._config;else if(l=Yi(a.parentLocale),l!=null)p=l._config;else return Or[a.parentLocale]||(Or[a.parentLocale]=[]),Or[a.parentLocale].push({name:i,config:a}),null;return qe[i]=new Ne(Oe(p,a)),Or[i]&&Or[i].forEach(function(y){It(y.name,y.config)}),Bn(i),qe[i]}else return delete qe[i],null}function yc(i,a){if(a!=null){var l,p,y=rr;qe[i]!=null&&qe[i].parentLocale!=null?qe[i].set(Oe(qe[i]._config,a)):(p=Yi(i),p!=null&&(y=p._config),a=Oe(y,a),p==null&&(a.abbr=i),l=new Ne(a),l.parentLocale=qe[i],qe[i]=l),Bn(i)}else qe[i]!=null&&(qe[i].parentLocale!=null?(qe[i]=qe[i].parentLocale,i===Bn()&&Bn(i)):qe[i]!=null&&delete qe[i]);return qe[i]}function rt(i){var a;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return Et;if(!d(i)){if(a=Yi(i),a)return a;i=[i]}return Zu(i)}function wc(){return Ye(qe)}function Fs(i){var a,l=i._a;return l&&C(i).overflow===-2&&(a=l[Dn]<0||l[Dn]>11?Dn:l[vn]<1||l[vn]>Hs(l[vt],l[Dn])?vn:l[at]<0||l[at]>24||l[at]===24&&(l[an]!==0||l[Ln]!==0||l[tr]!==0)?at:l[an]<0||l[an]>59?an:l[Ln]<0||l[Ln]>59?Ln:l[tr]<0||l[tr]>999?tr:-1,C(i)._overflowDayOfYear&&(a<vt||a>vn)&&(a=vn),C(i)._overflowWeeks&&a===-1&&(a=zf),C(i)._overflowWeekday&&a===-1&&(a=jf),C(i).overflow=a),i}var ir=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ws=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ro=/Z|[+-]\d\d(?::?\d\d)?/,Fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Uo=/^\/?Date\((-?\d+)/i,mc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ho={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Qu(i){var a,l,p=i._i,y=ir.exec(p)||Ws.exec(p),k,B,Q,ce,ye=Fe.length,Pt=En.length;if(y){for(C(i).iso=!0,a=0,l=ye;a<l;a++)if(Fe[a][1].exec(y[1])){B=Fe[a][0],k=Fe[a][2]!==!1;break}if(B==null){i._isValid=!1;return}if(y[3]){for(a=0,l=Pt;a<l;a++)if(En[a][1].exec(y[3])){Q=(y[2]||" ")+En[a][0];break}if(Q==null){i._isValid=!1;return}}if(!k&&Q!=null){i._isValid=!1;return}if(y[4])if(Ro.exec(y[4]))ce="Z";else{i._isValid=!1;return}i._f=B+(Q||"")+(ce||""),Lo(i)}else i._isValid=!1}function Sc(i,a,l,p,y,k){var B=[vc(i),Io.indexOf(a),parseInt(l,10),parseInt(p,10),parseInt(y,10)];return k&&B.push(parseInt(k,10)),B}function vc(i){var a=parseInt(i,10);return a<=49?2e3+a:a<=999?1900+a:a}function ea(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ys(i,a,l){if(i){var p=Ku.indexOf(i),y=new Date(a[0],a[1],a[2]).getDay();if(p!==y)return C(l).weekdayMismatch=!0,l._isValid=!1,!1}return!0}function fi(i,a,l){if(i)return Ho[i];if(a)return 0;var p=parseInt(l,10),y=p%100,k=(p-y)/100;return k*60+y}function ta(i){var a=mc.exec(ea(i._i)),l;if(a){if(l=Sc(a[4],a[3],a[2],a[5],a[6],a[7]),!Ys(a[1],l,i))return;i._a=l,i._tzm=fi(a[8],a[9],a[10]),i._d=si.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),C(i).rfc2822=!0}else i._isValid=!1}function na(i){var a=Uo.exec(i._i);if(a!==null){i._d=new Date(+a[1]);return}if(Qu(i),i._isValid===!1)delete i._isValid;else return;if(ta(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:u.createFromInputFallback(i)}u.createFromInputFallback=ie("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function kr(i,a,l){return i??a??l}function Do(i){var a=new Date(u.now());return i._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function $i(i){var a,l,p=[],y,k,B;if(!i._d){for(y=Do(i),i._w&&i._a[vn]==null&&i._a[Dn]==null&&ra(i),i._dayOfYear!=null&&(B=kr(i._a[vt],y[vt]),(i._dayOfYear>Wi(B)||i._dayOfYear===0)&&(C(i)._overflowDayOfYear=!0),l=si(B,0,i._dayOfYear),i._a[Dn]=l.getUTCMonth(),i._a[vn]=l.getUTCDate()),a=0;a<3&&i._a[a]==null;++a)i._a[a]=p[a]=y[a];for(;a<7;a++)i._a[a]=p[a]=i._a[a]==null?a===2?1:0:i._a[a];i._a[at]===24&&i._a[an]===0&&i._a[Ln]===0&&i._a[tr]===0&&(i._nextDay=!0,i._a[at]=0),i._d=(i._useUTC?si:Lu).apply(null,p),k=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[at]=24),i._w&&typeof i._w.d<"u"&&i._w.d!==k&&(C(i).weekdayMismatch=!0)}}function ra(i){var a,l,p,y,k,B,Q,ce,ye;a=i._w,a.GG!=null||a.W!=null||a.E!=null?(k=1,B=4,l=kr(a.GG,i._a[vt],ui(Ge(),1,4).year),p=kr(a.W,1),y=kr(a.E,1),(y<1||y>7)&&(ce=!0)):(k=i._locale._week.dow,B=i._locale._week.doy,ye=ui(Ge(),k,B),l=kr(a.gg,i._a[vt],ye.year),p=kr(a.w,ye.week),a.d!=null?(y=a.d,(y<0||y>6)&&(ce=!0)):a.e!=null?(y=a.e+k,(a.e<0||a.e>6)&&(ce=!0)):y=k),p<1||p>fn(l,k,B)?C(i)._overflowWeeks=!0:ce!=null?C(i)._overflowWeekday=!0:(Q=Bu(l,p,y,k,B),i._a[vt]=Q.year,i._dayOfYear=Q.dayOfYear)}u.ISO_8601=function(){},u.RFC_2822=function(){};function Lo(i){if(i._f===u.ISO_8601){Qu(i);return}if(i._f===u.RFC_2822){ta(i);return}i._a=[],C(i).empty=!0;var a=""+i._i,l,p,y,k,B,Q=a.length,ce=0,ye,Pt;for(y=on(i._f,i._locale).match(St)||[],Pt=y.length,l=0;l<Pt;l++)k=y[l],p=(a.match(Vf(k,i))||[])[0],p&&(B=a.substr(0,a.indexOf(p)),B.length>0&&C(i).unusedInput.push(B),a=a.slice(a.indexOf(p)+p.length),ce+=p.length),Rt[k]?(p?C(i).empty=!1:C(i).unusedTokens.push(k),qf(k,p,i)):i._strict&&!p&&C(i).unusedTokens.push(k);C(i).charsLeftOver=Q-ce,a.length>0&&C(i).unusedInput.push(a),i._a[at]<=12&&C(i).bigHour===!0&&i._a[at]>0&&(C(i).bigHour=void 0),C(i).parsedDateParts=i._a.slice(0),C(i).meridiem=i._meridiem,i._a[at]=Bo(i._locale,i._a[at],i._meridiem),ye=C(i).era,ye!==null&&(i._a[vt]=i._locale.erasConvertYear(ye,i._a[vt])),$i(i),Fs(i)}function Bo(i,a,l){var p;return l==null?a:i.meridiemHour!=null?i.meridiemHour(a,l):(i.isPM!=null&&(p=i.isPM(l),p&&a<12&&(a+=12),!p&&a===12&&(a=0)),a)}function Fo(i){var a,l,p,y,k,B,Q=!1,ce=i._f.length;if(ce===0){C(i).invalidFormat=!0,i._d=new Date(NaN);return}for(y=0;y<ce;y++)k=0,B=!1,a=U({},i),i._useUTC!=null&&(a._useUTC=i._useUTC),a._f=i._f[y],Lo(a),Z(a)&&(B=!0),k+=C(a).charsLeftOver,k+=C(a).unusedTokens.length*10,C(a).score=k,Q?k<p&&(p=k,l=a):(p==null||k<p||B)&&(p=k,l=a,B&&(Q=!0));b(i,l||a)}function Ec(i){if(!i._d){var a=Er(i._i),l=a.day===void 0?a.date:a.day;i._a=R([a.year,a.month,l,a.hour,a.minute,a.second,a.millisecond],function(p){return p&&parseInt(p,10)}),$i(i)}}function ia(i){var a=new q(Fs(Ut(i)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Ut(i){var a=i._i,l=i._f;return i._locale=i._locale||rt(i._l),a===null||l===void 0&&a===""?x({nullInput:!0}):(typeof a=="string"&&(i._i=a=i._locale.preparse(a)),ne(a)?new q(Fs(a)):(v(a)?i._d=a:d(l)?Fo(i):l?Lo(i):Wo(i),Z(i)||(i._d=null),i))}function Wo(i){var a=i._i;T(a)?i._d=new Date(u.now()):v(a)?i._d=new Date(a.valueOf()):typeof a=="string"?na(i):d(a)?(i._a=R(a.slice(0),function(l){return parseInt(l,10)}),$i(i)):h(a)?Ec(i):O(a)?i._d=new Date(a):u.createFromInputFallback(i)}function ci(i,a,l,p,y){var k={};return(a===!0||a===!1)&&(p=a,a=void 0),(l===!0||l===!1)&&(p=l,l=void 0),(h(i)&&S(i)||d(i)&&i.length===0)&&(i=void 0),k._isAMomentObject=!0,k._useUTC=k._isUTC=y,k._l=l,k._i=i,k._f=a,k._strict=p,ia(k)}function Ge(i,a,l,p){return ci(i,a,l,p,!1)}var sa=ie("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Ge.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:x()}),bc=ie("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Ge.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:x()});function oa(i,a){var l,p;if(a.length===1&&d(a[0])&&(a=a[0]),!a.length)return Ge();for(l=a[0],p=1;p<a.length;++p)(!a[p].isValid()||a[p][i](l))&&(l=a[p]);return l}function Tc(){var i=[].slice.call(arguments,0);return oa("isBefore",i)}function Oc(){var i=[].slice.call(arguments,0);return oa("isAfter",i)}var kc=function(){return Date.now?Date.now():+new Date},bn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ic(i){var a,l=!1,p,y=bn.length;for(a in i)if(_(i,a)&&!(Qe.call(bn,a)!==-1&&(i[a]==null||!isNaN(i[a]))))return!1;for(p=0;p<y;++p)if(i[bn[p]]){if(l)return!1;parseFloat(i[bn[p]])!==Ee(i[bn[p]])&&(l=!0)}return!0}function Ac(){return this._isValid}function Yo(){return me(NaN)}function Gi(i){var a=Er(i),l=a.year||0,p=a.quarter||0,y=a.month||0,k=a.week||a.isoWeek||0,B=a.day||0,Q=a.hour||0,ce=a.minute||0,ye=a.second||0,Pt=a.millisecond||0;this._isValid=Ic(a),this._milliseconds=+Pt+ye*1e3+ce*6e4+Q*1e3*60*60,this._days=+B+k*7,this._months=+y+p*3+l*12,this._data={},this._locale=rt(),this._bubble()}function cn(i){return i instanceof Gi}function li(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function Pc(i,a,l){var p=Math.min(i.length,a.length),y=Math.abs(i.length-a.length),k=0,B;for(B=0;B<p;B++)Ee(i[B])!==Ee(a[B])&&k++;return k+y}function ua(i,a){re(i,0,0,function(){var l=this.utcOffset(),p="+";return l<0&&(l=-l,p="-"),p+dt(~~(l/60),2)+a+dt(~~l%60,2)})}ua("Z",":"),ua("ZZ",""),ee("Z",Ns),ee("ZZ",Ns),De(["Z","ZZ"],function(i,a,l){l._useUTC=!0,l._tzm=sr(Ns,i)});var xc=/([\+\-]|\d\d)/gi;function sr(i,a){var l=(a||"").match(i),p,y,k;return l===null?null:(p=l[l.length-1]||[],y=(p+"").match(xc)||["-",0,0],k=+(y[1]*60)+Ee(y[2]),k===0?0:y[0]==="+"?k:-k)}function Bt(i,a){var l,p;return a._isUTC?(l=a.clone(),p=(ne(i)||v(i)?i.valueOf():Ge(i).valueOf())-l.valueOf(),l._d.setTime(l._d.valueOf()+p),u.updateOffset(l,!1),l):Ge(i).local()}function $s(i){return-Math.round(i._d.getTimezoneOffset())}u.updateOffset=function(){};function Mc(i,a,l){var p=this._offset||0,y;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=sr(Ns,i),i===null)return this}else Math.abs(i)<16&&!l&&(i=i*60);return!this._isUTC&&a&&(y=$s(this)),this._offset=i,this._isUTC=!0,y!=null&&this.add(y,"m"),p!==i&&(!a||this._changeInProgress?fa(this,me(i-p,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,u.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?p:$s(this)}function Nc(i,a){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,a),this):-this.utcOffset()}function Cc(i){return this.utcOffset(0,i)}function Rc(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract($s(this),"m")),this}function Uc(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=sr(Gf,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function hi(i){return this.isValid()?(i=i?Ge(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function A(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function F(){if(!T(this._isDSTShifted))return this._isDSTShifted;var i={},a;return U(i,this),i=Ut(i),i._a?(a=i._isUTC?H(i._a):Ge(i._a),this._isDSTShifted=this.isValid()&&Pc(i._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function L(){return this.isValid()?!this._isUTC:!1}function te(){return this.isValid()?this._isUTC:!1}function le(){return this.isValid()?this._isUTC&&this._offset===0:!1}var xe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ft=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function me(i,a){var l=i,p=null,y,k,B;return cn(i)?l={ms:i._milliseconds,d:i._days,M:i._months}:O(i)||!isNaN(+i)?(l={},a?l[a]=+i:l.milliseconds=+i):(p=xe.exec(i))?(y=p[1]==="-"?-1:1,l={y:0,d:Ee(p[vn])*y,h:Ee(p[at])*y,m:Ee(p[an])*y,s:Ee(p[Ln])*y,ms:Ee(li(p[tr]*1e3))*y}):(p=ft.exec(i))?(y=p[1]==="-"?-1:1,l={y:Fn(p[2],y),M:Fn(p[3],y),w:Fn(p[4],y),d:Fn(p[5],y),h:Fn(p[6],y),m:Fn(p[7],y),s:Fn(p[8],y)}):l==null?l={}:typeof l=="object"&&("from"in l||"to"in l)&&(B=Jt(Ge(l.from),Ge(l.to)),l={},l.ms=B.milliseconds,l.M=B.months),k=new Gi(l),cn(i)&&_(i,"_locale")&&(k._locale=i._locale),cn(i)&&_(i,"_isValid")&&(k._isValid=i._isValid),k}me.fn=Gi.prototype,me.invalid=Yo;function Fn(i,a){var l=i&&parseFloat(i.replace(",","."));return(isNaN(l)?0:l)*a}function aa(i,a){var l={};return l.months=a.month()-i.month()+(a.year()-i.year())*12,i.clone().add(l.months,"M").isAfter(a)&&--l.months,l.milliseconds=+a-+i.clone().add(l.months,"M"),l}function Jt(i,a){var l;return i.isValid()&&a.isValid()?(a=Bt(a,i),i.isBefore(a)?l=aa(i,a):(l=aa(a,i),l.milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0}}function Ki(i,a){return function(l,p){var y,k;return p!==null&&!isNaN(+p)&&(Y(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),k=l,l=p,p=k),y=me(l,p),fa(this,y,i),this}}function fa(i,a,l,p){var y=a._milliseconds,k=li(a._days),B=li(a._months);i.isValid()&&(p=p??!0,B&&Ds(i,nr(i,"Month")+B*l),k&&Au(i,"Date",nr(i,"Date")+k*l),y&&i._d.setTime(i._d.valueOf()+y*l),p&&u.updateOffset(i,k||B))}var di=Ki(1,"add"),Gs=Ki(-1,"subtract");function Vi(i){return typeof i=="string"||i instanceof String}function Ce(i){return ne(i)||v(i)||Vi(i)||O(i)||ca(i)||Hc(i)||i===null||i===void 0}function Hc(i){var a=h(i)&&!S(i),l=!1,p=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],y,k,B=p.length;for(y=0;y<B;y+=1)k=p[y],l=l||_(i,k);return a&&l}function ca(i){var a=d(i),l=!1;return a&&(l=i.filter(function(p){return!O(p)&&Vi(i)}).length===0),a&&l}function Ks(i){var a=h(i)&&!S(i),l=!1,p=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],y,k;for(y=0;y<p.length;y+=1)k=p[y],l=l||_(i,k);return a&&l}function Dc(i,a){var l=i.diff(a,"days",!0);return l<-6?"sameElse":l<-1?"lastWeek":l<0?"lastDay":l<1?"sameDay":l<2?"nextDay":l<7?"nextWeek":"sameElse"}function Lc(i,a){arguments.length===1&&(arguments[0]?Ce(arguments[0])?(i=arguments[0],a=void 0):Ks(arguments[0])&&(a=arguments[0],i=void 0):(i=void 0,a=void 0));var l=i||Ge(),p=Bt(l,this).startOf("day"),y=u.calendarFormat(this,p)||"sameElse",k=a&&(X(a[y])?a[y].call(this,l):a[y]);return this.format(k||this.localeData().calendar(y,this,Ge(l)))}function Bc(){return new q(this)}function Vs(i,a){var l=ne(i)?i:Ge(i);return this.isValid()&&l.isValid()?(a=Ze(a)||"millisecond",a==="millisecond"?this.valueOf()>l.valueOf():l.valueOf()<this.clone().startOf(a).valueOf()):!1}function or(i,a){var l=ne(i)?i:Ge(i);return this.isValid()&&l.isValid()?(a=Ze(a)||"millisecond",a==="millisecond"?this.valueOf()<l.valueOf():this.clone().endOf(a).valueOf()<l.valueOf()):!1}function qs(i,a,l,p){var y=ne(i)?i:Ge(i),k=ne(a)?a:Ge(a);return this.isValid()&&y.isValid()&&k.isValid()?(p=p||"()",(p[0]==="("?this.isAfter(y,l):!this.isBefore(y,l))&&(p[1]===")"?this.isBefore(k,l):!this.isAfter(k,l))):!1}function la(i,a){var l=ne(i)?i:Ge(i),p;return this.isValid()&&l.isValid()?(a=Ze(a)||"millisecond",a==="millisecond"?this.valueOf()===l.valueOf():(p=l.valueOf(),this.clone().startOf(a).valueOf()<=p&&p<=this.clone().endOf(a).valueOf())):!1}function zs(i,a){return this.isSame(i,a)||this.isAfter(i,a)}function ha(i,a){return this.isSame(i,a)||this.isBefore(i,a)}function da(i,a,l){var p,y,k;if(!this.isValid())return NaN;if(p=Bt(i,this),!p.isValid())return NaN;switch(y=(p.utcOffset()-this.utcOffset())*6e4,a=Ze(a),a){case"year":k=Ir(this,p)/12;break;case"month":k=Ir(this,p);break;case"quarter":k=Ir(this,p)/3;break;case"second":k=(this-p)/1e3;break;case"minute":k=(this-p)/6e4;break;case"hour":k=(this-p)/36e5;break;case"day":k=(this-p-y)/864e5;break;case"week":k=(this-p-y)/6048e5;break;default:k=this-p}return l?k:Zt(k)}function Ir(i,a){if(i.date()<a.date())return-Ir(a,i);var l=(a.year()-i.year())*12+(a.month()-i.month()),p=i.clone().add(l,"months"),y,k;return a-p<0?(y=i.clone().add(l-1,"months"),k=(a-p)/(p-y)):(y=i.clone().add(l+1,"months"),k=(a-p)/(y-p)),-(l+k)||0}u.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",u.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function pa(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function qi(i){if(!this.isValid())return null;var a=i!==!0,l=a?this.clone().utc():this;return l.year()<0||l.year()>9999?He(l,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):X(Date.prototype.toISOString)?a?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",He(l,"Z")):He(l,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ar(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",a="",l,p,y,k;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",a="Z"),l="["+i+'("]',p=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",y="-MM-DD[T]HH:mm:ss.SSS",k=a+'[")]',this.format(l+p+y+k)}function js(i){i||(i=this.isUtc()?u.defaultFormatUtc:u.defaultFormat);var a=He(this,i);return this.localeData().postformat(a)}function Fc(i,a){return this.isValid()&&(ne(i)&&i.isValid()||Ge(i).isValid())?me({to:this,from:i}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Wc(i){return this.from(Ge(),i)}function Yc(i,a){return this.isValid()&&(ne(i)&&i.isValid()||Ge(i).isValid())?me({from:this,to:i}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Xs(i){return this.to(Ge(),i)}function zi(i){var a;return i===void 0?this._locale._abbr:(a=rt(i),a!=null&&(this._locale=a),this)}var Zs=ie("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function ga(){return this._locale}var ji=1e3,pi=60*ji,Js=60*pi,it=(365*400+97)*24*Js;function et(i,a){return(i%a+a)%a}function _a(i,a,l){return i<100&&i>=0?new Date(i+400,a,l)-it:new Date(i,a,l).valueOf()}function ya(i,a,l){return i<100&&i>=0?Date.UTC(i+400,a,l)-it:Date.UTC(i,a,l)}function wa(i){var a,l;if(i=Ze(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(l=this._isUTC?ya:_a,i){case"year":a=l(this.year(),0,1);break;case"quarter":a=l(this.year(),this.month()-this.month()%3,1);break;case"month":a=l(this.year(),this.month(),1);break;case"week":a=l(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=l(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=l(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=et(a+(this._isUTC?0:this.utcOffset()*pi),Js);break;case"minute":a=this._d.valueOf(),a-=et(a,pi);break;case"second":a=this._d.valueOf(),a-=et(a,ji);break}return this._d.setTime(a),u.updateOffset(this,!0),this}function $c(i){var a,l;if(i=Ze(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(l=this._isUTC?ya:_a,i){case"year":a=l(this.year()+1,0,1)-1;break;case"quarter":a=l(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=l(this.year(),this.month()+1,1)-1;break;case"week":a=l(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=l(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=l(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=Js-et(a+(this._isUTC?0:this.utcOffset()*pi),Js)-1;break;case"minute":a=this._d.valueOf(),a+=pi-et(a,pi)-1;break;case"second":a=this._d.valueOf(),a+=ji-et(a,ji)-1;break}return this._d.setTime(a),u.updateOffset(this,!0),this}function $o(){return this._d.valueOf()-(this._offset||0)*6e4}function Xi(){return Math.floor(this.valueOf()/1e3)}function Go(){return new Date(this.valueOf())}function gi(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function Zi(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function Ji(){return this.isValid()?this.toISOString():null}function Qs(){return Z(this)}function _i(){return b({},C(this))}function Gc(){return C(this).overflow}function Kc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}re("N",0,0,"eraAbbr"),re("NN",0,0,"eraAbbr"),re("NNN",0,0,"eraAbbr"),re("NNNN",0,0,"eraName"),re("NNNNN",0,0,"eraNarrow"),re("y",["y",1],"yo","eraYear"),re("y",["yy",2],0,"eraYear"),re("y",["yyy",3],0,"eraYear"),re("y",["yyyy",4],0,"eraYear"),ee("N",_e),ee("NN",_e),ee("NNN",_e),ee("NNNN",jc),ee("NNNNN",Xc),De(["N","NN","NNN","NNNN","NNNNN"],function(i,a,l,p){var y=l._locale.erasParse(i,p,l._strict);y?C(l).era=y:C(l).invalidEra=i}),ee("y",er),ee("yy",er),ee("yyy",er),ee("yyyy",er),ee("yo",Zc),De(["y","yy","yyy","yyyy"],vt),De(["yo"],function(i,a,l,p){var y;l._locale._eraYearOrdinalRegex&&(y=i.match(l._locale._eraYearOrdinalRegex)),l._locale.eraYearOrdinalParse?a[vt]=l._locale.eraYearOrdinalParse(i,y):a[vt]=parseInt(i,10)});function Vc(i,a){var l,p,y,k=this._eras||rt("en")._eras;for(l=0,p=k.length;l<p;++l){switch(typeof k[l].since){case"string":y=u(k[l].since).startOf("day"),k[l].since=y.valueOf();break}switch(typeof k[l].until){case"undefined":k[l].until=1/0;break;case"string":y=u(k[l].until).startOf("day").valueOf(),k[l].until=y.valueOf();break}}return k}function qc(i,a,l){var p,y,k=this.eras(),B,Q,ce;for(i=i.toUpperCase(),p=0,y=k.length;p<y;++p)if(B=k[p].name.toUpperCase(),Q=k[p].abbr.toUpperCase(),ce=k[p].narrow.toUpperCase(),l)switch(a){case"N":case"NN":case"NNN":if(Q===i)return k[p];break;case"NNNN":if(B===i)return k[p];break;case"NNNNN":if(ce===i)return k[p];break}else if([B,Q,ce].indexOf(i)>=0)return k[p]}function zc(i,a){var l=i.since<=i.until?1:-1;return a===void 0?u(i.since).year():u(i.since).year()+(a-i.offset)*l}function eo(){var i,a,l,p=this.localeData().eras();for(i=0,a=p.length;i<a;++i)if(l=this.clone().startOf("day").valueOf(),p[i].since<=l&&l<=p[i].until||p[i].until<=l&&l<=p[i].since)return p[i].name;return""}function Qi(){var i,a,l,p=this.localeData().eras();for(i=0,a=p.length;i<a;++i)if(l=this.clone().startOf("day").valueOf(),p[i].since<=l&&l<=p[i].until||p[i].until<=l&&l<=p[i].since)return p[i].narrow;return""}function ma(){var i,a,l,p=this.localeData().eras();for(i=0,a=p.length;i<a;++i)if(l=this.clone().startOf("day").valueOf(),p[i].since<=l&&l<=p[i].until||p[i].until<=l&&l<=p[i].since)return p[i].abbr;return""}function w(){var i,a,l,p,y=this.localeData().eras();for(i=0,a=y.length;i<a;++i)if(l=y[i].since<=y[i].until?1:-1,p=this.clone().startOf("day").valueOf(),y[i].since<=p&&p<=y[i].until||y[i].until<=p&&p<=y[i].since)return(this.year()-u(y[i].since).year())*l+y[i].offset;return this.year()}function yi(i){return _(this,"_erasNameRegex")||Wn.call(this),i?this._erasNameRegex:this._erasRegex}function to(i){return _(this,"_erasAbbrRegex")||Wn.call(this),i?this._erasAbbrRegex:this._erasRegex}function Qt(i){return _(this,"_erasNarrowRegex")||Wn.call(this),i?this._erasNarrowRegex:this._erasRegex}function _e(i,a){return a.erasAbbrRegex(i)}function jc(i,a){return a.erasNameRegex(i)}function Xc(i,a){return a.erasNarrowRegex(i)}function Zc(i,a){return a._eraYearOrdinalRegex||er}function Wn(){var i=[],a=[],l=[],p=[],y,k,B,Q,ce,ye=this.eras();for(y=0,k=ye.length;y<k;++y)B=Hn(ye[y].name),Q=Hn(ye[y].abbr),ce=Hn(ye[y].narrow),a.push(B),i.push(Q),l.push(ce),p.push(B),p.push(Q),p.push(ce);this._erasRegex=new RegExp("^("+p.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+l.join("|")+")","i")}re(0,["gg",2],0,function(){return this.weekYear()%100}),re(0,["GG",2],0,function(){return this.isoWeekYear()%100});function no(i,a){re(0,[i,i.length],0,a)}no("gggg","weekYear"),no("ggggg","weekYear"),no("GGGG","isoWeekYear"),no("GGGGG","isoWeekYear"),ee("G",ni),ee("g",ni),ee("GG",Be,Lt),ee("gg",Be,Lt),ee("GGGG",Bi,Qn),ee("gggg",Bi,Qn),ee("GGGGG",ti,Qr),ee("ggggg",ti,Qr),Tr(["gggg","ggggg","GGGG","GGGGG"],function(i,a,l,p){a[p.substr(0,2)]=Ee(i)}),Tr(["gg","GG"],function(i,a,l,p){a[p]=u.parseTwoDigitYear(i)});function Jc(i){return Sa.call(this,i,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Qc(i){return Sa.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function el(){return fn(this.year(),1,4)}function tl(){return fn(this.isoWeekYear(),1,4)}function Yn(){var i=this.localeData()._week;return fn(this.year(),i.dow,i.doy)}function nl(){var i=this.localeData()._week;return fn(this.weekYear(),i.dow,i.doy)}function Sa(i,a,l,p,y){var k;return i==null?ui(this,p,y).year:(k=fn(i,p,y),a>k&&(a=k),rl.call(this,i,a,l,p,y))}function rl(i,a,l,p,y){var k=Bu(i,a,l,p,y),B=si(k.year,0,k.dayOfYear);return this.year(B.getUTCFullYear()),this.month(B.getUTCMonth()),this.date(B.getUTCDate()),this}re("Q",0,"Qo","quarter"),ee("Q",Zr),De("Q",function(i,a){a[Dn]=(Ee(i)-1)*3});function il(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}re("D",["DD",2],"Do","date"),ee("D",Be,br),ee("DD",Be,Lt),ee("Do",function(i,a){return i?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient}),De(["D","DD"],vn),De("Do",function(i,a){a[vn]=Ee(i.match(Be)[0])});var va=ii("Date",!0);re("DDD",["DDDD",3],"DDDo","dayOfYear"),ee("DDD",ei),ee("DDDD",Jr),De(["DDD","DDDD"],function(i,a,l){l._dayOfYear=Ee(i)});function $n(i){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?a:this.add(i-a,"d")}re("m",["mm",2],0,"minute"),ee("m",Be,ko),ee("mm",Be,Lt),De(["m","mm"],an);var sl=ii("Minutes",!1);re("s",["ss",2],0,"second"),ee("s",Be,ko),ee("ss",Be,Lt),De(["s","ss"],Ln);var ol=ii("Seconds",!1);re("S",0,0,function(){return~~(this.millisecond()/100)}),re(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),re(0,["SSS",3],0,"millisecond"),re(0,["SSSS",4],0,function(){return this.millisecond()*10}),re(0,["SSSSS",5],0,function(){return this.millisecond()*100}),re(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),re(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),re(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),re(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ee("S",ei,Zr),ee("SS",ei,Lt),ee("SSS",ei,Jr);var ur,Ea;for(ur="SSSS";ur.length<=9;ur+="S")ee(ur,er);function ul(i,a){a[tr]=Ee(("0."+i)*1e3)}for(ur="S";ur.length<=9;ur+="S")De(ur,ul);Ea=ii("Milliseconds",!1),re("z",0,0,"zoneAbbr"),re("zz",0,0,"zoneName");function Pr(){return this._isUTC?"UTC":""}function al(){return this._isUTC?"Coordinated Universal Time":""}var j=q.prototype;j.add=di,j.calendar=Lc,j.clone=Bc,j.diff=da,j.endOf=$c,j.format=js,j.from=Fc,j.fromNow=Wc,j.to=Yc,j.toNow=Xs,j.get=Us,j.invalidAt=Gc,j.isAfter=Vs,j.isBefore=or,j.isBetween=qs,j.isSame=la,j.isSameOrAfter=zs,j.isSameOrBefore=ha,j.isValid=Qs,j.lang=Zs,j.locale=zi,j.localeData=ga,j.max=bc,j.min=sa,j.parsingFlags=_i,j.set=Zf,j.startOf=wa,j.subtract=Gs,j.toArray=gi,j.toObject=Zi,j.toDate=Go,j.toISOString=qi,j.inspect=Ar,typeof Symbol<"u"&&Symbol.for!=null&&(j[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),j.toJSON=Ji,j.toString=pa,j.unix=Xi,j.valueOf=$o,j.creationData=Kc,j.eraName=eo,j.eraNarrow=Qi,j.eraAbbr=ma,j.eraYear=w,j.year=Iu,j.isLeapYear=Xf,j.weekYear=Jc,j.isoWeekYear=Qc,j.quarter=j.quarters=il,j.month=Ru,j.daysInMonth=Uu,j.week=j.weeks=nc,j.isoWeek=j.isoWeeks=Yu,j.weeksInYear=Yn,j.weeksInWeekYear=nl,j.isoWeeksInYear=el,j.isoWeeksInISOWeekYear=tl,j.date=va,j.day=j.days=lc,j.weekday=hc,j.isoWeekday=dc,j.dayOfYear=$n,j.hour=j.hours=_t,j.minute=j.minutes=sl,j.second=j.seconds=ol,j.millisecond=j.milliseconds=Ea,j.utcOffset=Mc,j.utc=Cc,j.local=Rc,j.parseZone=Uc,j.hasAlignedHourOffset=hi,j.isDST=A,j.isLocal=L,j.isUtcOffset=te,j.isUtc=le,j.isUTC=le,j.zoneAbbr=Pr,j.zoneName=al,j.dates=ie("dates accessor is deprecated. Use date instead.",va),j.months=ie("months accessor is deprecated. Use month instead",Ru),j.years=ie("years accessor is deprecated. Use year instead",Iu),j.zone=ie("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Nc),j.isDSTShifted=ie("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",F);function ln(i){return Ge(i*1e3)}function fl(){return Ge.apply(null,arguments).parseZone()}function ba(i){return i}var Ae=Ne.prototype;Ae.calendar=jt,Ae.longDateFormat=ut,Ae.invalidDate=Tu,Ae.ordinal=Wf,Ae.preparse=ba,Ae.postformat=ba,Ae.relativeTime=Ou,Ae.pastFuture=Yf,Ae.set=he,Ae.eras=Vc,Ae.erasParse=qc,Ae.erasConvertYear=zc,Ae.erasAbbrRegex=to,Ae.erasNameRegex=yi,Ae.erasNarrowRegex=Qt,Ae.months=tc,Ae.monthsShort=Mu,Ae.monthsParse=Cu,Ae.monthsRegex=Hu,Ae.monthsShortRegex=Ls,Ae.week=Ao,Ae.firstDayOfYear=Wu,Ae.firstDayOfWeek=Fu,Ae.weekdays=uc,Ae.weekdaysMin=Po,Ae.weekdaysShort=ac,Ae.weekdaysParse=cc,Ae.weekdaysRegex=Ve,Ae.weekdaysShortRegex=$e,Ae.weekdaysMinRegex=pc,Ae.isPM=ju,Ae.meridiem=No;function ro(i,a,l,p){var y=rt(),k=H().set(p,a);return y[l](k,i)}function Ta(i,a,l){if(O(i)&&(a=i,i=void 0),i=i||"",a!=null)return ro(i,a,l,"month");var p,y=[];for(p=0;p<12;p++)y[p]=ro(i,p,l,"month");return y}function io(i,a,l,p){typeof i=="boolean"?(O(a)&&(l=a,a=void 0),a=a||""):(a=i,l=a,i=!1,O(a)&&(l=a,a=void 0),a=a||"");var y=rt(),k=i?y._week.dow:0,B,Q=[];if(l!=null)return ro(a,(l+k)%7,p,"day");for(B=0;B<7;B++)Q[B]=ro(a,(B+k)%7,p,"day");return Q}function Oa(i,a){return Ta(i,a,"months")}function cl(i,a){return Ta(i,a,"monthsShort")}function ll(i,a,l){return io(i,a,l,"weekdays")}function Ko(i,a,l){return io(i,a,l,"weekdaysShort")}function es(i,a,l){return io(i,a,l,"weekdaysMin")}Bn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var a=i%10,l=Ee(i%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return i+l}}),u.lang=ie("moment.lang is deprecated. Use moment.locale instead.",Bn),u.langData=ie("moment.langData is deprecated. Use moment.localeData instead.",rt);var en=Math.abs;function hl(){var i=this._data;return this._milliseconds=en(this._milliseconds),this._days=en(this._days),this._months=en(this._months),i.milliseconds=en(i.milliseconds),i.seconds=en(i.seconds),i.minutes=en(i.minutes),i.hours=en(i.hours),i.months=en(i.months),i.years=en(i.years),this}function Vo(i,a,l,p){var y=me(a,l);return i._milliseconds+=p*y._milliseconds,i._days+=p*y._days,i._months+=p*y._months,i._bubble()}function dl(i,a){return Vo(this,i,a,1)}function Gn(i,a){return Vo(this,i,a,-1)}function so(i){return i<0?Math.floor(i):Math.ceil(i)}function xr(){var i=this._milliseconds,a=this._days,l=this._months,p=this._data,y,k,B,Q,ce;return i>=0&&a>=0&&l>=0||i<=0&&a<=0&&l<=0||(i+=so(qo(l)+a)*864e5,a=0,l=0),p.milliseconds=i%1e3,y=Zt(i/1e3),p.seconds=y%60,k=Zt(y/60),p.minutes=k%60,B=Zt(k/60),p.hours=B%24,a+=Zt(B/24),ce=Zt(Ft(a)),l+=ce,a-=so(qo(ce)),Q=Zt(l/12),l%=12,p.days=a,p.months=l,p.years=Q,this}function Ft(i){return i*4800/146097}function qo(i){return i*146097/4800}function ka(i){if(!this.isValid())return NaN;var a,l,p=this._milliseconds;if(i=Ze(i),i==="month"||i==="quarter"||i==="year")switch(a=this._days+p/864e5,l=this._months+Ft(a),i){case"month":return l;case"quarter":return l/3;case"year":return l/12}else switch(a=this._days+Math.round(qo(this._months)),i){case"week":return a/7+p/6048e5;case"day":return a+p/864e5;case"hour":return a*24+p/36e5;case"minute":return a*1440+p/6e4;case"second":return a*86400+p/1e3;case"millisecond":return Math.floor(a*864e5)+p;default:throw new Error("Unknown unit "+i)}}function Tn(i){return function(){return this.as(i)}}var wi=Tn("ms"),ar=Tn("s"),Ia=Tn("m"),pl=Tn("h"),oo=Tn("d"),gl=Tn("w"),Aa=Tn("M"),yt=Tn("Q"),zo=Tn("y"),Pa=wi;function On(){return me(this)}function jo(i){return i=Ze(i),this.isValid()?this[i+"s"]():NaN}function kn(i){return function(){return this.isValid()?this._data[i]:NaN}}var Mr=kn("milliseconds"),xa=kn("seconds"),At=kn("minutes"),Xo=kn("hours"),_l=kn("days"),yl=kn("months"),wl=kn("years");function Zo(){return Zt(this.days()/7)}var Kn=Math.round,In={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ma(i,a,l,p,y){return y.relativeTime(a||1,!!l,i,p)}function ml(i,a,l,p){var y=me(i).abs(),k=Kn(y.as("s")),B=Kn(y.as("m")),Q=Kn(y.as("h")),ce=Kn(y.as("d")),ye=Kn(y.as("M")),Pt=Kn(y.as("w")),An=Kn(y.as("y")),Vn=k<=l.ss&&["s",k]||k<l.s&&["ss",k]||B<=1&&["m"]||B<l.m&&["mm",B]||Q<=1&&["h"]||Q<l.h&&["hh",Q]||ce<=1&&["d"]||ce<l.d&&["dd",ce];return l.w!=null&&(Vn=Vn||Pt<=1&&["w"]||Pt<l.w&&["ww",Pt]),Vn=Vn||ye<=1&&["M"]||ye<l.M&&["MM",ye]||An<=1&&["y"]||["yy",An],Vn[2]=a,Vn[3]=+i>0,Vn[4]=p,Ma.apply(null,Vn)}function Sl(i){return i===void 0?Kn:typeof i=="function"?(Kn=i,!0):!1}function ts(i,a){return In[i]===void 0?!1:a===void 0?In[i]:(In[i]=a,i==="s"&&(In.ss=a-1),!0)}function vl(i,a){if(!this.isValid())return this.localeData().invalidDate();var l=!1,p=In,y,k;return typeof i=="object"&&(a=i,i=!1),typeof i=="boolean"&&(l=i),typeof a=="object"&&(p=Object.assign({},In,a),a.s!=null&&a.ss==null&&(p.ss=a.s-1)),y=this.localeData(),k=ml(this,!l,p,y),l&&(k=y.pastFuture(+this,k)),y.postformat(k)}var Jo=Math.abs;function fr(i){return(i>0)-(i<0)||+i}function ns(){if(!this.isValid())return this.localeData().invalidDate();var i=Jo(this._milliseconds)/1e3,a=Jo(this._days),l=Jo(this._months),p,y,k,B,Q=this.asSeconds(),ce,ye,Pt,An;return Q?(p=Zt(i/60),y=Zt(p/60),i%=60,p%=60,k=Zt(l/12),l%=12,B=i?i.toFixed(3).replace(/\.?0+$/,""):"",ce=Q<0?"-":"",ye=fr(this._months)!==fr(Q)?"-":"",Pt=fr(this._days)!==fr(Q)?"-":"",An=fr(this._milliseconds)!==fr(Q)?"-":"",ce+"P"+(k?ye+k+"Y":"")+(l?ye+l+"M":"")+(a?Pt+a+"D":"")+(y||p||i?"T":"")+(y?An+y+"H":"")+(p?An+p+"M":"")+(i?An+B+"S":"")):"P0D"}var ke=Gi.prototype;ke.isValid=Ac,ke.abs=hl,ke.add=dl,ke.subtract=Gn,ke.as=ka,ke.asMilliseconds=wi,ke.asSeconds=ar,ke.asMinutes=Ia,ke.asHours=pl,ke.asDays=oo,ke.asWeeks=gl,ke.asMonths=Aa,ke.asQuarters=yt,ke.asYears=zo,ke.valueOf=Pa,ke._bubble=xr,ke.clone=On,ke.get=jo,ke.milliseconds=Mr,ke.seconds=xa,ke.minutes=At,ke.hours=Xo,ke.days=_l,ke.weeks=Zo,ke.months=yl,ke.years=wl,ke.humanize=vl,ke.toISOString=ns,ke.toString=ns,ke.toJSON=ns,ke.locale=zi,ke.localeData=ga,ke.toIsoString=ie("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ns),ke.lang=Zs,re("X",0,0,"unix"),re("x",0,0,"valueOf"),ee("x",ni),ee("X",Kf),De("X",function(i,a,l){l._d=new Date(parseFloat(i)*1e3)}),De("x",function(i,a,l){l._d=new Date(Ee(i))});//! moment.js
return u.version="2.30.1",f(Ge),u.fn=j,u.min=Tc,u.max=Oc,u.now=kc,u.utc=H,u.unix=ln,u.months=Oa,u.isDate=v,u.locale=Bn,u.invalid=x,u.duration=me,u.isMoment=ne,u.weekdays=ll,u.parseZone=fl,u.localeData=rt,u.isDuration=cn,u.monthsShort=cl,u.weekdaysMin=es,u.defineLocale=It,u.updateLocale=yc,u.locales=wc,u.weekdaysShort=Ko,u.normalizeUnits=Ze,u.relativeTimeRounding=Sl,u.relativeTimeThreshold=ts,u.calendarFormat=Dc,u.prototype=j,u.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},u})})(Ng);var QE=Ng.exports;const d0=w0(QE);async function eb(t,r,s){const u=[],f=await t.request("blockchain.transaction.get",[r,!0]);if(s!==void 0){const d=f.vout[s];return d.txid=f.txid,d.hex=f.hex,d.formattedBlocktime=f.blocktime?d0.unix(f.blocktime).format("YYYY-MM-DD HH:mm:ss"):"mempool",d}else{for(const d of f.vout){const h=d;h.txid=f.txid,h.hex=f.hex,h.formattedBlocktime=f.blocktime?d0.unix(f.blocktime).format("YYYY-MM-DD HH:mm:ss"):"mempool",u.push(h)}return u}}const tb=async(t,r)=>{try{let s="53"+Op(r)+Op(new Uint8Array([]))+"6d756a",u=m0.crypto.sha256(M.from(s,"hex")),f=M.from(u).reverse().toString("hex"),d=[];await t.connect("electrum-client-js","1.4.2");const h=await t.request("blockchain.scripthash.get_history",[f]);for(const _ of h)d=[...await eb(t,_.tx_hash),...d];return console.log("results",d),d}catch(s){throw console.error("Error in nameShow:",s),s}};var Ef={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ef.exports;(function(t,r){(function(){var s,u="4.17.21",f=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",_="Invalid `variable` option passed into `_.template`",S="__lodash_hash_undefined__",T=500,O="__lodash_placeholder__",v=1,R=2,b=4,H=1,D=2,C=1,z=2,Z=4,x=8,N=16,W=32,U=64,q=128,ne=256,V=512,ie=30,Pe="...",Y=800,X=16,he=1,Oe=2,Ne=3,Ye=1/0,kt=9007199254740991,jt=17976931348623157e292,dt=NaN,St=4294967295,Xt=St-1,vr=St>>>1,Rt=[["ary",q],["bind",C],["bindKey",z],["curry",x],["curryRight",N],["flip",V],["partial",W],["partialRight",U],["rearg",ne]],re="[object Arguments]",Sn="[object Array]",ot="[object AsyncFunction]",He="[object Boolean]",on="[object Date]",Is="[object DOMException]",ut="[object Error]",As="[object Function]",Tu="[object GeneratorFunction]",un="[object Map]",Li="[object Number]",Wf="[object Null]",Un="[object Object]",Ou="[object Promise]",Yf="[object Proxy]",Xr="[object RegExp]",Ze="[object Set]",Er="[object String]",Ps="[object Symbol]",$f="[object Undefined]",Zr="[object WeakMap]",Lt="[object WeakSet]",Jr="[object ArrayBuffer]",Qn="[object DataView]",Qr="[object Float32Array]",Be="[object Float64Array]",xs="[object Int8Array]",Ms="[object Int16Array]",ei="[object Int32Array]",Bi="[object Uint8Array]",ti="[object Uint8ClampedArray]",er="[object Uint16Array]",ni="[object Uint32Array]",Gf=/\b__p \+= '';/g,Ns=/\b(__p \+=) '' \+/g,Kf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ri=/&(?:amp|lt|gt|quot|#39);/g,br=/[&<>"']/g,ko=RegExp(ri.source),Cs=RegExp(br.source),ee=/<%-([\s\S]+?)%>/g,Vf=/<%([\s\S]+?)%>/g,ku=/<%=([\s\S]+?)%>/g,Hn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zt=/^\w*$/,Ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fi=/[\\^$.*+?()[\]{}|]/g,De=RegExp(Fi.source),Tr=/^\s+/,qf=/\s/,Rs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vt=/\{\n\/\* \[wrapped with (.+)\] \*/,Dn=/,? & /,vn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,at=/[()=,{}\[\]\/\s]/,an=/\\(\\)?/g,Ln=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tr=/\w*$/,zf=/^[-+]0x[0-9a-f]+$/i,jf=/^0b[01]+$/i,Wi=/^\[object .+?Constructor\]$/,Iu=/^0o[0-7]+$/i,Xf=/^(?:0|[1-9]\d*)$/,ii=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nr=/($^)/,Au=/['\n\r\u2028\u2029\\]/g,Us="\\ud800-\\udfff",Zf="\\u0300-\\u036f",Jf="\\ufe20-\\ufe2f",Qe="\\u20d0-\\u20ff",Hs=Zf+Jf+Qe,Pu="\\u2700-\\u27bf",Io="a-z\\xdf-\\xf6\\xf8-\\xff",xu="\\xac\\xb1\\xd7\\xf7",Qf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ec="\\u2000-\\u206f",tc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mu="A-Z\\xc0-\\xd6\\xd8-\\xde",Nu="\\ufe0e\\ufe0f",Cu=xu+Qf+ec+tc,Ds="['’]",Ru="["+Us+"]",Uu="["+Cu+"]",Ls="["+Hs+"]",Hu="\\d+",Du="["+Pu+"]",Lu="["+Io+"]",si="[^"+Us+Cu+Hu+Pu+Io+Mu+"]",oi="\\ud83c[\\udffb-\\udfff]",Bu="(?:"+Ls+"|"+oi+")",ui="[^"+Us+"]",fn="(?:\\ud83c[\\udde6-\\uddff]){2}",Ao="[\\ud800-\\udbff][\\udc00-\\udfff]",ai="["+Mu+"]",Fu="\\u200d",Wu="(?:"+Lu+"|"+si+")",nc="(?:"+ai+"|"+si+")",Yu="(?:"+Ds+"(?:d|ll|m|re|s|t|ve))?",$u="(?:"+Ds+"(?:D|LL|M|RE|S|T|VE))?",Gu=Bu+"?",Bs="["+Nu+"]?",rc="(?:"+Fu+"(?:"+[ui,fn,Ao].join("|")+")"+Bs+Gu+")*",Ku="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ic="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vu=Bs+Gu+rc,sc="(?:"+[Du,fn,Ao].join("|")+")"+Vu,oc="(?:"+[ui+Ls+"?",Ls,fn,Ao,Ru].join("|")+")",uc=RegExp(Ds,"g"),ac=RegExp(Ls,"g"),Po=RegExp(oi+"(?="+oi+")|"+oc+Vu,"g"),fc=RegExp([ai+"?"+Lu+"+"+Yu+"(?="+[Uu,ai,"$"].join("|")+")",nc+"+"+$u+"(?="+[Uu,ai+Wu,"$"].join("|")+")",ai+"?"+Wu+"+"+Yu,ai+"+"+$u,ic,Ku,Hu,sc].join("|"),"g"),cc=RegExp("["+Fu+Us+Hs+Nu+"]"),lc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],dc=-1,Ve={};Ve[Qr]=Ve[Be]=Ve[xs]=Ve[Ms]=Ve[ei]=Ve[Bi]=Ve[ti]=Ve[er]=Ve[ni]=!0,Ve[re]=Ve[Sn]=Ve[Jr]=Ve[He]=Ve[Qn]=Ve[on]=Ve[ut]=Ve[As]=Ve[un]=Ve[Li]=Ve[Un]=Ve[Xr]=Ve[Ze]=Ve[Er]=Ve[Zr]=!1;var $e={};$e[re]=$e[Sn]=$e[Jr]=$e[Qn]=$e[He]=$e[on]=$e[Qr]=$e[Be]=$e[xs]=$e[Ms]=$e[ei]=$e[un]=$e[Li]=$e[Un]=$e[Xr]=$e[Ze]=$e[Er]=$e[Ps]=$e[Bi]=$e[ti]=$e[er]=$e[ni]=!0,$e[ut]=$e[As]=$e[Zr]=!1;var pc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},xo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qu=parseFloat,zu=parseInt,ju=typeof go=="object"&&go&&go.Object===Object&&go,_c=typeof self=="object"&&self&&self.Object===Object&&self,_t=ju||_c||Function("return this")(),No=r&&!r.nodeType&&r,rr=No&&!0&&t&&!t.nodeType&&t,qe=rr&&rr.exports===No,Or=qe&&ju.process,Et=function(){try{var A=rr&&rr.require&&rr.require("util").types;return A||Or&&Or.binding&&Or.binding("util")}catch{}}(),Xu=Et&&Et.isArrayBuffer,Co=Et&&Et.isDate,Zu=Et&&Et.isMap,Ju=Et&&Et.isRegExp,Yi=Et&&Et.isSet,Bn=Et&&Et.isTypedArray;function It(A,F,L){switch(L.length){case 0:return A.call(F);case 1:return A.call(F,L[0]);case 2:return A.call(F,L[0],L[1]);case 3:return A.call(F,L[0],L[1],L[2])}return A.apply(F,L)}function yc(A,F,L,te){for(var le=-1,xe=A==null?0:A.length;++le<xe;){var ft=A[le];F(te,ft,L(ft),A)}return te}function rt(A,F){for(var L=-1,te=A==null?0:A.length;++L<te&&F(A[L],L,A)!==!1;);return A}function wc(A,F){for(var L=A==null?0:A.length;L--&&F(A[L],L,A)!==!1;);return A}function Fs(A,F){for(var L=-1,te=A==null?0:A.length;++L<te;)if(!F(A[L],L,A))return!1;return!0}function ir(A,F){for(var L=-1,te=A==null?0:A.length,le=0,xe=[];++L<te;){var ft=A[L];F(ft,L,A)&&(xe[le++]=ft)}return xe}function Ws(A,F){var L=A==null?0:A.length;return!!L&&fi(A,F,0)>-1}function Ro(A,F,L){for(var te=-1,le=A==null?0:A.length;++te<le;)if(L(F,A[te]))return!0;return!1}function Fe(A,F){for(var L=-1,te=A==null?0:A.length,le=Array(te);++L<te;)le[L]=F(A[L],L,A);return le}function En(A,F){for(var L=-1,te=F.length,le=A.length;++L<te;)A[le+L]=F[L];return A}function Uo(A,F,L,te){var le=-1,xe=A==null?0:A.length;for(te&&xe&&(L=A[++le]);++le<xe;)L=F(L,A[le],le,A);return L}function mc(A,F,L,te){var le=A==null?0:A.length;for(te&&le&&(L=A[--le]);le--;)L=F(L,A[le],le,A);return L}function Ho(A,F){for(var L=-1,te=A==null?0:A.length;++L<te;)if(F(A[L],L,A))return!0;return!1}var Qu=Do("length");function Sc(A){return A.split("")}function vc(A){return A.match(vn)||[]}function ea(A,F,L){var te;return L(A,function(le,xe,ft){if(F(le,xe,ft))return te=xe,!1}),te}function Ys(A,F,L,te){for(var le=A.length,xe=L+(te?1:-1);te?xe--:++xe<le;)if(F(A[xe],xe,A))return xe;return-1}function fi(A,F,L){return F===F?ua(A,F,L):Ys(A,na,L)}function ta(A,F,L,te){for(var le=L-1,xe=A.length;++le<xe;)if(te(A[le],F))return le;return-1}function na(A){return A!==A}function kr(A,F){var L=A==null?0:A.length;return L?Bo(A,F)/L:dt}function Do(A){return function(F){return F==null?s:F[A]}}function $i(A){return function(F){return A==null?s:A[F]}}function ra(A,F,L,te,le){return le(A,function(xe,ft,me){L=te?(te=!1,xe):F(L,xe,ft,me)}),L}function Lo(A,F){var L=A.length;for(A.sort(F);L--;)A[L]=A[L].value;return A}function Bo(A,F){for(var L,te=-1,le=A.length;++te<le;){var xe=F(A[te]);xe!==s&&(L=L===s?xe:L+xe)}return L}function Fo(A,F){for(var L=-1,te=Array(A);++L<A;)te[L]=F(L);return te}function Ec(A,F){return Fe(F,function(L){return[L,A[L]]})}function ia(A){return A&&A.slice(0,$s(A)+1).replace(Tr,"")}function Ut(A){return function(F){return A(F)}}function Wo(A,F){return Fe(F,function(L){return A[L]})}function ci(A,F){return A.has(F)}function Ge(A,F){for(var L=-1,te=A.length;++L<te&&fi(F,A[L],0)>-1;);return L}function sa(A,F){for(var L=A.length;L--&&fi(F,A[L],0)>-1;);return L}function bc(A,F){for(var L=A.length,te=0;L--;)A[L]===F&&++te;return te}var oa=$i(pc),Tc=$i(xo);function Oc(A){return"\\"+gc[A]}function kc(A,F){return A==null?s:A[F]}function bn(A){return cc.test(A)}function Ic(A){return lc.test(A)}function Ac(A){for(var F,L=[];!(F=A.next()).done;)L.push(F.value);return L}function Yo(A){var F=-1,L=Array(A.size);return A.forEach(function(te,le){L[++F]=[le,te]}),L}function Gi(A,F){return function(L){return A(F(L))}}function cn(A,F){for(var L=-1,te=A.length,le=0,xe=[];++L<te;){var ft=A[L];(ft===F||ft===O)&&(A[L]=O,xe[le++]=L)}return xe}function li(A){var F=-1,L=Array(A.size);return A.forEach(function(te){L[++F]=te}),L}function Pc(A){var F=-1,L=Array(A.size);return A.forEach(function(te){L[++F]=[te,te]}),L}function ua(A,F,L){for(var te=L-1,le=A.length;++te<le;)if(A[te]===F)return te;return-1}function xc(A,F,L){for(var te=L+1;te--;)if(A[te]===F)return te;return te}function sr(A){return bn(A)?Nc(A):Qu(A)}function Bt(A){return bn(A)?Cc(A):Sc(A)}function $s(A){for(var F=A.length;F--&&qf.test(A.charAt(F)););return F}var Mc=$i(Mo);function Nc(A){for(var F=Po.lastIndex=0;Po.test(A);)++F;return F}function Cc(A){return A.match(Po)||[]}function Rc(A){return A.match(fc)||[]}var Uc=function A(F){F=F==null?_t:hi.defaults(_t.Object(),F,hi.pick(_t,hc));var L=F.Array,te=F.Date,le=F.Error,xe=F.Function,ft=F.Math,me=F.Object,Fn=F.RegExp,aa=F.String,Jt=F.TypeError,Ki=L.prototype,fa=xe.prototype,di=me.prototype,Gs=F["__core-js_shared__"],Vi=fa.toString,Ce=di.hasOwnProperty,Hc=0,ca=function(){var e=/[^.]+$/.exec(Gs&&Gs.keys&&Gs.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ks=di.toString,Dc=Vi.call(me),Lc=_t._,Bc=Fn("^"+Vi.call(Ce).replace(Fi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vs=qe?F.Buffer:s,or=F.Symbol,qs=F.Uint8Array,la=Vs?Vs.allocUnsafe:s,zs=Gi(me.getPrototypeOf,me),ha=me.create,da=di.propertyIsEnumerable,Ir=Ki.splice,pa=or?or.isConcatSpreadable:s,qi=or?or.iterator:s,Ar=or?or.toStringTag:s,js=function(){try{var e=rs(me,"defineProperty");return e({},"",{}),e}catch{}}(),Fc=F.clearTimeout!==_t.clearTimeout&&F.clearTimeout,Wc=te&&te.now!==_t.Date.now&&te.now,Yc=F.setTimeout!==_t.setTimeout&&F.setTimeout,Xs=ft.ceil,zi=ft.floor,Zs=me.getOwnPropertySymbols,ga=Vs?Vs.isBuffer:s,ji=F.isFinite,pi=Ki.join,Js=Gi(me.keys,me),it=ft.max,et=ft.min,_a=te.now,ya=F.parseInt,wa=ft.random,$c=Ki.reverse,$o=rs(F,"DataView"),Xi=rs(F,"Map"),Go=rs(F,"Promise"),gi=rs(F,"Set"),Zi=rs(F,"WeakMap"),Ji=rs(me,"create"),Qs=Zi&&new Zi,_i={},Gc=is($o),Kc=is(Xi),Vc=is(Go),qc=is(gi),zc=is(Zi),eo=or?or.prototype:s,Qi=eo?eo.valueOf:s,ma=eo?eo.toString:s;function w(e){if(st(e)&&!de(e)&&!(e instanceof _e)){if(e instanceof Qt)return e;if(Ce.call(e,"__wrapped__"))return Wd(e)}return new Qt(e)}var yi=function(){function e(){}return function(n){if(!tt(n))return{};if(ha)return ha(n);e.prototype=n;var o=new e;return e.prototype=s,o}}();function to(){}function Qt(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=s}w.templateSettings={escape:ee,evaluate:Vf,interpolate:ku,variable:"",imports:{_:w}},w.prototype=to.prototype,w.prototype.constructor=w,Qt.prototype=yi(to.prototype),Qt.prototype.constructor=Qt;function _e(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=St,this.__views__=[]}function jc(){var e=new _e(this.__wrapped__);return e.__actions__=tn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=tn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=tn(this.__views__),e}function Xc(){if(this.__filtered__){var e=new _e(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Zc(){var e=this.__wrapped__.value(),n=this.__dir__,o=de(e),c=n<0,g=o?e.length:0,m=n_(0,g,this.__views__),E=m.start,I=m.end,P=I-E,$=c?I:E-1,G=this.__iteratees__,K=G.length,J=0,se=et(P,this.__takeCount__);if(!o||!c&&g==P&&se==P)return cd(e,this.__actions__);var ae=[];e:for(;P--&&J<se;){$+=n;for(var we=-1,fe=e[$];++we<K;){var Te=G[we],Ie=Te.iteratee,pn=Te.type,Yt=Ie(fe);if(pn==Oe)fe=Yt;else if(!Yt){if(pn==he)continue e;break e}}ae[J++]=fe}return ae}_e.prototype=yi(to.prototype),_e.prototype.constructor=_e;function Wn(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var c=e[n];this.set(c[0],c[1])}}function no(){this.__data__=Ji?Ji(null):{},this.size=0}function Jc(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Qc(e){var n=this.__data__;if(Ji){var o=n[e];return o===S?s:o}return Ce.call(n,e)?n[e]:s}function el(e){var n=this.__data__;return Ji?n[e]!==s:Ce.call(n,e)}function tl(e,n){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=Ji&&n===s?S:n,this}Wn.prototype.clear=no,Wn.prototype.delete=Jc,Wn.prototype.get=Qc,Wn.prototype.has=el,Wn.prototype.set=tl;function Yn(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var c=e[n];this.set(c[0],c[1])}}function nl(){this.__data__=[],this.size=0}function Sa(e){var n=this.__data__,o=en(n,e);if(o<0)return!1;var c=n.length-1;return o==c?n.pop():Ir.call(n,o,1),--this.size,!0}function rl(e){var n=this.__data__,o=en(n,e);return o<0?s:n[o][1]}function il(e){return en(this.__data__,e)>-1}function va(e,n){var o=this.__data__,c=en(o,e);return c<0?(++this.size,o.push([e,n])):o[c][1]=n,this}Yn.prototype.clear=nl,Yn.prototype.delete=Sa,Yn.prototype.get=rl,Yn.prototype.has=il,Yn.prototype.set=va;function $n(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var c=e[n];this.set(c[0],c[1])}}function sl(){this.size=0,this.__data__={hash:new Wn,map:new(Xi||Yn),string:new Wn}}function ol(e){var n=Fa(this,e).delete(e);return this.size-=n?1:0,n}function ur(e){return Fa(this,e).get(e)}function Ea(e){return Fa(this,e).has(e)}function ul(e,n){var o=Fa(this,e),c=o.size;return o.set(e,n),this.size+=o.size==c?0:1,this}$n.prototype.clear=sl,$n.prototype.delete=ol,$n.prototype.get=ur,$n.prototype.has=Ea,$n.prototype.set=ul;function Pr(e){var n=-1,o=e==null?0:e.length;for(this.__data__=new $n;++n<o;)this.add(e[n])}function al(e){return this.__data__.set(e,S),this}function j(e){return this.__data__.has(e)}Pr.prototype.add=Pr.prototype.push=al,Pr.prototype.has=j;function ln(e){var n=this.__data__=new Yn(e);this.size=n.size}function fl(){this.__data__=new Yn,this.size=0}function ba(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o}function Ae(e){return this.__data__.get(e)}function ro(e){return this.__data__.has(e)}function Ta(e,n){var o=this.__data__;if(o instanceof Yn){var c=o.__data__;if(!Xi||c.length<f-1)return c.push([e,n]),this.size=++o.size,this;o=this.__data__=new $n(c)}return o.set(e,n),this.size=o.size,this}ln.prototype.clear=fl,ln.prototype.delete=ba,ln.prototype.get=Ae,ln.prototype.has=ro,ln.prototype.set=Ta;function io(e,n){var o=de(e),c=!o&&ss(e),g=!o&&!c&&Ei(e),m=!o&&!c&&!g&&co(e),E=o||c||g||m,I=E?Fo(e.length,aa):[],P=I.length;for(var $ in e)(n||Ce.call(e,$))&&!(E&&($=="length"||g&&($=="offset"||$=="parent")||m&&($=="buffer"||$=="byteLength"||$=="byteOffset")||Rr($,P)))&&I.push($);return I}function Oa(e){var n=e.length;return n?e[bl(0,n-1)]:s}function cl(e,n){return Wa(tn(e),xr(n,0,e.length))}function ll(e){return Wa(tn(e))}function Ko(e,n,o){(o!==s&&!qn(e[n],o)||o===s&&!(n in e))&&Gn(e,n,o)}function es(e,n,o){var c=e[n];(!(Ce.call(e,n)&&qn(c,o))||o===s&&!(n in e))&&Gn(e,n,o)}function en(e,n){for(var o=e.length;o--;)if(qn(e[o][0],n))return o;return-1}function hl(e,n,o,c){return ar(e,function(g,m,E){n(c,g,o(g),E)}),c}function Vo(e,n){return e&&cr(n,bt(n),e)}function dl(e,n){return e&&cr(n,rn(n),e)}function Gn(e,n,o){n=="__proto__"&&js?js(e,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[n]=o}function so(e,n){for(var o=-1,c=n.length,g=L(c),m=e==null;++o<c;)g[o]=m?s:zl(e,n[o]);return g}function xr(e,n,o){return e===e&&(o!==s&&(e=e<=o?e:o),n!==s&&(e=e>=n?e:n)),e}function Ft(e,n,o,c,g,m){var E,I=n&v,P=n&R,$=n&b;if(o&&(E=g?o(e,c,g,m):o(e)),E!==s)return E;if(!tt(e))return e;var G=de(e);if(G){if(E=i_(e),!I)return tn(e,E)}else{var K=Ht(e),J=K==As||K==Tu;if(Ei(e))return dd(e,I);if(K==Un||K==re||J&&!g){if(E=P||J?{}:Nd(e),!I)return P?qg(e,dl(E,e)):Vg(e,Vo(E,e))}else{if(!$e[K])return g?e:{};E=s_(e,K,I)}}m||(m=new ln);var se=m.get(e);if(se)return se;m.set(e,E),up(e)?e.forEach(function(fe){E.add(Ft(fe,n,o,fe,e,m))}):sp(e)&&e.forEach(function(fe,Te){E.set(Te,Ft(fe,n,o,Te,e,m))});var ae=$?P?Rl:Cl:P?rn:bt,we=G?s:ae(e);return rt(we||e,function(fe,Te){we&&(Te=fe,fe=e[Te]),es(E,Te,Ft(fe,n,o,Te,e,m))}),E}function qo(e){var n=bt(e);return function(o){return ka(o,e,n)}}function ka(e,n,o){var c=o.length;if(e==null)return!c;for(e=me(e);c--;){var g=o[c],m=n[g],E=e[g];if(E===s&&!(g in e)||!m(E))return!1}return!0}function Tn(e,n,o){if(typeof e!="function")throw new Jt(h);return nu(function(){e.apply(s,o)},n)}function wi(e,n,o,c){var g=-1,m=Ws,E=!0,I=e.length,P=[],$=n.length;if(!I)return P;o&&(n=Fe(n,Ut(o))),c?(m=Ro,E=!1):n.length>=f&&(m=ci,E=!1,n=new Pr(n));e:for(;++g<I;){var G=e[g],K=o==null?G:o(G);if(G=c||G!==0?G:0,E&&K===K){for(var J=$;J--;)if(n[J]===K)continue e;P.push(G)}else m(n,K,c)||P.push(G)}return P}var ar=wd(On),Ia=wd(jo,!0);function pl(e,n){var o=!0;return ar(e,function(c,g,m){return o=!!n(c,g,m),o}),o}function oo(e,n,o){for(var c=-1,g=e.length;++c<g;){var m=e[c],E=n(m);if(E!=null&&(I===s?E===E&&!dn(E):o(E,I)))var I=E,P=m}return P}function gl(e,n,o,c){var g=e.length;for(o=pe(o),o<0&&(o=-o>g?0:g+o),c=c===s||c>g?g:pe(c),c<0&&(c+=g),c=o>c?0:fp(c);o<c;)e[o++]=n;return e}function Aa(e,n){var o=[];return ar(e,function(c,g,m){n(c,g,m)&&o.push(c)}),o}function yt(e,n,o,c,g){var m=-1,E=e.length;for(o||(o=u_),g||(g=[]);++m<E;){var I=e[m];n>0&&o(I)?n>1?yt(I,n-1,o,c,g):En(g,I):c||(g[g.length]=I)}return g}var zo=md(),Pa=md(!0);function On(e,n){return e&&zo(e,n,bt)}function jo(e,n){return e&&Pa(e,n,bt)}function kn(e,n){return ir(n,function(o){return Ur(e[o])})}function Mr(e,n){n=Si(n,e);for(var o=0,c=n.length;e!=null&&o<c;)e=e[lr(n[o++])];return o&&o==c?e:s}function xa(e,n,o){var c=n(e);return de(e)?c:En(c,o(e))}function At(e){return e==null?e===s?$f:Wf:Ar&&Ar in me(e)?t_(e):p_(e)}function Xo(e,n){return e>n}function _l(e,n){return e!=null&&Ce.call(e,n)}function yl(e,n){return e!=null&&n in me(e)}function wl(e,n,o){return e>=et(n,o)&&e<it(n,o)}function Zo(e,n,o){for(var c=o?Ro:Ws,g=e[0].length,m=e.length,E=m,I=L(m),P=1/0,$=[];E--;){var G=e[E];E&&n&&(G=Fe(G,Ut(n))),P=et(G.length,P),I[E]=!o&&(n||g>=120&&G.length>=120)?new Pr(E&&G):s}G=e[0];var K=-1,J=I[0];e:for(;++K<g&&$.length<P;){var se=G[K],ae=n?n(se):se;if(se=o||se!==0?se:0,!(J?ci(J,ae):c($,ae,o))){for(E=m;--E;){var we=I[E];if(!(we?ci(we,ae):c(e[E],ae,o)))continue e}J&&J.push(ae),$.push(se)}}return $}function Kn(e,n,o,c){return On(e,function(g,m,E){n(c,o(g),m,E)}),c}function In(e,n,o){n=Si(n,e),e=Hd(e,n);var c=e==null?e:e[lr(xn(n))];return c==null?s:It(c,e,o)}function Ma(e){return st(e)&&At(e)==re}function ml(e){return st(e)&&At(e)==Jr}function Sl(e){return st(e)&&At(e)==on}function ts(e,n,o,c,g){return e===n?!0:e==null||n==null||!st(e)&&!st(n)?e!==e&&n!==n:vl(e,n,o,c,ts,g)}function vl(e,n,o,c,g,m){var E=de(e),I=de(n),P=E?Sn:Ht(e),$=I?Sn:Ht(n);P=P==re?Un:P,$=$==re?Un:$;var G=P==Un,K=$==Un,J=P==$;if(J&&Ei(e)){if(!Ei(n))return!1;E=!0,G=!1}if(J&&!G)return m||(m=new ln),E||co(e)?Pd(e,n,o,c,g,m):Qg(e,n,P,o,c,g,m);if(!(o&H)){var se=G&&Ce.call(e,"__wrapped__"),ae=K&&Ce.call(n,"__wrapped__");if(se||ae){var we=se?e.value():e,fe=ae?n.value():n;return m||(m=new ln),g(we,fe,o,c,m)}}return J?(m||(m=new ln),e_(e,n,o,c,g,m)):!1}function Jo(e){return st(e)&&Ht(e)==un}function fr(e,n,o,c){var g=o.length,m=g,E=!c;if(e==null)return!m;for(e=me(e);g--;){var I=o[g];if(E&&I[2]?I[1]!==e[I[0]]:!(I[0]in e))return!1}for(;++g<m;){I=o[g];var P=I[0],$=e[P],G=I[1];if(E&&I[2]){if($===s&&!(P in e))return!1}else{var K=new ln;if(c)var J=c($,G,P,e,n,K);if(!(J===s?ts(G,$,H|D,c,K):J))return!1}}return!0}function ns(e){if(!tt(e)||f_(e))return!1;var n=Ur(e)?Bc:Wi;return n.test(is(e))}function ke(e){return st(e)&&At(e)==Xr}function i(e){return st(e)&&Ht(e)==Ze}function a(e){return st(e)&&qa(e.length)&&!!Ve[At(e)]}function l(e){return typeof e=="function"?e:e==null?sn:typeof e=="object"?de(e)?ce(e[0],e[1]):Q(e):Sp(e)}function p(e){if(!tu(e))return Js(e);var n=[];for(var o in me(e))Ce.call(e,o)&&o!="constructor"&&n.push(o);return n}function y(e){if(!tt(e))return d_(e);var n=tu(e),o=[];for(var c in e)c=="constructor"&&(n||!Ce.call(e,c))||o.push(c);return o}function k(e,n){return e<n}function B(e,n){var o=-1,c=nn(e)?L(e.length):[];return ar(e,function(g,m,E){c[++o]=n(g,m,E)}),c}function Q(e){var n=Hl(e);return n.length==1&&n[0][2]?Rd(n[0][0],n[0][1]):function(o){return o===e||fr(o,e,n)}}function ce(e,n){return Ll(e)&&Cd(n)?Rd(lr(e),n):function(o){var c=zl(o,e);return c===s&&c===n?jl(o,e):ts(n,c,H|D)}}function ye(e,n,o,c,g){e!==n&&zo(n,function(m,E){if(g||(g=new ln),tt(m))Pt(e,n,E,o,ye,c,g);else{var I=c?c(Fl(e,E),m,E+"",e,n,g):s;I===s&&(I=m),Ko(e,E,I)}},rn)}function Pt(e,n,o,c,g,m,E){var I=Fl(e,o),P=Fl(n,o),$=E.get(P);if($){Ko(e,o,$);return}var G=m?m(I,P,o+"",e,n,E):s,K=G===s;if(K){var J=de(P),se=!J&&Ei(P),ae=!J&&!se&&co(P);G=P,J||se||ae?de(I)?G=I:ct(I)?G=tn(I):se?(K=!1,G=dd(P,!0)):ae?(K=!1,G=pd(P,!0)):G=[]:ru(P)||ss(P)?(G=I,ss(I)?G=cp(I):(!tt(I)||Ur(I))&&(G=Nd(P))):K=!1}K&&(E.set(P,G),g(G,P,c,m,E),E.delete(P)),Ko(e,o,G)}function An(e,n){var o=e.length;if(o)return n+=n<0?o:0,Rr(n,o)?e[n]:s}function Vn(e,n,o){n.length?n=Fe(n,function(m){return de(m)?function(E){return Mr(E,m.length===1?m[0]:m)}:m}):n=[sn];var c=-1;n=Fe(n,Ut(ue()));var g=B(e,function(m,E,I){var P=Fe(n,function($){return $(m)});return{criteria:P,index:++c,value:m}});return Lo(g,function(m,E){return Kg(m,E,o)})}function Cg(e,n){return id(e,n,function(o,c){return jl(e,c)})}function id(e,n,o){for(var c=-1,g=n.length,m={};++c<g;){var E=n[c],I=Mr(e,E);o(I,E)&&Qo(m,Si(E,e),I)}return m}function Rg(e){return function(n){return Mr(n,e)}}function El(e,n,o,c){var g=c?ta:fi,m=-1,E=n.length,I=e;for(e===n&&(n=tn(n)),o&&(I=Fe(e,Ut(o)));++m<E;)for(var P=0,$=n[m],G=o?o($):$;(P=g(I,G,P,c))>-1;)I!==e&&Ir.call(I,P,1),Ir.call(e,P,1);return e}function sd(e,n){for(var o=e?n.length:0,c=o-1;o--;){var g=n[o];if(o==c||g!==m){var m=g;Rr(g)?Ir.call(e,g,1):kl(e,g)}}return e}function bl(e,n){return e+zi(wa()*(n-e+1))}function Ug(e,n,o,c){for(var g=-1,m=it(Xs((n-e)/(o||1)),0),E=L(m);m--;)E[c?m:++g]=e,e+=o;return E}function Tl(e,n){var o="";if(!e||n<1||n>kt)return o;do n%2&&(o+=e),n=zi(n/2),n&&(e+=e);while(n);return o}function Se(e,n){return Wl(Ud(e,n,sn),e+"")}function Hg(e){return Oa(lo(e))}function Dg(e,n){var o=lo(e);return Wa(o,xr(n,0,o.length))}function Qo(e,n,o,c){if(!tt(e))return e;n=Si(n,e);for(var g=-1,m=n.length,E=m-1,I=e;I!=null&&++g<m;){var P=lr(n[g]),$=o;if(P==="__proto__"||P==="constructor"||P==="prototype")return e;if(g!=E){var G=I[P];$=c?c(G,P,I):s,$===s&&($=tt(G)?G:Rr(n[g+1])?[]:{})}es(I,P,$),I=I[P]}return e}var od=Qs?function(e,n){return Qs.set(e,n),e}:sn,Lg=js?function(e,n){return js(e,"toString",{configurable:!0,enumerable:!1,value:Zl(n),writable:!0})}:sn;function Bg(e){return Wa(lo(e))}function Pn(e,n,o){var c=-1,g=e.length;n<0&&(n=-n>g?0:g+n),o=o>g?g:o,o<0&&(o+=g),g=n>o?0:o-n>>>0,n>>>=0;for(var m=L(g);++c<g;)m[c]=e[c+n];return m}function Fg(e,n){var o;return ar(e,function(c,g,m){return o=n(c,g,m),!o}),!!o}function Na(e,n,o){var c=0,g=e==null?c:e.length;if(typeof n=="number"&&n===n&&g<=vr){for(;c<g;){var m=c+g>>>1,E=e[m];E!==null&&!dn(E)&&(o?E<=n:E<n)?c=m+1:g=m}return g}return Ol(e,n,sn,o)}function Ol(e,n,o,c){var g=0,m=e==null?0:e.length;if(m===0)return 0;n=o(n);for(var E=n!==n,I=n===null,P=dn(n),$=n===s;g<m;){var G=zi((g+m)/2),K=o(e[G]),J=K!==s,se=K===null,ae=K===K,we=dn(K);if(E)var fe=c||ae;else $?fe=ae&&(c||J):I?fe=ae&&J&&(c||!se):P?fe=ae&&J&&!se&&(c||!we):se||we?fe=!1:fe=c?K<=n:K<n;fe?g=G+1:m=G}return et(m,Xt)}function ud(e,n){for(var o=-1,c=e.length,g=0,m=[];++o<c;){var E=e[o],I=n?n(E):E;if(!o||!qn(I,P)){var P=I;m[g++]=E===0?0:E}}return m}function ad(e){return typeof e=="number"?e:dn(e)?dt:+e}function hn(e){if(typeof e=="string")return e;if(de(e))return Fe(e,hn)+"";if(dn(e))return ma?ma.call(e):"";var n=e+"";return n=="0"&&1/e==-Ye?"-0":n}function mi(e,n,o){var c=-1,g=Ws,m=e.length,E=!0,I=[],P=I;if(o)E=!1,g=Ro;else if(m>=f){var $=n?null:Zg(e);if($)return li($);E=!1,g=ci,P=new Pr}else P=n?[]:I;e:for(;++c<m;){var G=e[c],K=n?n(G):G;if(G=o||G!==0?G:0,E&&K===K){for(var J=P.length;J--;)if(P[J]===K)continue e;n&&P.push(K),I.push(G)}else g(P,K,o)||(P!==I&&P.push(K),I.push(G))}return I}function kl(e,n){return n=Si(n,e),e=Hd(e,n),e==null||delete e[lr(xn(n))]}function fd(e,n,o,c){return Qo(e,n,o(Mr(e,n)),c)}function Ca(e,n,o,c){for(var g=e.length,m=c?g:-1;(c?m--:++m<g)&&n(e[m],m,e););return o?Pn(e,c?0:m,c?m+1:g):Pn(e,c?m+1:0,c?g:m)}function cd(e,n){var o=e;return o instanceof _e&&(o=o.value()),Uo(n,function(c,g){return g.func.apply(g.thisArg,En([c],g.args))},o)}function Il(e,n,o){var c=e.length;if(c<2)return c?mi(e[0]):[];for(var g=-1,m=L(c);++g<c;)for(var E=e[g],I=-1;++I<c;)I!=g&&(m[g]=wi(m[g]||E,e[I],n,o));return mi(yt(m,1),n,o)}function ld(e,n,o){for(var c=-1,g=e.length,m=n.length,E={};++c<g;){var I=c<m?n[c]:s;o(E,e[c],I)}return E}function Al(e){return ct(e)?e:[]}function Pl(e){return typeof e=="function"?e:sn}function Si(e,n){return de(e)?e:Ll(e,n)?[e]:Fd(Le(e))}var Wg=Se;function vi(e,n,o){var c=e.length;return o=o===s?c:o,!n&&o>=c?e:Pn(e,n,o)}var hd=Fc||function(e){return _t.clearTimeout(e)};function dd(e,n){if(n)return e.slice();var o=e.length,c=la?la(o):new e.constructor(o);return e.copy(c),c}function xl(e){var n=new e.constructor(e.byteLength);return new qs(n).set(new qs(e)),n}function Yg(e,n){var o=n?xl(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}function $g(e){var n=new e.constructor(e.source,tr.exec(e));return n.lastIndex=e.lastIndex,n}function Gg(e){return Qi?me(Qi.call(e)):{}}function pd(e,n){var o=n?xl(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function gd(e,n){if(e!==n){var o=e!==s,c=e===null,g=e===e,m=dn(e),E=n!==s,I=n===null,P=n===n,$=dn(n);if(!I&&!$&&!m&&e>n||m&&E&&P&&!I&&!$||c&&E&&P||!o&&P||!g)return 1;if(!c&&!m&&!$&&e<n||$&&o&&g&&!c&&!m||I&&o&&g||!E&&g||!P)return-1}return 0}function Kg(e,n,o){for(var c=-1,g=e.criteria,m=n.criteria,E=g.length,I=o.length;++c<E;){var P=gd(g[c],m[c]);if(P){if(c>=I)return P;var $=o[c];return P*($=="desc"?-1:1)}}return e.index-n.index}function _d(e,n,o,c){for(var g=-1,m=e.length,E=o.length,I=-1,P=n.length,$=it(m-E,0),G=L(P+$),K=!c;++I<P;)G[I]=n[I];for(;++g<E;)(K||g<m)&&(G[o[g]]=e[g]);for(;$--;)G[I++]=e[g++];return G}function yd(e,n,o,c){for(var g=-1,m=e.length,E=-1,I=o.length,P=-1,$=n.length,G=it(m-I,0),K=L(G+$),J=!c;++g<G;)K[g]=e[g];for(var se=g;++P<$;)K[se+P]=n[P];for(;++E<I;)(J||g<m)&&(K[se+o[E]]=e[g++]);return K}function tn(e,n){var o=-1,c=e.length;for(n||(n=L(c));++o<c;)n[o]=e[o];return n}function cr(e,n,o,c){var g=!o;o||(o={});for(var m=-1,E=n.length;++m<E;){var I=n[m],P=c?c(o[I],e[I],I,o,e):s;P===s&&(P=e[I]),g?Gn(o,I,P):es(o,I,P)}return o}function Vg(e,n){return cr(e,Dl(e),n)}function qg(e,n){return cr(e,xd(e),n)}function Ra(e,n){return function(o,c){var g=de(o)?yc:hl,m=n?n():{};return g(o,e,ue(c,2),m)}}function uo(e){return Se(function(n,o){var c=-1,g=o.length,m=g>1?o[g-1]:s,E=g>2?o[2]:s;for(m=e.length>3&&typeof m=="function"?(g--,m):s,E&&Wt(o[0],o[1],E)&&(m=g<3?s:m,g=1),n=me(n);++c<g;){var I=o[c];I&&e(n,I,c,m)}return n})}function wd(e,n){return function(o,c){if(o==null)return o;if(!nn(o))return e(o,c);for(var g=o.length,m=n?g:-1,E=me(o);(n?m--:++m<g)&&c(E[m],m,E)!==!1;);return o}}function md(e){return function(n,o,c){for(var g=-1,m=me(n),E=c(n),I=E.length;I--;){var P=E[e?I:++g];if(o(m[P],P,m)===!1)break}return n}}function zg(e,n,o){var c=n&C,g=eu(e);function m(){var E=this&&this!==_t&&this instanceof m?g:e;return E.apply(c?o:this,arguments)}return m}function Sd(e){return function(n){n=Le(n);var o=bn(n)?Bt(n):s,c=o?o[0]:n.charAt(0),g=o?vi(o,1).join(""):n.slice(1);return c[e]()+g}}function ao(e){return function(n){return Uo(wp(yp(n).replace(uc,"")),e,"")}}function eu(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var o=yi(e.prototype),c=e.apply(o,n);return tt(c)?c:o}}function jg(e,n,o){var c=eu(e);function g(){for(var m=arguments.length,E=L(m),I=m,P=fo(g);I--;)E[I]=arguments[I];var $=m<3&&E[0]!==P&&E[m-1]!==P?[]:cn(E,P);if(m-=$.length,m<o)return Od(e,n,Ua,g.placeholder,s,E,$,s,s,o-m);var G=this&&this!==_t&&this instanceof g?c:e;return It(G,this,E)}return g}function vd(e){return function(n,o,c){var g=me(n);if(!nn(n)){var m=ue(o,3);n=bt(n),o=function(I){return m(g[I],I,g)}}var E=e(n,o,c);return E>-1?g[m?n[E]:E]:s}}function Ed(e){return Cr(function(n){var o=n.length,c=o,g=Qt.prototype.thru;for(e&&n.reverse();c--;){var m=n[c];if(typeof m!="function")throw new Jt(h);if(g&&!E&&Ba(m)=="wrapper")var E=new Qt([],!0)}for(c=E?c:o;++c<o;){m=n[c];var I=Ba(m),P=I=="wrapper"?Ul(m):s;P&&Bl(P[0])&&P[1]==(q|x|W|ne)&&!P[4].length&&P[9]==1?E=E[Ba(P[0])].apply(E,P[3]):E=m.length==1&&Bl(m)?E[I]():E.thru(m)}return function(){var $=arguments,G=$[0];if(E&&$.length==1&&de(G))return E.plant(G).value();for(var K=0,J=o?n[K].apply(this,$):G;++K<o;)J=n[K].call(this,J);return J}})}function Ua(e,n,o,c,g,m,E,I,P,$){var G=n&q,K=n&C,J=n&z,se=n&(x|N),ae=n&V,we=J?s:eu(e);function fe(){for(var Te=arguments.length,Ie=L(Te),pn=Te;pn--;)Ie[pn]=arguments[pn];if(se)var Yt=fo(fe),gn=bc(Ie,Yt);if(c&&(Ie=_d(Ie,c,g,se)),m&&(Ie=yd(Ie,m,E,se)),Te-=gn,se&&Te<$){var lt=cn(Ie,Yt);return Od(e,n,Ua,fe.placeholder,o,Ie,lt,I,P,$-Te)}var zn=K?o:this,Dr=J?zn[e]:e;return Te=Ie.length,I?Ie=g_(Ie,I):ae&&Te>1&&Ie.reverse(),G&&P<Te&&(Ie.length=P),this&&this!==_t&&this instanceof fe&&(Dr=we||eu(Dr)),Dr.apply(zn,Ie)}return fe}function bd(e,n){return function(o,c){return Kn(o,e,n(c),{})}}function Ha(e,n){return function(o,c){var g;if(o===s&&c===s)return n;if(o!==s&&(g=o),c!==s){if(g===s)return c;typeof o=="string"||typeof c=="string"?(o=hn(o),c=hn(c)):(o=ad(o),c=ad(c)),g=e(o,c)}return g}}function Ml(e){return Cr(function(n){return n=Fe(n,Ut(ue())),Se(function(o){var c=this;return e(n,function(g){return It(g,c,o)})})})}function Da(e,n){n=n===s?" ":hn(n);var o=n.length;if(o<2)return o?Tl(n,e):n;var c=Tl(n,Xs(e/sr(n)));return bn(n)?vi(Bt(c),0,e).join(""):c.slice(0,e)}function Xg(e,n,o,c){var g=n&C,m=eu(e);function E(){for(var I=-1,P=arguments.length,$=-1,G=c.length,K=L(G+P),J=this&&this!==_t&&this instanceof E?m:e;++$<G;)K[$]=c[$];for(;P--;)K[$++]=arguments[++I];return It(J,g?o:this,K)}return E}function Td(e){return function(n,o,c){return c&&typeof c!="number"&&Wt(n,o,c)&&(o=c=s),n=Hr(n),o===s?(o=n,n=0):o=Hr(o),c=c===s?n<o?1:-1:Hr(c),Ug(n,o,c,e)}}function La(e){return function(n,o){return typeof n=="string"&&typeof o=="string"||(n=Mn(n),o=Mn(o)),e(n,o)}}function Od(e,n,o,c,g,m,E,I,P,$){var G=n&x,K=G?E:s,J=G?s:E,se=G?m:s,ae=G?s:m;n|=G?W:U,n&=~(G?U:W),n&Z||(n&=~(C|z));var we=[e,n,g,se,K,ae,J,I,P,$],fe=o.apply(s,we);return Bl(e)&&Dd(fe,we),fe.placeholder=c,Ld(fe,e,n)}function Nl(e){var n=ft[e];return function(o,c){if(o=Mn(o),c=c==null?0:et(pe(c),292),c&&ji(o)){var g=(Le(o)+"e").split("e"),m=n(g[0]+"e"+(+g[1]+c));return g=(Le(m)+"e").split("e"),+(g[0]+"e"+(+g[1]-c))}return n(o)}}var Zg=gi&&1/li(new gi([,-0]))[1]==Ye?function(e){return new gi(e)}:eh;function kd(e){return function(n){var o=Ht(n);return o==un?Yo(n):o==Ze?Pc(n):Ec(n,e(n))}}function Nr(e,n,o,c,g,m,E,I){var P=n&z;if(!P&&typeof e!="function")throw new Jt(h);var $=c?c.length:0;if($||(n&=~(W|U),c=g=s),E=E===s?E:it(pe(E),0),I=I===s?I:pe(I),$-=g?g.length:0,n&U){var G=c,K=g;c=g=s}var J=P?s:Ul(e),se=[e,n,o,c,g,G,K,m,E,I];if(J&&h_(se,J),e=se[0],n=se[1],o=se[2],c=se[3],g=se[4],I=se[9]=se[9]===s?P?0:e.length:it(se[9]-$,0),!I&&n&(x|N)&&(n&=~(x|N)),!n||n==C)var ae=zg(e,n,o);else n==x||n==N?ae=jg(e,n,I):(n==W||n==(C|W))&&!g.length?ae=Xg(e,n,o,c):ae=Ua.apply(s,se);var we=J?od:Dd;return Ld(we(ae,se),e,n)}function Id(e,n,o,c){return e===s||qn(e,di[o])&&!Ce.call(c,o)?n:e}function Ad(e,n,o,c,g,m){return tt(e)&&tt(n)&&(m.set(n,e),ye(e,n,s,Ad,m),m.delete(n)),e}function Jg(e){return ru(e)?s:e}function Pd(e,n,o,c,g,m){var E=o&H,I=e.length,P=n.length;if(I!=P&&!(E&&P>I))return!1;var $=m.get(e),G=m.get(n);if($&&G)return $==n&&G==e;var K=-1,J=!0,se=o&D?new Pr:s;for(m.set(e,n),m.set(n,e);++K<I;){var ae=e[K],we=n[K];if(c)var fe=E?c(we,ae,K,n,e,m):c(ae,we,K,e,n,m);if(fe!==s){if(fe)continue;J=!1;break}if(se){if(!Ho(n,function(Te,Ie){if(!ci(se,Ie)&&(ae===Te||g(ae,Te,o,c,m)))return se.push(Ie)})){J=!1;break}}else if(!(ae===we||g(ae,we,o,c,m))){J=!1;break}}return m.delete(e),m.delete(n),J}function Qg(e,n,o,c,g,m,E){switch(o){case Qn:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Jr:return!(e.byteLength!=n.byteLength||!m(new qs(e),new qs(n)));case He:case on:case Li:return qn(+e,+n);case ut:return e.name==n.name&&e.message==n.message;case Xr:case Er:return e==n+"";case un:var I=Yo;case Ze:var P=c&H;if(I||(I=li),e.size!=n.size&&!P)return!1;var $=E.get(e);if($)return $==n;c|=D,E.set(e,n);var G=Pd(I(e),I(n),c,g,m,E);return E.delete(e),G;case Ps:if(Qi)return Qi.call(e)==Qi.call(n)}return!1}function e_(e,n,o,c,g,m){var E=o&H,I=Cl(e),P=I.length,$=Cl(n),G=$.length;if(P!=G&&!E)return!1;for(var K=P;K--;){var J=I[K];if(!(E?J in n:Ce.call(n,J)))return!1}var se=m.get(e),ae=m.get(n);if(se&&ae)return se==n&&ae==e;var we=!0;m.set(e,n),m.set(n,e);for(var fe=E;++K<P;){J=I[K];var Te=e[J],Ie=n[J];if(c)var pn=E?c(Ie,Te,J,n,e,m):c(Te,Ie,J,e,n,m);if(!(pn===s?Te===Ie||g(Te,Ie,o,c,m):pn)){we=!1;break}fe||(fe=J=="constructor")}if(we&&!fe){var Yt=e.constructor,gn=n.constructor;Yt!=gn&&"constructor"in e&&"constructor"in n&&!(typeof Yt=="function"&&Yt instanceof Yt&&typeof gn=="function"&&gn instanceof gn)&&(we=!1)}return m.delete(e),m.delete(n),we}function Cr(e){return Wl(Ud(e,s,Gd),e+"")}function Cl(e){return xa(e,bt,Dl)}function Rl(e){return xa(e,rn,xd)}var Ul=Qs?function(e){return Qs.get(e)}:eh;function Ba(e){for(var n=e.name+"",o=_i[n],c=Ce.call(_i,n)?o.length:0;c--;){var g=o[c],m=g.func;if(m==null||m==e)return g.name}return n}function fo(e){var n=Ce.call(w,"placeholder")?w:e;return n.placeholder}function ue(){var e=w.iteratee||Jl;return e=e===Jl?l:e,arguments.length?e(arguments[0],arguments[1]):e}function Fa(e,n){var o=e.__data__;return a_(n)?o[typeof n=="string"?"string":"hash"]:o.map}function Hl(e){for(var n=bt(e),o=n.length;o--;){var c=n[o],g=e[c];n[o]=[c,g,Cd(g)]}return n}function rs(e,n){var o=kc(e,n);return ns(o)?o:s}function t_(e){var n=Ce.call(e,Ar),o=e[Ar];try{e[Ar]=s;var c=!0}catch{}var g=Ks.call(e);return c&&(n?e[Ar]=o:delete e[Ar]),g}var Dl=Zs?function(e){return e==null?[]:(e=me(e),ir(Zs(e),function(n){return da.call(e,n)}))}:th,xd=Zs?function(e){for(var n=[];e;)En(n,Dl(e)),e=zs(e);return n}:th,Ht=At;($o&&Ht(new $o(new ArrayBuffer(1)))!=Qn||Xi&&Ht(new Xi)!=un||Go&&Ht(Go.resolve())!=Ou||gi&&Ht(new gi)!=Ze||Zi&&Ht(new Zi)!=Zr)&&(Ht=function(e){var n=At(e),o=n==Un?e.constructor:s,c=o?is(o):"";if(c)switch(c){case Gc:return Qn;case Kc:return un;case Vc:return Ou;case qc:return Ze;case zc:return Zr}return n});function n_(e,n,o){for(var c=-1,g=o.length;++c<g;){var m=o[c],E=m.size;switch(m.type){case"drop":e+=E;break;case"dropRight":n-=E;break;case"take":n=et(n,e+E);break;case"takeRight":e=it(e,n-E);break}}return{start:e,end:n}}function r_(e){var n=e.match(vt);return n?n[1].split(Dn):[]}function Md(e,n,o){n=Si(n,e);for(var c=-1,g=n.length,m=!1;++c<g;){var E=lr(n[c]);if(!(m=e!=null&&o(e,E)))break;e=e[E]}return m||++c!=g?m:(g=e==null?0:e.length,!!g&&qa(g)&&Rr(E,g)&&(de(e)||ss(e)))}function i_(e){var n=e.length,o=new e.constructor(n);return n&&typeof e[0]=="string"&&Ce.call(e,"index")&&(o.index=e.index,o.input=e.input),o}function Nd(e){return typeof e.constructor=="function"&&!tu(e)?yi(zs(e)):{}}function s_(e,n,o){var c=e.constructor;switch(n){case Jr:return xl(e);case He:case on:return new c(+e);case Qn:return Yg(e,o);case Qr:case Be:case xs:case Ms:case ei:case Bi:case ti:case er:case ni:return pd(e,o);case un:return new c;case Li:case Er:return new c(e);case Xr:return $g(e);case Ze:return new c;case Ps:return Gg(e)}}function o_(e,n){var o=n.length;if(!o)return e;var c=o-1;return n[c]=(o>1?"& ":"")+n[c],n=n.join(o>2?", ":" "),e.replace(Rs,`{
/* [wrapped with `+n+`] */
`)}function u_(e){return de(e)||ss(e)||!!(pa&&e&&e[pa])}function Rr(e,n){var o=typeof e;return n=n??kt,!!n&&(o=="number"||o!="symbol"&&Xf.test(e))&&e>-1&&e%1==0&&e<n}function Wt(e,n,o){if(!tt(o))return!1;var c=typeof n;return(c=="number"?nn(o)&&Rr(n,o.length):c=="string"&&n in o)?qn(o[n],e):!1}function Ll(e,n){if(de(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||dn(e)?!0:Zt.test(e)||!Hn.test(e)||n!=null&&e in me(n)}function a_(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Bl(e){var n=Ba(e),o=w[n];if(typeof o!="function"||!(n in _e.prototype))return!1;if(e===o)return!0;var c=Ul(o);return!!c&&e===c[0]}function f_(e){return!!ca&&ca in e}var c_=Gs?Ur:nh;function tu(e){var n=e&&e.constructor,o=typeof n=="function"&&n.prototype||di;return e===o}function Cd(e){return e===e&&!tt(e)}function Rd(e,n){return function(o){return o==null?!1:o[e]===n&&(n!==s||e in me(o))}}function l_(e){var n=Ka(e,function(c){return o.size===T&&o.clear(),c}),o=n.cache;return n}function h_(e,n){var o=e[1],c=n[1],g=o|c,m=g<(C|z|q),E=c==q&&o==x||c==q&&o==ne&&e[7].length<=n[8]||c==(q|ne)&&n[7].length<=n[8]&&o==x;if(!(m||E))return e;c&C&&(e[2]=n[2],g|=o&C?0:Z);var I=n[3];if(I){var P=e[3];e[3]=P?_d(P,I,n[4]):I,e[4]=P?cn(e[3],O):n[4]}return I=n[5],I&&(P=e[5],e[5]=P?yd(P,I,n[6]):I,e[6]=P?cn(e[5],O):n[6]),I=n[7],I&&(e[7]=I),c&q&&(e[8]=e[8]==null?n[8]:et(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=g,e}function d_(e){var n=[];if(e!=null)for(var o in me(e))n.push(o);return n}function p_(e){return Ks.call(e)}function Ud(e,n,o){return n=it(n===s?e.length-1:n,0),function(){for(var c=arguments,g=-1,m=it(c.length-n,0),E=L(m);++g<m;)E[g]=c[n+g];g=-1;for(var I=L(n+1);++g<n;)I[g]=c[g];return I[n]=o(E),It(e,this,I)}}function Hd(e,n){return n.length<2?e:Mr(e,Pn(n,0,-1))}function g_(e,n){for(var o=e.length,c=et(n.length,o),g=tn(e);c--;){var m=n[c];e[c]=Rr(m,o)?g[m]:s}return e}function Fl(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var Dd=Bd(od),nu=Yc||function(e,n){return _t.setTimeout(e,n)},Wl=Bd(Lg);function Ld(e,n,o){var c=n+"";return Wl(e,o_(c,__(r_(c),o)))}function Bd(e){var n=0,o=0;return function(){var c=_a(),g=X-(c-o);if(o=c,g>0){if(++n>=Y)return arguments[0]}else n=0;return e.apply(s,arguments)}}function Wa(e,n){var o=-1,c=e.length,g=c-1;for(n=n===s?c:n;++o<n;){var m=bl(o,g),E=e[m];e[m]=e[o],e[o]=E}return e.length=n,e}var Fd=l_(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Ee,function(o,c,g,m){n.push(g?m.replace(an,"$1"):c||o)}),n});function lr(e){if(typeof e=="string"||dn(e))return e;var n=e+"";return n=="0"&&1/e==-Ye?"-0":n}function is(e){if(e!=null){try{return Vi.call(e)}catch{}try{return e+""}catch{}}return""}function __(e,n){return rt(Rt,function(o){var c="_."+o[0];n&o[1]&&!Ws(e,c)&&e.push(c)}),e.sort()}function Wd(e){if(e instanceof _e)return e.clone();var n=new Qt(e.__wrapped__,e.__chain__);return n.__actions__=tn(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function y_(e,n,o){(o?Wt(e,n,o):n===s)?n=1:n=it(pe(n),0);var c=e==null?0:e.length;if(!c||n<1)return[];for(var g=0,m=0,E=L(Xs(c/n));g<c;)E[m++]=Pn(e,g,g+=n);return E}function w_(e){for(var n=-1,o=e==null?0:e.length,c=0,g=[];++n<o;){var m=e[n];m&&(g[c++]=m)}return g}function m_(){var e=arguments.length;if(!e)return[];for(var n=L(e-1),o=arguments[0],c=e;c--;)n[c-1]=arguments[c];return En(de(o)?tn(o):[o],yt(n,1))}var S_=Se(function(e,n){return ct(e)?wi(e,yt(n,1,ct,!0)):[]}),v_=Se(function(e,n){var o=xn(n);return ct(o)&&(o=s),ct(e)?wi(e,yt(n,1,ct,!0),ue(o,2)):[]}),E_=Se(function(e,n){var o=xn(n);return ct(o)&&(o=s),ct(e)?wi(e,yt(n,1,ct,!0),s,o):[]});function b_(e,n,o){var c=e==null?0:e.length;return c?(n=o||n===s?1:pe(n),Pn(e,n<0?0:n,c)):[]}function T_(e,n,o){var c=e==null?0:e.length;return c?(n=o||n===s?1:pe(n),n=c-n,Pn(e,0,n<0?0:n)):[]}function O_(e,n){return e&&e.length?Ca(e,ue(n,3),!0,!0):[]}function k_(e,n){return e&&e.length?Ca(e,ue(n,3),!0):[]}function I_(e,n,o,c){var g=e==null?0:e.length;return g?(o&&typeof o!="number"&&Wt(e,n,o)&&(o=0,c=g),gl(e,n,o,c)):[]}function Yd(e,n,o){var c=e==null?0:e.length;if(!c)return-1;var g=o==null?0:pe(o);return g<0&&(g=it(c+g,0)),Ys(e,ue(n,3),g)}function $d(e,n,o){var c=e==null?0:e.length;if(!c)return-1;var g=c-1;return o!==s&&(g=pe(o),g=o<0?it(c+g,0):et(g,c-1)),Ys(e,ue(n,3),g,!0)}function Gd(e){var n=e==null?0:e.length;return n?yt(e,1):[]}function A_(e){var n=e==null?0:e.length;return n?yt(e,Ye):[]}function P_(e,n){var o=e==null?0:e.length;return o?(n=n===s?1:pe(n),yt(e,n)):[]}function x_(e){for(var n=-1,o=e==null?0:e.length,c={};++n<o;){var g=e[n];c[g[0]]=g[1]}return c}function Kd(e){return e&&e.length?e[0]:s}function M_(e,n,o){var c=e==null?0:e.length;if(!c)return-1;var g=o==null?0:pe(o);return g<0&&(g=it(c+g,0)),fi(e,n,g)}function N_(e){var n=e==null?0:e.length;return n?Pn(e,0,-1):[]}var C_=Se(function(e){var n=Fe(e,Al);return n.length&&n[0]===e[0]?Zo(n):[]}),R_=Se(function(e){var n=xn(e),o=Fe(e,Al);return n===xn(o)?n=s:o.pop(),o.length&&o[0]===e[0]?Zo(o,ue(n,2)):[]}),U_=Se(function(e){var n=xn(e),o=Fe(e,Al);return n=typeof n=="function"?n:s,n&&o.pop(),o.length&&o[0]===e[0]?Zo(o,s,n):[]});function H_(e,n){return e==null?"":pi.call(e,n)}function xn(e){var n=e==null?0:e.length;return n?e[n-1]:s}function D_(e,n,o){var c=e==null?0:e.length;if(!c)return-1;var g=c;return o!==s&&(g=pe(o),g=g<0?it(c+g,0):et(g,c-1)),n===n?xc(e,n,g):Ys(e,na,g,!0)}function L_(e,n){return e&&e.length?An(e,pe(n)):s}var B_=Se(Vd);function Vd(e,n){return e&&e.length&&n&&n.length?El(e,n):e}function F_(e,n,o){return e&&e.length&&n&&n.length?El(e,n,ue(o,2)):e}function W_(e,n,o){return e&&e.length&&n&&n.length?El(e,n,s,o):e}var Y_=Cr(function(e,n){var o=e==null?0:e.length,c=so(e,n);return sd(e,Fe(n,function(g){return Rr(g,o)?+g:g}).sort(gd)),c});function $_(e,n){var o=[];if(!(e&&e.length))return o;var c=-1,g=[],m=e.length;for(n=ue(n,3);++c<m;){var E=e[c];n(E,c,e)&&(o.push(E),g.push(c))}return sd(e,g),o}function Yl(e){return e==null?e:$c.call(e)}function G_(e,n,o){var c=e==null?0:e.length;return c?(o&&typeof o!="number"&&Wt(e,n,o)?(n=0,o=c):(n=n==null?0:pe(n),o=o===s?c:pe(o)),Pn(e,n,o)):[]}function K_(e,n){return Na(e,n)}function V_(e,n,o){return Ol(e,n,ue(o,2))}function q_(e,n){var o=e==null?0:e.length;if(o){var c=Na(e,n);if(c<o&&qn(e[c],n))return c}return-1}function z_(e,n){return Na(e,n,!0)}function j_(e,n,o){return Ol(e,n,ue(o,2),!0)}function X_(e,n){var o=e==null?0:e.length;if(o){var c=Na(e,n,!0)-1;if(qn(e[c],n))return c}return-1}function Z_(e){return e&&e.length?ud(e):[]}function J_(e,n){return e&&e.length?ud(e,ue(n,2)):[]}function Q_(e){var n=e==null?0:e.length;return n?Pn(e,1,n):[]}function ey(e,n,o){return e&&e.length?(n=o||n===s?1:pe(n),Pn(e,0,n<0?0:n)):[]}function ty(e,n,o){var c=e==null?0:e.length;return c?(n=o||n===s?1:pe(n),n=c-n,Pn(e,n<0?0:n,c)):[]}function ny(e,n){return e&&e.length?Ca(e,ue(n,3),!1,!0):[]}function ry(e,n){return e&&e.length?Ca(e,ue(n,3)):[]}var iy=Se(function(e){return mi(yt(e,1,ct,!0))}),sy=Se(function(e){var n=xn(e);return ct(n)&&(n=s),mi(yt(e,1,ct,!0),ue(n,2))}),oy=Se(function(e){var n=xn(e);return n=typeof n=="function"?n:s,mi(yt(e,1,ct,!0),s,n)});function uy(e){return e&&e.length?mi(e):[]}function ay(e,n){return e&&e.length?mi(e,ue(n,2)):[]}function fy(e,n){return n=typeof n=="function"?n:s,e&&e.length?mi(e,s,n):[]}function $l(e){if(!(e&&e.length))return[];var n=0;return e=ir(e,function(o){if(ct(o))return n=it(o.length,n),!0}),Fo(n,function(o){return Fe(e,Do(o))})}function qd(e,n){if(!(e&&e.length))return[];var o=$l(e);return n==null?o:Fe(o,function(c){return It(n,s,c)})}var cy=Se(function(e,n){return ct(e)?wi(e,n):[]}),ly=Se(function(e){return Il(ir(e,ct))}),hy=Se(function(e){var n=xn(e);return ct(n)&&(n=s),Il(ir(e,ct),ue(n,2))}),dy=Se(function(e){var n=xn(e);return n=typeof n=="function"?n:s,Il(ir(e,ct),s,n)}),py=Se($l);function gy(e,n){return ld(e||[],n||[],es)}function _y(e,n){return ld(e||[],n||[],Qo)}var yy=Se(function(e){var n=e.length,o=n>1?e[n-1]:s;return o=typeof o=="function"?(e.pop(),o):s,qd(e,o)});function zd(e){var n=w(e);return n.__chain__=!0,n}function wy(e,n){return n(e),e}function Ya(e,n){return n(e)}var my=Cr(function(e){var n=e.length,o=n?e[0]:0,c=this.__wrapped__,g=function(m){return so(m,e)};return n>1||this.__actions__.length||!(c instanceof _e)||!Rr(o)?this.thru(g):(c=c.slice(o,+o+(n?1:0)),c.__actions__.push({func:Ya,args:[g],thisArg:s}),new Qt(c,this.__chain__).thru(function(m){return n&&!m.length&&m.push(s),m}))});function Sy(){return zd(this)}function vy(){return new Qt(this.value(),this.__chain__)}function Ey(){this.__values__===s&&(this.__values__=ap(this.value()));var e=this.__index__>=this.__values__.length,n=e?s:this.__values__[this.__index__++];return{done:e,value:n}}function by(){return this}function Ty(e){for(var n,o=this;o instanceof to;){var c=Wd(o);c.__index__=0,c.__values__=s,n?g.__wrapped__=c:n=c;var g=c;o=o.__wrapped__}return g.__wrapped__=e,n}function Oy(){var e=this.__wrapped__;if(e instanceof _e){var n=e;return this.__actions__.length&&(n=new _e(this)),n=n.reverse(),n.__actions__.push({func:Ya,args:[Yl],thisArg:s}),new Qt(n,this.__chain__)}return this.thru(Yl)}function ky(){return cd(this.__wrapped__,this.__actions__)}var Iy=Ra(function(e,n,o){Ce.call(e,o)?++e[o]:Gn(e,o,1)});function Ay(e,n,o){var c=de(e)?Fs:pl;return o&&Wt(e,n,o)&&(n=s),c(e,ue(n,3))}function Py(e,n){var o=de(e)?ir:Aa;return o(e,ue(n,3))}var xy=vd(Yd),My=vd($d);function Ny(e,n){return yt($a(e,n),1)}function Cy(e,n){return yt($a(e,n),Ye)}function Ry(e,n,o){return o=o===s?1:pe(o),yt($a(e,n),o)}function jd(e,n){var o=de(e)?rt:ar;return o(e,ue(n,3))}function Xd(e,n){var o=de(e)?wc:Ia;return o(e,ue(n,3))}var Uy=Ra(function(e,n,o){Ce.call(e,o)?e[o].push(n):Gn(e,o,[n])});function Hy(e,n,o,c){e=nn(e)?e:lo(e),o=o&&!c?pe(o):0;var g=e.length;return o<0&&(o=it(g+o,0)),za(e)?o<=g&&e.indexOf(n,o)>-1:!!g&&fi(e,n,o)>-1}var Dy=Se(function(e,n,o){var c=-1,g=typeof n=="function",m=nn(e)?L(e.length):[];return ar(e,function(E){m[++c]=g?It(n,E,o):In(E,n,o)}),m}),Ly=Ra(function(e,n,o){Gn(e,o,n)});function $a(e,n){var o=de(e)?Fe:B;return o(e,ue(n,3))}function By(e,n,o,c){return e==null?[]:(de(n)||(n=n==null?[]:[n]),o=c?s:o,de(o)||(o=o==null?[]:[o]),Vn(e,n,o))}var Fy=Ra(function(e,n,o){e[o?0:1].push(n)},function(){return[[],[]]});function Wy(e,n,o){var c=de(e)?Uo:ra,g=arguments.length<3;return c(e,ue(n,4),o,g,ar)}function Yy(e,n,o){var c=de(e)?mc:ra,g=arguments.length<3;return c(e,ue(n,4),o,g,Ia)}function $y(e,n){var o=de(e)?ir:Aa;return o(e,Va(ue(n,3)))}function Gy(e){var n=de(e)?Oa:Hg;return n(e)}function Ky(e,n,o){(o?Wt(e,n,o):n===s)?n=1:n=pe(n);var c=de(e)?cl:Dg;return c(e,n)}function Vy(e){var n=de(e)?ll:Bg;return n(e)}function qy(e){if(e==null)return 0;if(nn(e))return za(e)?sr(e):e.length;var n=Ht(e);return n==un||n==Ze?e.size:p(e).length}function zy(e,n,o){var c=de(e)?Ho:Fg;return o&&Wt(e,n,o)&&(n=s),c(e,ue(n,3))}var jy=Se(function(e,n){if(e==null)return[];var o=n.length;return o>1&&Wt(e,n[0],n[1])?n=[]:o>2&&Wt(n[0],n[1],n[2])&&(n=[n[0]]),Vn(e,yt(n,1),[])}),Ga=Wc||function(){return _t.Date.now()};function Xy(e,n){if(typeof n!="function")throw new Jt(h);return e=pe(e),function(){if(--e<1)return n.apply(this,arguments)}}function Zd(e,n,o){return n=o?s:n,n=e&&n==null?e.length:n,Nr(e,q,s,s,s,s,n)}function Jd(e,n){var o;if(typeof n!="function")throw new Jt(h);return e=pe(e),function(){return--e>0&&(o=n.apply(this,arguments)),e<=1&&(n=s),o}}var Gl=Se(function(e,n,o){var c=C;if(o.length){var g=cn(o,fo(Gl));c|=W}return Nr(e,c,n,o,g)}),Qd=Se(function(e,n,o){var c=C|z;if(o.length){var g=cn(o,fo(Qd));c|=W}return Nr(n,c,e,o,g)});function ep(e,n,o){n=o?s:n;var c=Nr(e,x,s,s,s,s,s,n);return c.placeholder=ep.placeholder,c}function tp(e,n,o){n=o?s:n;var c=Nr(e,N,s,s,s,s,s,n);return c.placeholder=tp.placeholder,c}function np(e,n,o){var c,g,m,E,I,P,$=0,G=!1,K=!1,J=!0;if(typeof e!="function")throw new Jt(h);n=Mn(n)||0,tt(o)&&(G=!!o.leading,K="maxWait"in o,m=K?it(Mn(o.maxWait)||0,n):m,J="trailing"in o?!!o.trailing:J);function se(lt){var zn=c,Dr=g;return c=g=s,$=lt,E=e.apply(Dr,zn),E}function ae(lt){return $=lt,I=nu(Te,n),G?se(lt):E}function we(lt){var zn=lt-P,Dr=lt-$,vp=n-zn;return K?et(vp,m-Dr):vp}function fe(lt){var zn=lt-P,Dr=lt-$;return P===s||zn>=n||zn<0||K&&Dr>=m}function Te(){var lt=Ga();if(fe(lt))return Ie(lt);I=nu(Te,we(lt))}function Ie(lt){return I=s,J&&c?se(lt):(c=g=s,E)}function pn(){I!==s&&hd(I),$=0,c=P=g=I=s}function Yt(){return I===s?E:Ie(Ga())}function gn(){var lt=Ga(),zn=fe(lt);if(c=arguments,g=this,P=lt,zn){if(I===s)return ae(P);if(K)return hd(I),I=nu(Te,n),se(P)}return I===s&&(I=nu(Te,n)),E}return gn.cancel=pn,gn.flush=Yt,gn}var Zy=Se(function(e,n){return Tn(e,1,n)}),Jy=Se(function(e,n,o){return Tn(e,Mn(n)||0,o)});function Qy(e){return Nr(e,V)}function Ka(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new Jt(h);var o=function(){var c=arguments,g=n?n.apply(this,c):c[0],m=o.cache;if(m.has(g))return m.get(g);var E=e.apply(this,c);return o.cache=m.set(g,E)||m,E};return o.cache=new(Ka.Cache||$n),o}Ka.Cache=$n;function Va(e){if(typeof e!="function")throw new Jt(h);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function ew(e){return Jd(2,e)}var tw=Wg(function(e,n){n=n.length==1&&de(n[0])?Fe(n[0],Ut(ue())):Fe(yt(n,1),Ut(ue()));var o=n.length;return Se(function(c){for(var g=-1,m=et(c.length,o);++g<m;)c[g]=n[g].call(this,c[g]);return It(e,this,c)})}),Kl=Se(function(e,n){var o=cn(n,fo(Kl));return Nr(e,W,s,n,o)}),rp=Se(function(e,n){var o=cn(n,fo(rp));return Nr(e,U,s,n,o)}),nw=Cr(function(e,n){return Nr(e,ne,s,s,s,n)});function rw(e,n){if(typeof e!="function")throw new Jt(h);return n=n===s?n:pe(n),Se(e,n)}function iw(e,n){if(typeof e!="function")throw new Jt(h);return n=n==null?0:it(pe(n),0),Se(function(o){var c=o[n],g=vi(o,0,n);return c&&En(g,c),It(e,this,g)})}function sw(e,n,o){var c=!0,g=!0;if(typeof e!="function")throw new Jt(h);return tt(o)&&(c="leading"in o?!!o.leading:c,g="trailing"in o?!!o.trailing:g),np(e,n,{leading:c,maxWait:n,trailing:g})}function ow(e){return Zd(e,1)}function uw(e,n){return Kl(Pl(n),e)}function aw(){if(!arguments.length)return[];var e=arguments[0];return de(e)?e:[e]}function fw(e){return Ft(e,b)}function cw(e,n){return n=typeof n=="function"?n:s,Ft(e,b,n)}function lw(e){return Ft(e,v|b)}function hw(e,n){return n=typeof n=="function"?n:s,Ft(e,v|b,n)}function dw(e,n){return n==null||ka(e,n,bt(n))}function qn(e,n){return e===n||e!==e&&n!==n}var pw=La(Xo),gw=La(function(e,n){return e>=n}),ss=Ma(function(){return arguments}())?Ma:function(e){return st(e)&&Ce.call(e,"callee")&&!da.call(e,"callee")},de=L.isArray,_w=Xu?Ut(Xu):ml;function nn(e){return e!=null&&qa(e.length)&&!Ur(e)}function ct(e){return st(e)&&nn(e)}function yw(e){return e===!0||e===!1||st(e)&&At(e)==He}var Ei=ga||nh,ww=Co?Ut(Co):Sl;function mw(e){return st(e)&&e.nodeType===1&&!ru(e)}function Sw(e){if(e==null)return!0;if(nn(e)&&(de(e)||typeof e=="string"||typeof e.splice=="function"||Ei(e)||co(e)||ss(e)))return!e.length;var n=Ht(e);if(n==un||n==Ze)return!e.size;if(tu(e))return!p(e).length;for(var o in e)if(Ce.call(e,o))return!1;return!0}function vw(e,n){return ts(e,n)}function Ew(e,n,o){o=typeof o=="function"?o:s;var c=o?o(e,n):s;return c===s?ts(e,n,s,o):!!c}function Vl(e){if(!st(e))return!1;var n=At(e);return n==ut||n==Is||typeof e.message=="string"&&typeof e.name=="string"&&!ru(e)}function bw(e){return typeof e=="number"&&ji(e)}function Ur(e){if(!tt(e))return!1;var n=At(e);return n==As||n==Tu||n==ot||n==Yf}function ip(e){return typeof e=="number"&&e==pe(e)}function qa(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kt}function tt(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function st(e){return e!=null&&typeof e=="object"}var sp=Zu?Ut(Zu):Jo;function Tw(e,n){return e===n||fr(e,n,Hl(n))}function Ow(e,n,o){return o=typeof o=="function"?o:s,fr(e,n,Hl(n),o)}function kw(e){return op(e)&&e!=+e}function Iw(e){if(c_(e))throw new le(d);return ns(e)}function Aw(e){return e===null}function Pw(e){return e==null}function op(e){return typeof e=="number"||st(e)&&At(e)==Li}function ru(e){if(!st(e)||At(e)!=Un)return!1;var n=zs(e);if(n===null)return!0;var o=Ce.call(n,"constructor")&&n.constructor;return typeof o=="function"&&o instanceof o&&Vi.call(o)==Dc}var ql=Ju?Ut(Ju):ke;function xw(e){return ip(e)&&e>=-kt&&e<=kt}var up=Yi?Ut(Yi):i;function za(e){return typeof e=="string"||!de(e)&&st(e)&&At(e)==Er}function dn(e){return typeof e=="symbol"||st(e)&&At(e)==Ps}var co=Bn?Ut(Bn):a;function Mw(e){return e===s}function Nw(e){return st(e)&&Ht(e)==Zr}function Cw(e){return st(e)&&At(e)==Lt}var Rw=La(k),Uw=La(function(e,n){return e<=n});function ap(e){if(!e)return[];if(nn(e))return za(e)?Bt(e):tn(e);if(qi&&e[qi])return Ac(e[qi]());var n=Ht(e),o=n==un?Yo:n==Ze?li:lo;return o(e)}function Hr(e){if(!e)return e===0?e:0;if(e=Mn(e),e===Ye||e===-Ye){var n=e<0?-1:1;return n*jt}return e===e?e:0}function pe(e){var n=Hr(e),o=n%1;return n===n?o?n-o:n:0}function fp(e){return e?xr(pe(e),0,St):0}function Mn(e){if(typeof e=="number")return e;if(dn(e))return dt;if(tt(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=tt(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=ia(e);var o=jf.test(e);return o||Iu.test(e)?zu(e.slice(2),o?2:8):zf.test(e)?dt:+e}function cp(e){return cr(e,rn(e))}function Hw(e){return e?xr(pe(e),-kt,kt):e===0?e:0}function Le(e){return e==null?"":hn(e)}var Dw=uo(function(e,n){if(tu(n)||nn(n)){cr(n,bt(n),e);return}for(var o in n)Ce.call(n,o)&&es(e,o,n[o])}),lp=uo(function(e,n){cr(n,rn(n),e)}),ja=uo(function(e,n,o,c){cr(n,rn(n),e,c)}),Lw=uo(function(e,n,o,c){cr(n,bt(n),e,c)}),Bw=Cr(so);function Fw(e,n){var o=yi(e);return n==null?o:Vo(o,n)}var Ww=Se(function(e,n){e=me(e);var o=-1,c=n.length,g=c>2?n[2]:s;for(g&&Wt(n[0],n[1],g)&&(c=1);++o<c;)for(var m=n[o],E=rn(m),I=-1,P=E.length;++I<P;){var $=E[I],G=e[$];(G===s||qn(G,di[$])&&!Ce.call(e,$))&&(e[$]=m[$])}return e}),Yw=Se(function(e){return e.push(s,Ad),It(hp,s,e)});function $w(e,n){return ea(e,ue(n,3),On)}function Gw(e,n){return ea(e,ue(n,3),jo)}function Kw(e,n){return e==null?e:zo(e,ue(n,3),rn)}function Vw(e,n){return e==null?e:Pa(e,ue(n,3),rn)}function qw(e,n){return e&&On(e,ue(n,3))}function zw(e,n){return e&&jo(e,ue(n,3))}function jw(e){return e==null?[]:kn(e,bt(e))}function Xw(e){return e==null?[]:kn(e,rn(e))}function zl(e,n,o){var c=e==null?s:Mr(e,n);return c===s?o:c}function Zw(e,n){return e!=null&&Md(e,n,_l)}function jl(e,n){return e!=null&&Md(e,n,yl)}var Jw=bd(function(e,n,o){n!=null&&typeof n.toString!="function"&&(n=Ks.call(n)),e[n]=o},Zl(sn)),Qw=bd(function(e,n,o){n!=null&&typeof n.toString!="function"&&(n=Ks.call(n)),Ce.call(e,n)?e[n].push(o):e[n]=[o]},ue),em=Se(In);function bt(e){return nn(e)?io(e):p(e)}function rn(e){return nn(e)?io(e,!0):y(e)}function tm(e,n){var o={};return n=ue(n,3),On(e,function(c,g,m){Gn(o,n(c,g,m),c)}),o}function nm(e,n){var o={};return n=ue(n,3),On(e,function(c,g,m){Gn(o,g,n(c,g,m))}),o}var rm=uo(function(e,n,o){ye(e,n,o)}),hp=uo(function(e,n,o,c){ye(e,n,o,c)}),im=Cr(function(e,n){var o={};if(e==null)return o;var c=!1;n=Fe(n,function(m){return m=Si(m,e),c||(c=m.length>1),m}),cr(e,Rl(e),o),c&&(o=Ft(o,v|R|b,Jg));for(var g=n.length;g--;)kl(o,n[g]);return o});function sm(e,n){return dp(e,Va(ue(n)))}var om=Cr(function(e,n){return e==null?{}:Cg(e,n)});function dp(e,n){if(e==null)return{};var o=Fe(Rl(e),function(c){return[c]});return n=ue(n),id(e,o,function(c,g){return n(c,g[0])})}function um(e,n,o){n=Si(n,e);var c=-1,g=n.length;for(g||(g=1,e=s);++c<g;){var m=e==null?s:e[lr(n[c])];m===s&&(c=g,m=o),e=Ur(m)?m.call(e):m}return e}function am(e,n,o){return e==null?e:Qo(e,n,o)}function fm(e,n,o,c){return c=typeof c=="function"?c:s,e==null?e:Qo(e,n,o,c)}var pp=kd(bt),gp=kd(rn);function cm(e,n,o){var c=de(e),g=c||Ei(e)||co(e);if(n=ue(n,4),o==null){var m=e&&e.constructor;g?o=c?new m:[]:tt(e)?o=Ur(m)?yi(zs(e)):{}:o={}}return(g?rt:On)(e,function(E,I,P){return n(o,E,I,P)}),o}function lm(e,n){return e==null?!0:kl(e,n)}function hm(e,n,o){return e==null?e:fd(e,n,Pl(o))}function dm(e,n,o,c){return c=typeof c=="function"?c:s,e==null?e:fd(e,n,Pl(o),c)}function lo(e){return e==null?[]:Wo(e,bt(e))}function pm(e){return e==null?[]:Wo(e,rn(e))}function gm(e,n,o){return o===s&&(o=n,n=s),o!==s&&(o=Mn(o),o=o===o?o:0),n!==s&&(n=Mn(n),n=n===n?n:0),xr(Mn(e),n,o)}function _m(e,n,o){return n=Hr(n),o===s?(o=n,n=0):o=Hr(o),e=Mn(e),wl(e,n,o)}function ym(e,n,o){if(o&&typeof o!="boolean"&&Wt(e,n,o)&&(n=o=s),o===s&&(typeof n=="boolean"?(o=n,n=s):typeof e=="boolean"&&(o=e,e=s)),e===s&&n===s?(e=0,n=1):(e=Hr(e),n===s?(n=e,e=0):n=Hr(n)),e>n){var c=e;e=n,n=c}if(o||e%1||n%1){var g=wa();return et(e+g*(n-e+qu("1e-"+((g+"").length-1))),n)}return bl(e,n)}var wm=ao(function(e,n,o){return n=n.toLowerCase(),e+(o?_p(n):n)});function _p(e){return Xl(Le(e).toLowerCase())}function yp(e){return e=Le(e),e&&e.replace(ii,oa).replace(ac,"")}function mm(e,n,o){e=Le(e),n=hn(n);var c=e.length;o=o===s?c:xr(pe(o),0,c);var g=o;return o-=n.length,o>=0&&e.slice(o,g)==n}function Sm(e){return e=Le(e),e&&Cs.test(e)?e.replace(br,Tc):e}function vm(e){return e=Le(e),e&&De.test(e)?e.replace(Fi,"\\$&"):e}var Em=ao(function(e,n,o){return e+(o?"-":"")+n.toLowerCase()}),bm=ao(function(e,n,o){return e+(o?" ":"")+n.toLowerCase()}),Tm=Sd("toLowerCase");function Om(e,n,o){e=Le(e),n=pe(n);var c=n?sr(e):0;if(!n||c>=n)return e;var g=(n-c)/2;return Da(zi(g),o)+e+Da(Xs(g),o)}function km(e,n,o){e=Le(e),n=pe(n);var c=n?sr(e):0;return n&&c<n?e+Da(n-c,o):e}function Im(e,n,o){e=Le(e),n=pe(n);var c=n?sr(e):0;return n&&c<n?Da(n-c,o)+e:e}function Am(e,n,o){return o||n==null?n=0:n&&(n=+n),ya(Le(e).replace(Tr,""),n||0)}function Pm(e,n,o){return(o?Wt(e,n,o):n===s)?n=1:n=pe(n),Tl(Le(e),n)}function xm(){var e=arguments,n=Le(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var Mm=ao(function(e,n,o){return e+(o?"_":"")+n.toLowerCase()});function Nm(e,n,o){return o&&typeof o!="number"&&Wt(e,n,o)&&(n=o=s),o=o===s?St:o>>>0,o?(e=Le(e),e&&(typeof n=="string"||n!=null&&!ql(n))&&(n=hn(n),!n&&bn(e))?vi(Bt(e),0,o):e.split(n,o)):[]}var Cm=ao(function(e,n,o){return e+(o?" ":"")+Xl(n)});function Rm(e,n,o){return e=Le(e),o=o==null?0:xr(pe(o),0,e.length),n=hn(n),e.slice(o,o+n.length)==n}function Um(e,n,o){var c=w.templateSettings;o&&Wt(e,n,o)&&(n=s),e=Le(e),n=ja({},n,c,Id);var g=ja({},n.imports,c.imports,Id),m=bt(g),E=Wo(g,m),I,P,$=0,G=n.interpolate||nr,K="__p += '",J=Fn((n.escape||nr).source+"|"+G.source+"|"+(G===ku?Ln:nr).source+"|"+(n.evaluate||nr).source+"|$","g"),se="//# sourceURL="+(Ce.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++dc+"]")+`
`;e.replace(J,function(fe,Te,Ie,pn,Yt,gn){return Ie||(Ie=pn),K+=e.slice($,gn).replace(Au,Oc),Te&&(I=!0,K+=`' +
__e(`+Te+`) +
'`),Yt&&(P=!0,K+=`';
`+Yt+`;
__p += '`),Ie&&(K+=`' +
((__t = (`+Ie+`)) == null ? '' : __t) +
'`),$=gn+fe.length,fe}),K+=`';
`;var ae=Ce.call(n,"variable")&&n.variable;if(!ae)K=`with (obj) {
`+K+`
}
`;else if(at.test(ae))throw new le(_);K=(P?K.replace(Gf,""):K).replace(Ns,"$1").replace(Kf,"$1;"),K="function("+(ae||"obj")+`) {
`+(ae?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(P?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+K+`return __p
}`;var we=mp(function(){return xe(m,se+"return "+K).apply(s,E)});if(we.source=K,Vl(we))throw we;return we}function Hm(e){return Le(e).toLowerCase()}function Dm(e){return Le(e).toUpperCase()}function Lm(e,n,o){if(e=Le(e),e&&(o||n===s))return ia(e);if(!e||!(n=hn(n)))return e;var c=Bt(e),g=Bt(n),m=Ge(c,g),E=sa(c,g)+1;return vi(c,m,E).join("")}function Bm(e,n,o){if(e=Le(e),e&&(o||n===s))return e.slice(0,$s(e)+1);if(!e||!(n=hn(n)))return e;var c=Bt(e),g=sa(c,Bt(n))+1;return vi(c,0,g).join("")}function Fm(e,n,o){if(e=Le(e),e&&(o||n===s))return e.replace(Tr,"");if(!e||!(n=hn(n)))return e;var c=Bt(e),g=Ge(c,Bt(n));return vi(c,g).join("")}function Wm(e,n){var o=ie,c=Pe;if(tt(n)){var g="separator"in n?n.separator:g;o="length"in n?pe(n.length):o,c="omission"in n?hn(n.omission):c}e=Le(e);var m=e.length;if(bn(e)){var E=Bt(e);m=E.length}if(o>=m)return e;var I=o-sr(c);if(I<1)return c;var P=E?vi(E,0,I).join(""):e.slice(0,I);if(g===s)return P+c;if(E&&(I+=P.length-I),ql(g)){if(e.slice(I).search(g)){var $,G=P;for(g.global||(g=Fn(g.source,Le(tr.exec(g))+"g")),g.lastIndex=0;$=g.exec(G);)var K=$.index;P=P.slice(0,K===s?I:K)}}else if(e.indexOf(hn(g),I)!=I){var J=P.lastIndexOf(g);J>-1&&(P=P.slice(0,J))}return P+c}function Ym(e){return e=Le(e),e&&ko.test(e)?e.replace(ri,Mc):e}var $m=ao(function(e,n,o){return e+(o?" ":"")+n.toUpperCase()}),Xl=Sd("toUpperCase");function wp(e,n,o){return e=Le(e),n=o?s:n,n===s?Ic(e)?Rc(e):vc(e):e.match(n)||[]}var mp=Se(function(e,n){try{return It(e,s,n)}catch(o){return Vl(o)?o:new le(o)}}),Gm=Cr(function(e,n){return rt(n,function(o){o=lr(o),Gn(e,o,Gl(e[o],e))}),e});function Km(e){var n=e==null?0:e.length,o=ue();return e=n?Fe(e,function(c){if(typeof c[1]!="function")throw new Jt(h);return[o(c[0]),c[1]]}):[],Se(function(c){for(var g=-1;++g<n;){var m=e[g];if(It(m[0],this,c))return It(m[1],this,c)}})}function Vm(e){return qo(Ft(e,v))}function Zl(e){return function(){return e}}function qm(e,n){return e==null||e!==e?n:e}var zm=Ed(),jm=Ed(!0);function sn(e){return e}function Jl(e){return l(typeof e=="function"?e:Ft(e,v))}function Xm(e){return Q(Ft(e,v))}function Zm(e,n){return ce(e,Ft(n,v))}var Jm=Se(function(e,n){return function(o){return In(o,e,n)}}),Qm=Se(function(e,n){return function(o){return In(e,o,n)}});function Ql(e,n,o){var c=bt(n),g=kn(n,c);o==null&&!(tt(n)&&(g.length||!c.length))&&(o=n,n=e,e=this,g=kn(n,bt(n)));var m=!(tt(o)&&"chain"in o)||!!o.chain,E=Ur(e);return rt(g,function(I){var P=n[I];e[I]=P,E&&(e.prototype[I]=function(){var $=this.__chain__;if(m||$){var G=e(this.__wrapped__),K=G.__actions__=tn(this.__actions__);return K.push({func:P,args:arguments,thisArg:e}),G.__chain__=$,G}return P.apply(e,En([this.value()],arguments))})}),e}function e1(){return _t._===this&&(_t._=Lc),this}function eh(){}function t1(e){return e=pe(e),Se(function(n){return An(n,e)})}var n1=Ml(Fe),r1=Ml(Fs),i1=Ml(Ho);function Sp(e){return Ll(e)?Do(lr(e)):Rg(e)}function s1(e){return function(n){return e==null?s:Mr(e,n)}}var o1=Td(),u1=Td(!0);function th(){return[]}function nh(){return!1}function a1(){return{}}function f1(){return""}function c1(){return!0}function l1(e,n){if(e=pe(e),e<1||e>kt)return[];var o=St,c=et(e,St);n=ue(n),e-=St;for(var g=Fo(c,n);++o<e;)n(o);return g}function h1(e){return de(e)?Fe(e,lr):dn(e)?[e]:tn(Fd(Le(e)))}function d1(e){var n=++Hc;return Le(e)+n}var p1=Ha(function(e,n){return e+n},0),g1=Nl("ceil"),_1=Ha(function(e,n){return e/n},1),y1=Nl("floor");function w1(e){return e&&e.length?oo(e,sn,Xo):s}function m1(e,n){return e&&e.length?oo(e,ue(n,2),Xo):s}function S1(e){return kr(e,sn)}function v1(e,n){return kr(e,ue(n,2))}function E1(e){return e&&e.length?oo(e,sn,k):s}function b1(e,n){return e&&e.length?oo(e,ue(n,2),k):s}var T1=Ha(function(e,n){return e*n},1),O1=Nl("round"),k1=Ha(function(e,n){return e-n},0);function I1(e){return e&&e.length?Bo(e,sn):0}function A1(e,n){return e&&e.length?Bo(e,ue(n,2)):0}return w.after=Xy,w.ary=Zd,w.assign=Dw,w.assignIn=lp,w.assignInWith=ja,w.assignWith=Lw,w.at=Bw,w.before=Jd,w.bind=Gl,w.bindAll=Gm,w.bindKey=Qd,w.castArray=aw,w.chain=zd,w.chunk=y_,w.compact=w_,w.concat=m_,w.cond=Km,w.conforms=Vm,w.constant=Zl,w.countBy=Iy,w.create=Fw,w.curry=ep,w.curryRight=tp,w.debounce=np,w.defaults=Ww,w.defaultsDeep=Yw,w.defer=Zy,w.delay=Jy,w.difference=S_,w.differenceBy=v_,w.differenceWith=E_,w.drop=b_,w.dropRight=T_,w.dropRightWhile=O_,w.dropWhile=k_,w.fill=I_,w.filter=Py,w.flatMap=Ny,w.flatMapDeep=Cy,w.flatMapDepth=Ry,w.flatten=Gd,w.flattenDeep=A_,w.flattenDepth=P_,w.flip=Qy,w.flow=zm,w.flowRight=jm,w.fromPairs=x_,w.functions=jw,w.functionsIn=Xw,w.groupBy=Uy,w.initial=N_,w.intersection=C_,w.intersectionBy=R_,w.intersectionWith=U_,w.invert=Jw,w.invertBy=Qw,w.invokeMap=Dy,w.iteratee=Jl,w.keyBy=Ly,w.keys=bt,w.keysIn=rn,w.map=$a,w.mapKeys=tm,w.mapValues=nm,w.matches=Xm,w.matchesProperty=Zm,w.memoize=Ka,w.merge=rm,w.mergeWith=hp,w.method=Jm,w.methodOf=Qm,w.mixin=Ql,w.negate=Va,w.nthArg=t1,w.omit=im,w.omitBy=sm,w.once=ew,w.orderBy=By,w.over=n1,w.overArgs=tw,w.overEvery=r1,w.overSome=i1,w.partial=Kl,w.partialRight=rp,w.partition=Fy,w.pick=om,w.pickBy=dp,w.property=Sp,w.propertyOf=s1,w.pull=B_,w.pullAll=Vd,w.pullAllBy=F_,w.pullAllWith=W_,w.pullAt=Y_,w.range=o1,w.rangeRight=u1,w.rearg=nw,w.reject=$y,w.remove=$_,w.rest=rw,w.reverse=Yl,w.sampleSize=Ky,w.set=am,w.setWith=fm,w.shuffle=Vy,w.slice=G_,w.sortBy=jy,w.sortedUniq=Z_,w.sortedUniqBy=J_,w.split=Nm,w.spread=iw,w.tail=Q_,w.take=ey,w.takeRight=ty,w.takeRightWhile=ny,w.takeWhile=ry,w.tap=wy,w.throttle=sw,w.thru=Ya,w.toArray=ap,w.toPairs=pp,w.toPairsIn=gp,w.toPath=h1,w.toPlainObject=cp,w.transform=cm,w.unary=ow,w.union=iy,w.unionBy=sy,w.unionWith=oy,w.uniq=uy,w.uniqBy=ay,w.uniqWith=fy,w.unset=lm,w.unzip=$l,w.unzipWith=qd,w.update=hm,w.updateWith=dm,w.values=lo,w.valuesIn=pm,w.without=cy,w.words=wp,w.wrap=uw,w.xor=ly,w.xorBy=hy,w.xorWith=dy,w.zip=py,w.zipObject=gy,w.zipObjectDeep=_y,w.zipWith=yy,w.entries=pp,w.entriesIn=gp,w.extend=lp,w.extendWith=ja,Ql(w,w),w.add=p1,w.attempt=mp,w.camelCase=wm,w.capitalize=_p,w.ceil=g1,w.clamp=gm,w.clone=fw,w.cloneDeep=lw,w.cloneDeepWith=hw,w.cloneWith=cw,w.conformsTo=dw,w.deburr=yp,w.defaultTo=qm,w.divide=_1,w.endsWith=mm,w.eq=qn,w.escape=Sm,w.escapeRegExp=vm,w.every=Ay,w.find=xy,w.findIndex=Yd,w.findKey=$w,w.findLast=My,w.findLastIndex=$d,w.findLastKey=Gw,w.floor=y1,w.forEach=jd,w.forEachRight=Xd,w.forIn=Kw,w.forInRight=Vw,w.forOwn=qw,w.forOwnRight=zw,w.get=zl,w.gt=pw,w.gte=gw,w.has=Zw,w.hasIn=jl,w.head=Kd,w.identity=sn,w.includes=Hy,w.indexOf=M_,w.inRange=_m,w.invoke=em,w.isArguments=ss,w.isArray=de,w.isArrayBuffer=_w,w.isArrayLike=nn,w.isArrayLikeObject=ct,w.isBoolean=yw,w.isBuffer=Ei,w.isDate=ww,w.isElement=mw,w.isEmpty=Sw,w.isEqual=vw,w.isEqualWith=Ew,w.isError=Vl,w.isFinite=bw,w.isFunction=Ur,w.isInteger=ip,w.isLength=qa,w.isMap=sp,w.isMatch=Tw,w.isMatchWith=Ow,w.isNaN=kw,w.isNative=Iw,w.isNil=Pw,w.isNull=Aw,w.isNumber=op,w.isObject=tt,w.isObjectLike=st,w.isPlainObject=ru,w.isRegExp=ql,w.isSafeInteger=xw,w.isSet=up,w.isString=za,w.isSymbol=dn,w.isTypedArray=co,w.isUndefined=Mw,w.isWeakMap=Nw,w.isWeakSet=Cw,w.join=H_,w.kebabCase=Em,w.last=xn,w.lastIndexOf=D_,w.lowerCase=bm,w.lowerFirst=Tm,w.lt=Rw,w.lte=Uw,w.max=w1,w.maxBy=m1,w.mean=S1,w.meanBy=v1,w.min=E1,w.minBy=b1,w.stubArray=th,w.stubFalse=nh,w.stubObject=a1,w.stubString=f1,w.stubTrue=c1,w.multiply=T1,w.nth=L_,w.noConflict=e1,w.noop=eh,w.now=Ga,w.pad=Om,w.padEnd=km,w.padStart=Im,w.parseInt=Am,w.random=ym,w.reduce=Wy,w.reduceRight=Yy,w.repeat=Pm,w.replace=xm,w.result=um,w.round=O1,w.runInContext=A,w.sample=Gy,w.size=qy,w.snakeCase=Mm,w.some=zy,w.sortedIndex=K_,w.sortedIndexBy=V_,w.sortedIndexOf=q_,w.sortedLastIndex=z_,w.sortedLastIndexBy=j_,w.sortedLastIndexOf=X_,w.startCase=Cm,w.startsWith=Rm,w.subtract=k1,w.sum=I1,w.sumBy=A1,w.template=Um,w.times=l1,w.toFinite=Hr,w.toInteger=pe,w.toLength=fp,w.toLower=Hm,w.toNumber=Mn,w.toSafeInteger=Hw,w.toString=Le,w.toUpper=Dm,w.trim=Lm,w.trimEnd=Bm,w.trimStart=Fm,w.truncate=Wm,w.unescape=Ym,w.uniqueId=d1,w.upperCase=$m,w.upperFirst=Xl,w.each=jd,w.eachRight=Xd,w.first=Kd,Ql(w,function(){var e={};return On(w,function(n,o){Ce.call(w.prototype,o)||(e[o]=n)}),e}(),{chain:!1}),w.VERSION=u,rt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){w[e].placeholder=w}),rt(["drop","take"],function(e,n){_e.prototype[e]=function(o){o=o===s?1:it(pe(o),0);var c=this.__filtered__&&!n?new _e(this):this.clone();return c.__filtered__?c.__takeCount__=et(o,c.__takeCount__):c.__views__.push({size:et(o,St),type:e+(c.__dir__<0?"Right":"")}),c},_e.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}}),rt(["filter","map","takeWhile"],function(e,n){var o=n+1,c=o==he||o==Ne;_e.prototype[e]=function(g){var m=this.clone();return m.__iteratees__.push({iteratee:ue(g,3),type:o}),m.__filtered__=m.__filtered__||c,m}}),rt(["head","last"],function(e,n){var o="take"+(n?"Right":"");_e.prototype[e]=function(){return this[o](1).value()[0]}}),rt(["initial","tail"],function(e,n){var o="drop"+(n?"":"Right");_e.prototype[e]=function(){return this.__filtered__?new _e(this):this[o](1)}}),_e.prototype.compact=function(){return this.filter(sn)},_e.prototype.find=function(e){return this.filter(e).head()},_e.prototype.findLast=function(e){return this.reverse().find(e)},_e.prototype.invokeMap=Se(function(e,n){return typeof e=="function"?new _e(this):this.map(function(o){return In(o,e,n)})}),_e.prototype.reject=function(e){return this.filter(Va(ue(e)))},_e.prototype.slice=function(e,n){e=pe(e);var o=this;return o.__filtered__&&(e>0||n<0)?new _e(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),n!==s&&(n=pe(n),o=n<0?o.dropRight(-n):o.take(n-e)),o)},_e.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},_e.prototype.toArray=function(){return this.take(St)},On(_e.prototype,function(e,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),c=/^(?:head|last)$/.test(n),g=w[c?"take"+(n=="last"?"Right":""):n],m=c||/^find/.test(n);g&&(w.prototype[n]=function(){var E=this.__wrapped__,I=c?[1]:arguments,P=E instanceof _e,$=I[0],G=P||de(E),K=function(Te){var Ie=g.apply(w,En([Te],I));return c&&J?Ie[0]:Ie};G&&o&&typeof $=="function"&&$.length!=1&&(P=G=!1);var J=this.__chain__,se=!!this.__actions__.length,ae=m&&!J,we=P&&!se;if(!m&&G){E=we?E:new _e(this);var fe=e.apply(E,I);return fe.__actions__.push({func:Ya,args:[K],thisArg:s}),new Qt(fe,J)}return ae&&we?e.apply(this,I):(fe=this.thru(K),ae?c?fe.value()[0]:fe.value():fe)})}),rt(["pop","push","shift","sort","splice","unshift"],function(e){var n=Ki[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",c=/^(?:pop|shift)$/.test(e);w.prototype[e]=function(){var g=arguments;if(c&&!this.__chain__){var m=this.value();return n.apply(de(m)?m:[],g)}return this[o](function(E){return n.apply(de(E)?E:[],g)})}}),On(_e.prototype,function(e,n){var o=w[n];if(o){var c=o.name+"";Ce.call(_i,c)||(_i[c]=[]),_i[c].push({name:n,func:o})}}),_i[Ua(s,z).name]=[{name:"wrapper",func:s}],_e.prototype.clone=jc,_e.prototype.reverse=Xc,_e.prototype.value=Zc,w.prototype.at=my,w.prototype.chain=Sy,w.prototype.commit=vy,w.prototype.next=Ey,w.prototype.plant=Ty,w.prototype.reverse=Oy,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=ky,w.prototype.first=w.prototype.head,qi&&(w.prototype[qi]=by),w},hi=Uc();rr?((rr.exports=hi)._=hi,No._=hi):_t._=hi}).call(go)})(Ef,Ef.exports);var nb=Ef.exports;const rb=w0(nb),{debounce:ib}=rb,sb=ib((t,r,s,u,f)=>{ob(t,r,s,u).then(d=>{f(d)})},300);async function ob(t,r,s,u){let f="",d="",h=!0,_=!0,S="";if(!r)return{nameErrorMessage:"No name provided"};if(r.split(" ").length>1)return{nameErrorMessage:"Only one name is allowed"};if(r.length>3){const T=await tb(t,r);if(console.log("res",T),T&&T.length>0){for(let O of T){const v=O.scriptPubKey;v&&v.nameOp&&(S=v.addresses[0])}return f=`Name "${r}" already registered under address ${S}`,h=!1,{currentNameAddress:S,nameErrorMessage:f,utxoErrorMessage:d,isNameValid:h,isUTXOAddressValid:_}}else return s<=F1.toSatoshi(u)?(d=`Funds on ${S} are insufficient for this Doichain name`,_=!1,{nameErrorMessage:f,utxoErrorMessage:d,isNameValid:h,isUTXOAddressValid:_}):void 0}else return f=`Name "${r}" is too short`,h=!1,{nameErrorMessage:f,currentNameAddress:S,utxoErrorMessage:d,isNameValid:h,isUTXOAddressValid:_}}function ub(t){let r,s='<svg class="h-5 w-5 text-green-500" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg>';return{c(){r=Re("div"),r.innerHTML=s,this.h()},l(u){r=Ue(u,"DIV",{class:!0,"data-svelte-h":!0}),Xn(r)!=="svelte-h9e01i"&&(r.innerHTML=s),this.h()},h(){oe(r,"class","input-icon svelte-x7ub4h")},m(u,f){Gr(u,r,f)},d(u){u&&We(r)}}}function ab(t){let r,s='<svg class="h-5 w-5 text-red-500" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg>';return{c(){r=Re("div"),r.innerHTML=s,this.h()},l(u){r=Ue(u,"DIV",{class:!0,"data-svelte-h":!0}),Xn(r)!=="svelte-11a2gvm"&&(r.innerHTML=s),this.h()},h(){oe(r,"class","input-icon svelte-x7ub4h")},m(u,f){Gr(u,r,f)},d(u){u&&We(r)}}}function fb(t){let r,s,u;return{c(){r=Re("p"),s=hf("Address: "),u=hf(t[4]),this.h()},l(f){r=Ue(f,"P",{class:!0,id:!0});var d=Mi(r);s=df(d,"Address: "),u=df(d,t[4]),d.forEach(We),this.h()},h(){oe(r,"class","mt-2 text-sm text-green-600"),oe(r,"id","name-success")},m(f,d){Gr(f,r,d),ve(r,s),ve(r,u)},p(f,d){d&16&&Mh(u,f[4])},d(f){f&&We(r)}}}function cb(t){let r,s;return{c(){r=Re("p"),s=hf(t[3]),this.h()},l(u){r=Ue(u,"P",{class:!0,id:!0});var f=Mi(r);s=df(f,t[3]),f.forEach(We),this.h()},h(){oe(r,"class","mt-2 text-sm text-red-600"),oe(r,"id","name-error")},m(u,f){Gr(u,r,f),ve(r,s)},p(u,f){f&8&&Mh(s,u[3])},d(u){u&&We(r)}}}function lb(t){let r,s,u="Check your Doichain Name",f,d,h,_,S,T,O,v,R,b,H,D,C;function z(q,ne){if(!q[2])return ab;if(q[0])return ub}let Z=z(t),x=Z&&Z(t);function N(q,ne){if(!q[2])return cb;if(q[0])return fb}let W=N(t),U=W&&W(t);return{c(){r=Re("div"),s=Re("label"),s.textContent=u,f=_n(),d=Re("div"),h=Re("input"),T=_n(),x&&x.c(),O=_n(),U&&U.c(),v=_n(),R=Re("p"),b=hf(t[5]),this.h()},l(q){r=Ue(q,"DIV",{});var ne=Mi(r);s=Ue(ne,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xn(s)!=="svelte-vqcavj"&&(s.textContent=u),f=yn(ne),d=Ue(ne,"DIV",{class:!0});var V=Mi(d);h=Ue(V,"INPUT",{name:!0,id:!0,type:!0,class:!0,placeholder:!0,"aria-invalid":!0,"aria-describedby":!0}),T=yn(V),x&&x.l(V),V.forEach(We),O=yn(ne),U&&U.l(ne),v=yn(ne),R=Ue(ne,"P",{class:!0});var ie=Mi(R);b=df(ie,t[5]),ie.forEach(We),ne.forEach(We),this.h()},h(){oe(s,"for","name"),oe(s,"class","block text-sm font-medium leading-6 text-gray-900"),oe(h,"name","name"),oe(h,"id","name"),oe(h,"type","text"),oe(h,"class",_="input "+(t[2]?"":"input-error")),oe(h,"placeholder","name"),oe(h,"aria-invalid",S=!t[2]),oe(h,"aria-describedby","name-error"),oe(d,"class","relative mt-2 rounded-md shadow-sm"),oe(R,"class",H="mt-2 text-sm font-semibold tracking-tight server-status "+(t[1]?"connected":"")+" svelte-x7ub4h")},m(q,ne){Gr(q,r,ne),ve(r,s),ve(r,f),ve(r,d),ve(d,h),Tp(h,t[0]),ve(d,T),x&&x.m(d,null),ve(r,O),U&&U.m(r,null),ve(r,v),ve(r,R),ve(R,b),D||(C=P1(h,"input",t[10]),D=!0)},p(q,[ne]){ne&4&&_!==(_="input "+(q[2]?"":"input-error"))&&oe(h,"class",_),ne&4&&S!==(S=!q[2])&&oe(h,"aria-invalid",S),ne&1&&h.value!==q[0]&&Tp(h,q[0]),Z!==(Z=z(q))&&(x&&x.d(1),x=Z&&Z(q),x&&(x.c(),x.m(d,null))),W===(W=N(q))&&U?U.p(q,ne):(U&&U.d(1),U=W&&W(q),U&&(U.c(),U.m(r,v))),ne&32&&Mh(b,q[5]),ne&2&&H!==(H="mt-2 text-sm font-semibold tracking-tight server-status "+(q[1]?"connected":"")+" svelte-x7ub4h")&&oe(R,"class",H)},i:Ep,o:Ep,d(q){q&&We(r),x&&x.d(),U&&U.d(),D=!1,C()}}}function hb(t,r,s){let u,f,d;bp(t,W1,D=>s(8,f=D)),bp(t,Y1,D=>s(9,d=D));let{name:h=""}=r,{totalUtxoValue:_=0}=r,{totalAmount:S=0}=r,T=!1,O=!0,v="",R=localStorage.getItem("doichainAddress")||"";async function b(D){s(4,R=D.currentNameAddress||R),s(2,O=D.isNameValid),s(3,v=D.nameErrorMessage)}function H(){h=this.value,s(0,h)}return t.$$set=D=>{"name"in D&&s(0,h=D.name),"totalUtxoValue"in D&&s(6,_=D.totalUtxoValue),"totalAmount"in D&&s(7,S=D.totalAmount)},t.$$.update=()=>{t.$$.dirty&512&&s(1,{isConnected:T,serverName:u}=D1(d),T,(s(5,u),s(9,d))),t.$$.dirty&2&&console.log("isConnected",T),t.$$.dirty&449&&h&&sb(f,h,_,S,b)},[h,T,O,v,R,u,_,S,f,d,H]}class db extends _0{constructor(r){super(),y0(this,r,hb,lb,g0,{name:0,totalUtxoValue:6,totalAmount:7})}}function pb(t){let r,s,u,f,d,h,_,S,T,O,v,R,b,H,D=`<meta charset="UTF-8"/> <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <title>Doichain - Simplified Name-Value Storage</title> <link rel="icon" href="https://www.doichain.org/wp-content/uploads/2024/05/bildmarke.png" sizes="32x32"/> <link rel="icon" href="https://www.doichain.org/wp-content/uploads/2024/05/bildmarke.png" sizes="192x192"/> <link rel="apple-touch-icon" href="https://www.doichain.org/wp-content/uploads/2024/05/bildmarke.png"/> <meta name="msapplication-TileImage" content="https://www.doichain.org/wp-content/uploads/2024/05/bildmarke.png"/> <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;700&amp;display=swap" rel="stylesheet"/> <style>body {
			font-family: 'Lexend', sans-serif;
		}</style>`,C,z,Z,x,N,W='<div class="bg-gray-900 rounded-full p-4"><img src="/doichain_logo-min.svg" alt="Doichain Logo" class="h-16"/></div>',U,q,ne="Meet Doichain:",V,ie,Pe="Simplified name-value storage",Y,X,he="The Doichain network is like Bitcoin: Just for names.",Oe,Ne,Ye=`Doichain names have many applications: from securing fingerprints of documents and decentralized email-double-opt-ins to
			trading non-fungible-coins for renewable-energy-proofs and digital art.`,kt,jt,dt=`Smooth name transaction setup, quick to find.
			Doichain leverages CO2-neutral, merge-mine-PoW of Bitcoin.`,St,Xt,vr,Rt,re='<div class="px-7 bg-white shadow-lg rounded-2xl mb-5 max-w-md w-full"><div class="flex"><div class="flex-auto group"><a href="#/" class="nav-link flex items-center justify-center text-center mx-auto px-4 py-2 text-gray-900 hover:bg-gray-200 rounded-full transition duration-300 ease-in-out svelte-1y5enp4"><span class="block">Discover</span></a></div> <div class="flex-auto group"><a href="#/use" class="nav-link flex items-center justify-center text-center mx-auto px-4 py-2 text-gray-900 hover:bg-gray-200 rounded-full transition duration-300 ease-in-out svelte-1y5enp4"><span class="block">Use</span></a></div> <div class="flex-auto group"><a href="#/build" class="nav-link flex items-center justify-center text-center mx-auto px-4 py-2 text-gray-900 hover:bg-gray-200 rounded-full transition duration-300 ease-in-out svelte-1y5enp4"><span class="block">Build</span></a></div> <div class="flex-auto group"><a href="#/get-funded" class="nav-link flex items-center justify-center text-center mx-auto px-4 py-2 text-gray-900 hover:bg-gray-200 rounded-full transition duration-300 ease-in-out svelte-1y5enp4"><span class="block">Get Funded</span></a></div></div></div>',Sn;return document.title=r=t[0]+" 0.0.3",Xt=new db({}),{c(){s=Re("link"),u=Re("meta"),f=Re("meta"),d=Re("meta"),h=Re("meta"),_=Re("meta"),S=Re("meta"),T=Re("meta"),O=Re("meta"),v=Re("meta"),R=Re("meta"),b=_n(),H=Re("head"),H.innerHTML=D,C=_n(),z=Re("body"),Z=Re("section"),x=Re("div"),N=Re("div"),N.innerHTML=W,U=_n(),q=Re("h1"),q.textContent=ne,V=_n(),ie=Re("h1"),ie.textContent=Pe,Y=_n(),X=Re("p"),X.textContent=he,Oe=_n(),Ne=Re("p"),Ne.textContent=Ye,kt=_n(),jt=Re("p"),jt.textContent=dt,St=_n(),x1(Xt.$$.fragment),vr=_n(),Rt=Re("section"),Rt.innerHTML=re,this.h()},l(ot){const He=M1("svelte-15qbbd4",document.head);s=Ue(He,"LINK",{rel:!0,type:!0,href:!0}),u=Ue(He,"META",{property:!0,content:!0}),f=Ue(He,"META",{property:!0,content:!0}),d=Ue(He,"META",{property:!0,content:!0}),h=Ue(He,"META",{property:!0,content:!0}),_=Ue(He,"META",{property:!0,content:!0}),S=Ue(He,"META",{name:!0,content:!0}),T=Ue(He,"META",{name:!0,content:!0}),O=Ue(He,"META",{name:!0,content:!0}),v=Ue(He,"META",{name:!0,content:!0}),R=Ue(He,"META",{name:!0,content:!0}),He.forEach(We),b=yn(ot),H=Ue(ot,"HEAD",{"data-svelte-h":!0}),Xn(H)!=="svelte-15x2y94"&&(H.innerHTML=D),C=yn(ot),z=Ue(ot,"BODY",{class:!0});var on=Mi(z);Z=Ue(on,"SECTION",{class:!0});var Is=Mi(Z);x=Ue(Is,"DIV",{class:!0});var ut=Mi(x);N=Ue(ut,"DIV",{class:!0,"data-svelte-h":!0}),Xn(N)!=="svelte-n6ok2q"&&(N.innerHTML=W),U=yn(ut),q=Ue(ut,"H1",{class:!0,"data-svelte-h":!0}),Xn(q)!=="svelte-twp1oi"&&(q.textContent=ne),V=yn(ut),ie=Ue(ut,"H1",{class:!0,"data-svelte-h":!0}),Xn(ie)!=="svelte-1bmho0e"&&(ie.textContent=Pe),Y=yn(ut),X=Ue(ut,"P",{class:!0,"data-svelte-h":!0}),Xn(X)!=="svelte-pk3dm8"&&(X.textContent=he),Oe=yn(ut),Ne=Ue(ut,"P",{class:!0,"data-svelte-h":!0}),Xn(Ne)!=="svelte-1jvp6ej"&&(Ne.textContent=Ye),kt=yn(ut),jt=Ue(ut,"P",{class:!0,"data-svelte-h":!0}),Xn(jt)!=="svelte-17xoikj"&&(jt.textContent=dt),St=yn(ut),N1(Xt.$$.fragment,ut),ut.forEach(We),Is.forEach(We),vr=yn(on),Rt=Ue(on,"SECTION",{class:!0,"data-svelte-h":!0}),Xn(Rt)!=="svelte-1ee558l"&&(Rt.innerHTML=re),on.forEach(We),this.h()},h(){oe(s,"rel","icon"),oe(s,"type","image/svg"),oe(s,"href",_b),oe(u,"property","og:type"),oe(u,"content","article"),oe(f,"property","og:title"),oe(f,"content",t[0]),oe(d,"property","og:description"),oe(d,"content",of),oe(h,"property","og:image"),oe(h,"content",p0),oe(_,"property","og:url"),oe(_,"content",gb),oe(S,"name","description"),oe(S,"content",of),oe(T,"name","twitter:card"),oe(T,"content",of),oe(O,"name","twitter:title"),oe(O,"content",t[0]),oe(v,"name","twitter:description"),oe(v,"content",of),oe(R,"name","twitter:image"),oe(R,"content",p0),oe(N,"class","flex justify-center mb-12"),oe(q,"class","text-6xl font-medium mb-2 tracking-tight"),oe(ie,"class","text-3xl font-mediumtext-gray-600 mb-12"),oe(X,"class","text-xl mb-6 max-w-2xl mx-auto leading-relaxed"),oe(Ne,"class","text-xl mb-12 max-w-2xl mx-auto leading-relaxed"),oe(jt,"class","text-xl mb-6 max-w-2xl mx-auto leading-relaxed"),oe(x,"class","text-center max-w-4xl mx-auto px-4"),oe(Z,"class","flex items-center justify-center flex-grow"),oe(Rt,"class","flex justify-center items-center pb-8"),oe(z,"class","bg-white text-gray-900 flex flex-col min-h-screen svelte-1y5enp4")},m(ot,He){ve(document.head,s),ve(document.head,u),ve(document.head,f),ve(document.head,d),ve(document.head,h),ve(document.head,_),ve(document.head,S),ve(document.head,T),ve(document.head,O),ve(document.head,v),ve(document.head,R),Gr(ot,b,He),Gr(ot,H,He),Gr(ot,C,He),Gr(ot,z,He),ve(z,Z),ve(Z,x),ve(x,N),ve(x,U),ve(x,q),ve(x,V),ve(x,ie),ve(x,Y),ve(x,X),ve(x,Oe),ve(x,Ne),ve(x,kt),ve(x,jt),ve(x,St),C1(Xt,x,null),ve(z,vr),ve(z,Rt),Sn=!0},p(ot,[He]){(!Sn||He&1)&&r!==(r=ot[0]+" 0.0.3")&&(document.title=r)},i(ot){Sn||(R1(Xt.$$.fragment,ot),Sn=!0)},o(ot){U1(Xt.$$.fragment,ot),Sn=!1},d(ot){ot&&(We(b),We(H),We(C),We(z)),We(s),We(u),We(f),We(d),We(h),We(_),We(S),We(T),We(O),We(v),We(R),H1(Xt)}}}let of="A name registration service for Doichain";const gb="ipns://name-on-chain.com";let p0="/nasa-Q1p7bh3SHj8-unsplash.jpg";const _b="./favicon.ico";function yb(t){return["Doichain.org names on chain"]}class Ob extends _0{constructor(r){super(),y0(this,r,yb,pb,g0,{})}}export{Ob as component,bb as universal};
